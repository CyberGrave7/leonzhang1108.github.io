webpackJsonp([1],{10:function(t,e,n){n(36);var o=n(8)(n(43),n(33),null,null);t.exports=o.exports},11:function(t,e,n){"use strict";var o=n(2),i=n.n(o),a=n(38),s=n(9);n.n(s);i.a.use(a.a),e.a=new a.a({routes:[]})},32:function(t,e,n){n(37);var o=n(8)(n(44),n(34),null,null);t.exports=o.exports},33:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("todolist")],1)},staticRenderFns:[]}},34:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"weui-cell weui-cell_vcode"},[t._m(0),t._v(" "),n("div",{staticClass:"weui-cell__ft"},[n("button",{staticClass:"weui-vcode-btn",on:{click:t.addToContent}},[t._v("add")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isInEdit,expression:"isInEdit"}],staticClass:"mask",class:t.isInEdit?"in-edit":"",on:{click:t.clickToSee}}),t._v(" "),n("div",{staticClass:"todo-form"},[n("transition-group",{attrs:{name:"changing",tag:"div"}},t._l(t.todoList,function(e){return n("div",{key:e,staticClass:"todo-menu-item",class:[{done:e.checked},{editable:e.editable}],on:{click:t.clickToSee,touchmove:t.touchmove,touchstart:t.touchstart,touchend:t.touchend}},[n("div",{staticClass:"item-check item-side"},[t._v("√")]),t._v(" "),n("div",{staticClass:"item-content"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editable,expression:"!item.editable"}],staticClass:"content-show",on:{click:t.clickToEdit}},[t._v(t._s(e.content))]),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.editable,expression:"item.editable"},{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"content-input",attrs:{type:"text"},domProps:{value:e.content},on:{click:t.clickToStop,input:function(t){t.target.composing||(e.content=t.target.value)}}})]),t._v(" "),n("div",{staticClass:"item-delete item-side"},[t._v("X")])])}))],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weui-cell__bd"},[n("input",{staticClass:"weui-input",attrs:{id:"newContent",type:"text",placeholder:"填写记录"}})])}]}},36:function(t,e){},37:function(t,e){},43:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),i=n.n(o),a=n(14),s=(n.n(a),n(12)),c=n.n(s);window.$=c.a;e.default={components:{todolist:i.a}}},44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),i=n.n(o),a=n(9);n.n(a);e.default={data:function(){return{todoList:localStorage.getItem("datas")?JSON.parse(localStorage.getItem("datas")):[{content:"上方添加",checked:!1,editable:!1},{content:"未完成右滑动变已完成",checked:!1,editable:!1},{content:"已完成右滑动变未完成",checked:!1,editable:!1},{content:"左滑删除",checked:!1,editable:!1},{content:"点击文字编辑，已完成不可编辑",checked:!1,editable:!1}]}},computed:{isInEdit:function(){return this.todoList.some(function(t){return t.editable})}},created:function(){},methods:{setLocalstorage:function(){localStorage.setItem("datas",i()(this.todoList))},addToContent:function(){$(".weui-cell.weui-cell_vcode").removeClass("invalid"),$("#newContent").val()?(this.todoList.unshift({content:$("#newContent").val(),checked:!1,editable:!1}),$("#newContent").val("")):$(".weui-cell.weui-cell_vcode").addClass("invalid"),$("#newContent").focus(),this.setLocalstorage()},clickToEdit:function(t){var e=$(t.target).parents(".todo-menu-item");if(!e.hasClass("done")){this.clickToSee();var n=e.index();this.todoList[n].editable=!0,$(t.target).siblings("input").show().focus();var o=60-Number($(t.target).offset().top);e.css({"margin-top":o+"px"}),e.next().css({"margin-top":-o+"px"}),t.stopPropagation()}},clickToSee:function(){this.todoList.some(function(t){return!t.content})||(this.todoList.forEach(function(t){t.editable=!1}),$(".todo-menu-item").css({"margin-top":0}),this.setLocalstorage())},clickToStop:function(t){t.stopPropagation()},findTarget:function(t){return $(t.target).hasClass("item-content")?$(t.target):$(t.target).parents(".item-content")},touchstart:function(t){var e=this.findTarget(t),n=e.parent();e.data("currentLocation",t.targetTouches[0].pageX),n.addClass("clicked")},touchmove:function(t){var e=this.findTarget(t),n=(e.parent(),Number(e.data("currentLocation"))),o=t.targetTouches[0].pageX,i=o-n;i<-80&&(i=(-80+i)/2),i>80&&(i=(80+i)/2),e[0].parentNode.style.WebkitTransform="translateX("+i+"px)",e.data("movingTranslateX",i)},touchend:function(t){var e=this,n=this.findTarget(t),o=n.parent();o.removeClass("clicked");var i=Number(n.data("movingTranslateX"));if(i<=-80){n.data("movingTranslateX",0);var a=o.index();o.addClass("removing"),this.todoList.splice(a,1),setTimeout(function(){o.removeClass("removing"),e.setLocalstorage(),console.log("remove")},1e3)}else if(i>=80){n.data("movingTranslateX",0);var a=o.index();this.todoList[a].content&&(this.todoList[a].checked=!this.todoList[a].checked,setTimeout(function(){e.todoList[a].checked?e.todoList.push(e.todoList.splice(a,1)[0]):e.todoList.unshift(e.todoList.splice(a,1)[0]),e.setLocalstorage()},500))}n[0].parentNode.style.WebkitTransform="translateX(0)"}}}},45:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n.n(o),a=n(10),s=n.n(a),c=n(11);i.a.config.productionTip=!1,new i.a({el:"#app",router:c.a,template:"<App/>",components:{App:s.a}})},9:function(t,e){}},[45]);
//# sourceMappingURL=app.5a120b42859260a3cb8f.js.map