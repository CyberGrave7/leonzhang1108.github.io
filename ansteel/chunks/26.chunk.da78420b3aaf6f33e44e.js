webpackJsonp([26,28],{91:function(t,e,a){var i,s;i=a(92),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},92:function(t,e,a){(function(e){"use strict";t.exports={methods:{form:function(t){var a=[];e.each(t.component.$children,function(t,i){i.$el.className&&i.$el.className.indexOf("vue-form")>=0&&e.each(i.$children,function(t,e){a.push(ES.ui.get(e.$el.id))})});var i=function(t){if(t=t||{},t.el){var a="#"+t.el,i=e(a);i.addClass("form-wrap");var s=t.items;this.id=t.el,this.customer_validate=t.validate,this.validate=function(){this.clear_invalid();for(var t=!0,e=0;e<this.items.length;e++)if("popup-tips"==this.items[e].msg_type){if(!this.items[e].validate()){t=!1;break}t=!0}else t=this.items[e].validate()&&t;return t&&this.customer_validate&&(t=this.customer_validate()),t},this.clear_invalid=function(){for(var t=0;t<this.items.length;t++)this.items[t].clear_invalid()},this.get_value=function(){for(var t={},e=0;e<this.items.length;e++){var a=this.items[e].el.attr("name");a||(a=this.items[e].id),a&&("input_date_input"==this.items[e].etype?t=ES.util.merge(t,this.items[e].get_value()):t[a]=this.items[e].get_value())}return t},this.set_value=function(t){for(var e=0;e<this.items.length;e++){var a=this.items[e].el.attr("name");if(a||(a=this.items[e].id),"input_date_input"==this.items[e].etype){var i=this.items[e].toName;if(t[a]&&t[i]){var s={};s[a]=t[a],s[i]=t[i],this.items[e].set_value(s)}}else(t[a]||0===t[a])&&this.items[e].set_value(t[a])}},this.clear_value=function(){for(var t=0;t<this.items.length;t++)this.items[t].clear_value()},this.get_item=function(t){return this.items[t]},this.get_item_by_id=function(t){var e=null;return ES.each(this.items,function(a,i){return i.el.attr("name")==t||i.id==t?(e=i,!1):void 0}),e},this.disable=function(){for(var t=0;t<this.items.length;t++)this.items[t].disable&&this.items[t].disable()},this.enable=function(){for(var t=0;t<this.items.length;t++)this.items[t].enable&&this.items[t].enable()},this.items=s,this.el=i,this.etype="input_form"}},s=new i({items:a,el:t.el});ES.ui.add(t.el,s)},ajax_get:function(t){t.scope.$http({url:t.url,method:"GET",data:t.requestData||{}}).then(function(e){t.cbFunc.bind(t.scope)(e)},function(t){})},delegate:function(t,e,a){var i=t;return function(){var t=a||arguments;return t=Array.prototype.slice.call(arguments,0),t=t.concat(a),i.apply(e||window,t)}}}}}).call(e,a(18))},301:function(t,e,a){var i,s;a(302),i=a(304),s=a(305),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},302:function(t,e,a){var i=a(303);"string"==typeof i&&(i=[[t.id,i,""]]);a(74)(i,{});i.locals&&(t.exports=i.locals)},303:function(t,e,a){e=t.exports=a(27)(),e.push([t.id,".es-page-title{width:100%;padding:10px 10px 5px 15px;border-radius:5px;background-color:#f8f8f8;border:1px solid #e0e0e0;font-weight:700}.es-column-2{width:50%;float:left}.es-active{background-color:#e9efff!important}.es-material-data li,.es-material-subData li{cursor:pointer;line-height:40px;height:40px;padding-left:20px}.es-material-data ul,.es-material-subData ul{padding:0;margin:0}.es-material-data li:hover,.es-material-subData li:hover{background-color:#e9efff!important}.es-material-data{background-color:#f9fbff}.es-material{border:1px solid #d5def3;background-color:#fff}.input-icon{position:static;float:left;width:10%;background-color:#fff;height:29px;line-height:30px!important;margin:0;text-align:center}#search-material{height:29px;border:1px solid #ccc;color:#000!important;padding-left:5px;width:90%}.es-material-aboutData{background-color:#fff;height:29px;line-height:29px;padding:0 10px;border-bottom:1px solid #d5def3}.es-btnBox{text-align:center;padding:5px 0}.es-mEdit,.es-oper{display:none;float:right;margin-right:15px}.es-enabled{display:block}.es-materialValue{display:block;float:left;min-width:150px;width:50%;height:30px;margin:4px 0;line-height:30px;padding-left:5px}.es-materialEdit{background:#fff}",""])},304:function(t,e,a){(function(e){"use strict";var i=a(91).methods;t.exports={methods:{addMaterial:function(){this.isAdd=!0},editmaterial:function(t){var a,i=!1;"LI"==t.target.nodeName?(a=e(t.target),e(t.target).find(".es-materialValue").attr("contenteditable")&&(i=!0)):"es-materialValue"==t.target.className&&(a=e(t.target).parent("li"),e(t.target).attr("contenteditable")&&(i=!0));var s=e(".es-material-subData .es-materialEdit").length;!a||i||s||(e(".es-material-subData li").removeClass("es-active"),e(".es-oper").hide(),a.find("span.es-oper").show(),a.addClass("es-active"))},viewSubMaterial:function(t){this.isAdd=!1,e(".es-material-data li").removeClass("es-active");for(var a=t.target.attributes["data-option"].value,i=[],s=0;s<this.subMaterialData.length;s++)this.subMaterialData[s].key==a&&i.push(this.subMaterialData[s]);e(t.target).addClass("es-active"),this.viewSub=i},eidtData:function(t){e(t.target).parent().prev().attr("contenteditable","true").addClass("es-materialEdit").focus(),e(t.target).parent().hide(),e(t.target).parent().next().show()},delData:function(t){interfacePort.confirm({title:"提示",innerHTML:'"确定删除？"',auto_hide:!1},i.delegate(function(){console.log(this);for(var a=e(t.target).parent().prev().attr("data-value"),i=e(".es-material-data li.es-active").attr("data-option"),s=[],r=0;r<this.subMaterialData.length;r++)this.subMaterialData[r].id!=a&&s.push(this.subMaterialData[r]);this.subMaterialData=s,this.viewSub=[];for(var r=0;r<this.subMaterialData.length;r++)this.subMaterialData[r].key==i&&this.viewSub.push(this.subMaterialData[r])},this))},saveData:function(t){var a=e(t.target).parent().prev("input").val();if(a){var i=e(".es-material-data li.es-active").attr("data-option"),s=JSON.parse('{ "text": "'+a+'","key": "'+i+'"}');this.subMaterialData.push(s),this.viewSub.push(s),this.isAdd=!1}else{var r=e(".es-material-data li.es-active").attr("data-option");a=e(t.target).parent().prevAll(".es-materialValue").html();for(var i=e(t.target).parent().prevAll(".es-materialValue").attr("data-value"),l=0;l<this.subMaterialData.length;l++)this.subMaterialData[l].id==i&&(this.subMaterialData[l].text=a);this.viewSub=[];for(var l=0;l<this.subMaterialData.length;l++)this.subMaterialData[l].key==r&&this.viewSub.push(this.subMaterialData[l]);e(t.target).parent().prevAll(".es-materialValue").removeAttr("contenteditable").removeClass("es-materialEdit"),e(t.target).parent().hide()}interfacePort.alert({key:"保存成功！",type:"success",auto_hide:!1})}},data:function(){return{materialData:[{text:"产线",value:"1"},{text:"品名",value:"2"},{text:"规格",value:"3"}],subMaterialData:[{text:"123",key:"1",id:"1"},{text:"234",key:"1",id:"2"},{text:"5654",key:"3",id:"3"}],viewSub:[],sortOrders:"",isAdd:!1}}},Vue.filter("filterMaterialBy",function(t,e,a){this.viewSub=[];for(var i=[],s=0;s<t.length;s++){var r=t[s][a];r.indexOf(e)||i.push(t[s])}return""==e&&(i=t),0===i.length&&i.push({text:"请切换正确的关键词",value:""}),i})}).call(e,a(18))},305:function(t,e){t.exports='<div class=es-page-title>基础数据维护</div> <div class="es-material es-column-2"> <div class=es-material-view> <div class=head> <div class="es-material-search es-column-2"> <i class="fa fa-search input-icon"></i> <input type=text placeholder=请输入关键字 id=search-material v-model=sortOrders /> </div> <div class="es-material-aboutData es-column-2"> <span>相关数据</span> </div> </div> <div style="clear: both"></div> <div class=body> <div class="es-material-data es-column-2"> <ul> <li v-for="todo in materialData | filterMaterialBy sortOrders \'text\'" @click=viewSubMaterial data-option={{todo.value}}> {{ todo.text }} </li> </ul> </div> <div class="es-material-subData es-column-2"> <ul> <li v-for="todo in viewSub" @click=editmaterial> <span data-value="{{ todo.id }}" class=es-materialValue>{{ todo.text }}</span> <span class=es-oper><a @click=eidtData>编辑</a>&nbsp;<a @click=delData>删除</a></span> <span class=es-mEdit><a @click=saveData>保存</a></span> </li> <li v-if=isAdd> <input type=text /> <span class="es-oper es-enabled"><a @click=saveData>保存</a></span> </li> </ul> </div> </div> </div> </div> <div style="clear: both">&nbsp;</div> <div class="es-btnBox es-column-2"> <button class=es-btn @click=addMaterial>新增数据</button> </div> <div style="clear: both"></div>'}});