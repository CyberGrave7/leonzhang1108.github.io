var utils={norm:function(t,i,n){return(t-i)/(n-i)},lerp:function(t,i,n){return(n-i)*t+i},map:function(t,i,n,e,s){return utils.lerp(utils.norm(t,i,n),e,s)},clamp:function(t,i,n){return Math.min(Math.max(t,Math.min(i,n)),Math.max(i,n))},distance:function(t,i){var n=i.x-t.x,e=i.y-t.y;return Math.sqrt(n*n+e*e)},distanceXY:function(t,i,n,e){var s=n-t,r=e-i;return Math.sqrt(s*s+r*r)},circleCollision:function(t,i){return utils.distance(t,i)<=t.radius+i.radius},circlePointCollision:function(t,i,n){return utils.distanceXY(t,i,n.x,n.y)<n.radius},pointInRect:function(t,i,n){return utils.inRange(t,n.x,n.x+n.radius)&&utils.inRange(i,n.y,n.y+n.radius)},inRange:function(t,i,n){return t>=Math.min(i,n)&&t<=Math.max(i,n)},rangeIntersect:function(t,i,n,e){return Math.max(t,i)>=Math.min(n,e)&&Math.min(t,i)<=Math.max(n,e)},rectIntersect:function(t,i){return utils.rangeIntersect(t.x,t.x+t.width,i.x,i.x+i.width)&&utils.rangeIntersect(t.y,t.y+t.height,i.y,i.y+i.height)},degreesToRads:function(t){return t/180*Math.PI},radsToDegrees:function(t){return 180*t/Math.PI},randomRange:function(t,i){return t+Math.random()*(i-t)},randomInt:function(t,i){return t+Math.random()*(i-t+1)},getmiddle:function(t,i){var n=t.x,e=i.x;middlex=(n+e)/2;var s=t.y,r=i.y;return middley=(s+r)/2,pos=[middlex,middley],pos},getAngle:function(t,i){var n=i.x-t.x,e=i.y-t.y,s=Math.atan2(e,n);return s},inpercentW:function(t){return t*W/100},inpercentH:function(t){return t*H/100}},doParticle=function(t){function i(t,i,n){this.x=t,this.y=i,this.size=80,this.text=n,this.placement=[],this.vectors=[]}function n(t,i,n){this.radius=1.1,this.futurRadius=utils.randomInt(radius,radius+3),this.rebond=utils.randomInt(1,5),this.x=t,this.y=i,this.dying=!1,this.base=[t,i],this.vx=0,this.vy=0,this.type=n,this.friction=.99,this.gravity=gravity,this.color=colors[Math.floor(Math.random()*colors.length)],this.getSpeed=function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)},this.setSpeed=function(t){var i=this.getHeading();this.vx=Math.cos(i)*t,this.vy=Math.sin(i)*t},this.getHeading=function(){return Math.atan2(this.vy,this.vx)},this.setHeading=function(t){var i=this.getSpeed();this.vx=Math.cos(t)*i,this.vy=Math.sin(t)*i},this.update=function(t){this.x+=this.vx,this.y+=this.vy,this.vy+=gravity,this.vx*=this.friction,this.vy*=this.friction,this.radius<this.futurRadius&&this.dying===!1?this.radius+=duration:this.dying=!0,this.dying===!0&&(this.radius-=duration),a.beginPath(),a.fillStyle="rgba(0, 0, 0, 1)",a.fillStyle=this.color,a.arc(this.x,this.y,this.radius,2*Math.PI,!1),a.fill(),a.closePath(),(this.y<0||this.radius<1)&&(this.x=this.base[0],this.dying=!1,this.y=this.base[1],this.radius=1.1,this.setSpeed(speed),this.futurRadius=utils.randomInt(radius,radius+3),this.setHeading(utils.randomInt(utils.degreesToRads(0),utils.degreesToRads(360))))},this.setSpeed(utils.randomInt(.1,.5)),this.setHeading(utils.randomInt(utils.degreesToRads(0),utils.degreesToRads(360)))}function e(){window.updateSetTimeOut=setTimeout(function(){a.clearRect(0,0,W,H);for(var t=0;t<l.placement.length;t++)l.placement[t].update();requestAnimationFrame(e)},1e3/f)}function s(){window.showCanvas=setTimeout(function(){$("#canvas").show()},500)}t||(t={});var r=document.getElementById("canvas"),a=r.getContext("2d");W=r.width=window.innerWidth,H=r.height=200,gridX=5,gridY=5,i.prototype.getValue=function(){a.textAlign="center",a.font="bold "+this.size+"px arial",a.fillText(this.text,this.x,this.y);for(var t=a.getImageData(0,0,W,H),i=new Uint32Array(t.data.buffer),e=0;e<H;e+=gridY)for(var s=0;s<W;s+=gridX)i[e*W+s]&&this.placement.push(new n(s,e));a.clearRect(0,0,W,H)},colors=["#f44336"];var u=0,h=.36,o=3,d=t.element5||3,c="Life sucks, you gonna love it. :)";gravity=parseFloat(u),duration=parseFloat(h),resolution=parseFloat(o),speed=parseFloat(d),radius=parseFloat(d);var l=new i(W/2,H/2+50,c);l.getValue();var f=100;e(),s()};doParticle(),$("#type-in").on("input",function(){"apartment20"==this.value?speed=0:speed=3});