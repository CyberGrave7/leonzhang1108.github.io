webpackJsonp([31],{182:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(188),r=t.n(a),o=function(){return function(e){var n=this,t=e.draw,a=e.size,o=e.volume,i=e.currentTime;this.initAC=function(){n.ac=new AudioContext,n.gainNode=n.ac.createGain(),n.gainNode.gain.value=n.volume,n.gainNode.connect(n.ac.destination),n.analyser=n.ac.createAnalyser(),n.analyser.fftSize=2*n.size,n.analyser.connect(n.gainNode)},this.load=function(e,t,a){n.abort(),r()({url:e,responseType:"arraybuffer",onDownloadProgress:function(e){var n=e.loaded,t=e.total;a(n/t*100)},cancelToken:new r.a.CancelToken(function(e){n.axiosCancellation=e})}).then(function(e){t(e.data)}).catch(function(e){r.a.isCancel(e)?console.log("Request canceled",e.message):a("error")})},this.abort=function(){return n.axiosCancellation&&n.axiosCancellation("abort")},this.play=function(e){var t=e.src,a=e.cb,r=e.progressCb,o=++n.count;n.source&&n.source.stop();var i=function(e){if(n.buffer=e,o===n.count&&n.ac)try{n.createBufferSource({buffer:e},a)}catch(e){console.log(e)}};t instanceof ArrayBuffer?n.ac.decodeAudioData(t,i):n.load(t,function(e){n.ac.decodeAudioData(e,i)},r)},this.createBufferSource=function(e,t){var a=e.buffer,r=e.start,o=void 0===r?0:r;if(n.source&&n.source.stop(),n.buffer){var i=n.ac.createBufferSource();i.buffer=n.buffer=a,i.loop=!0,i.connect(n.analyser),i.start(0,o),n.source=i,n.visualize(),t&&t()}},this.updateVolume=function(e){console.log(e),n.gainNode.gain.value=n.volume=e},this.visualize=function(){var e=new Uint8Array(n.analyser.frequencyBinCount),t=window.requestAnimationFrame,a=function(){n.analyser.getByteFrequencyData(e),n.draw(e,n.volume),n.rafId=t(a)};a()},this.setCurrent=function(e){void 0===e&&(e=0);var t=n.buffer;n.curr=0,n.createBufferSource({buffer:t,start:e}),n.setInterval(!0)},this.setInterval=function(e){n.interval&&clearInterval(n.interval),e&&n.setCurrTime(e),n.interval=setInterval(function(){n.setCurrTime()},1e3)},this.setCurrTime=function(e){var t=n.buffer?n.buffer.duration.toFixed(0):0;n.currentTime({curr:e?0:++n.curr,total:t})},this.pause=function(){n.ac.suspend(),window.cancelAnimationFrame(n.rafId),n.interval&&clearInterval(n.interval)},this.resume=function(){n.ac.resume(),n.visualize(),n.setInterval()},this.stop=function(){n.abort(),n.ac.close(),window.cancelAnimationFrame(n.rafId)},this.source=null,this.count=0,this.draw=t,this.size=a,this.volume=o,this.currentTime=i,this.initAC()}}();n.default=o}});
//# sourceMappingURL=31.a722ed43.chunk.js.map