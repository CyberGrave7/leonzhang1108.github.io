{"version":3,"sources":["pages/Reversi/tools.tsx","webpack:///./src/pages/Reversi/index.less?46ee","pages/Reversi/index.less","pages/Reversi/index.tsx"],"names":["Object","defineProperty","__webpack_exports__","value","directionMap","statusMap","check","_a","x","y","checkerboard","player","direction","dx","dy","result","click","couldClick","couldRight","couldLeft","couldTop","couldBottom","couldTopLeft","couldTopRight","couldBottomLeft","couldBottomRight","clickToCover","forEach","cx","cy","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","empty","black","white","blackHover","whiteHover","Reversi","_super","_this","apply","this","arguments","reset","setState","initCheckerboard","history","step","_b","state","__WEBPACK_IMPORTED_MODULE_1__tools__","itemMouseEnter","rowIndex","itemIndex","itemMouseLeave","itemClick","renderItem","item","status","className","length","__WEBPACK_IMPORTED_MODULE_0_react__","key","onClick","__WEBPACK_IMPORTED_MODULE_3__utils__","handle","onMouseOver","onMouseLeave","join","renderRow","row","map","__extends","prototype","componentWillMount","render","connect","component","mapStateToProps","isMobile","common"],"mappings":"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","file":"static/js/6.f68cfa25.chunk.js","sourcesContent":["const directionMap = [\n  [0, 1], [0, -1],\n  [-1, 0], [1, 0],\n  [-1, -1], [-1, 1],\n  [1, -1], [1, 1]\n]\n\nconst statusMap = {\n  empty: 0,\n  black: 1,\n  white: 2\n}\n\nconst borderMax = 7\n\nconst check = ({ x, y, checkerboard, player, direction }) => {\n  const [ dx, dy ] = direction\n  let result = 0\n  let click = player ? statusMap.black : statusMap.white\n  x += dx\n  y += dy\n  while (x >= 0 && x <= borderMax && y >= 0 && y <= borderMax) {\n    if (checkerboard[x][y] === statusMap.empty || result === 2) {\n      break\n    }\n    if (checkerboard[x][y] === click) {\n      result++\n      click = !player ? statusMap.black : statusMap.white\n    } else {\n      if (result !== 1) { break }\n    }\n    x += dx\n    y += dy\n  }\n  return result === 2\n}\n\nconst couldRight = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[0] })\n\nconst couldLeft = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[1] })\n\nconst couldTop = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[2] })\n\nconst couldBottom = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[3] })\n\nconst couldTopLeft = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[4] })\n\nconst couldTopRight = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[5] })\n\nconst couldBottomLeft = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[6] })\n\nconst couldBottomRight = ({ x, y, checkerboard, player }) => \n  check({ x, y, checkerboard, player, direction: directionMap[7] })\n\n\nexport default {\n  couldClick: ({ x, y, checkerboard, player }) => \n    couldRight({ x, y, checkerboard, player })\n    || couldLeft({ x, y, checkerboard, player })\n    || couldTop({ x, y, checkerboard, player })\n    || couldBottom({ x, y, checkerboard, player })\n    || couldTopLeft({ x, y, checkerboard, player })\n    || couldTopRight({ x, y, checkerboard, player })\n    || couldBottomLeft({ x, y, checkerboard, player })\n    || couldBottomRight({ x, y, checkerboard, player }),\n\n  clickToCover: ({ x, y, checkerboard, player }) => {\n    directionMap.forEach(direction => {\n      const [dx, dy] = direction\n      let cx = x \n      let cy = y\n      cx += dx\n      cy += dy\n\n      if (check({ x, y, checkerboard, player, direction })) {\n        while (cx >= 0 && cx <= borderMax && cy >= 0 && cy <= borderMax) {\n          if (checkerboard[cx][cy] === statusMap.empty \n            || checkerboard[cx][cy] === (player ? statusMap.white : statusMap.black)) {\n            break\n          }\n          checkerboard[cx][cy] = player ? statusMap.white : statusMap.black\n          cx += dx\n          cy += dy\n        }\n      }\n    })\n    return checkerboard\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Reversi/tools.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-0-2!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js??ref--1-oneOf-0-4!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Reversi/index.less\n// module id = 366\n// module chunks = 6 16","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".reversi-wrapper{width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}.reversi-wrapper .checkerboard{border:1.5rem solid #f0f2f5;border-radius:1rem}.reversi-wrapper .checkerboard table{background-color:#f0f2f5;z-index:1;-webkit-box-shadow:#f0f2f5 0 0 100px;box-shadow:0 0 100px #f0f2f5}.reversi-wrapper .checkerboard table .row .item{width:2rem;height:2rem;border:2px solid #000;position:relative;text-align:center}.reversi-wrapper .checkerboard table .row .item .chosen{background-color:#fff;height:1.5rem;width:1.5rem;line-height:1.5rem;margin:0 auto;border-radius:50%;font-weight:700;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.25),0 2px 3px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.25),0 2px 3px rgba(0,0,0,.1)}.reversi-wrapper .checkerboard table .row .item .chosen.black{background-image:-webkit-gradient(linear,left top,left bottom,from(#555),to(#000));background-image:-webkit-linear-gradient(top,#555,#000);background-image:-o-linear-gradient(top,#555,#000);background-image:linear-gradient(180deg,#555,#000);color:#fff;opacity:.9}.reversi-wrapper .checkerboard table .row .item .chosen.white{background-image:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#f6f6f6));background-image:-webkit-linear-gradient(top,#fff,#f6f6f6);background-image:-o-linear-gradient(top,#fff,#f6f6f6);background-image:linear-gradient(180deg,#fff,#f6f6f6);color:#000;opacity:.9}.reversi-wrapper .checkerboard table .row .item .chosen.selected{opacity:1}.reversi-wrapper .current{width:2.5rem;height:2.5rem;border:2px solid #000;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:#c7c7c7}.reversi-wrapper .current:before{content:\\\"\\\";height:1.5rem;width:1.5rem;border-radius:50%;display:block;line-height:1.5rem;margin:0 auto;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.25),0 2px 3px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.25),0 2px 3px rgba(0,0,0,.1)}.reversi-wrapper .current.black:before{background-image:-webkit-gradient(linear,left top,left bottom,from(#555),to(#000));background-image:-webkit-linear-gradient(top,#555,#000);background-image:-o-linear-gradient(top,#555,#000);background-image:linear-gradient(180deg,#555,#000);color:#fff}.reversi-wrapper .current.white:before{background-image:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#f6f6f6));background-image:-webkit-linear-gradient(top,#fff,#f6f6f6);background-image:-o-linear-gradient(top,#fff,#f6f6f6);background-image:linear-gradient(180deg,#fff,#f6f6f6);color:#000}\", \"\", {\"version\":3,\"sources\":[\"/Users/leonzhang/Documents/github/typescript/leon-ts-app/src/pages/Reversi/index.less\"],\"names\":[],\"mappings\":\"AAAA,iBACE,WAAY,AACZ,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,0BAA2B,AACvB,qBAAuB,CAC5B,AACD,+BACE,4BAA6B,AAC7B,kBAAoB,CACrB,AACD,qCACE,yBAA0B,AAC1B,UAAW,AACX,qCAA0C,AAClC,4BAAkC,CAC3C,AACD,gDACE,WAAY,AACZ,YAAa,AACb,sBAAuB,AACvB,kBAAmB,AACnB,iBAAmB,CACpB,AACD,wDACE,sBAAuB,AACvB,cAAe,AACf,aAAc,AACd,mBAAoB,AACpB,cAAe,AACf,kBAAmB,AACnB,gBAAkB,AAClB,sEAAgF,AACxE,6DAAwE,CACjF,AACD,8DACE,mFAAwF,AACxF,wDAA2D,AAC3D,mDAAsD,AACtD,mDAAsD,AACtD,WAAY,AACZ,UAAY,CACb,AACD,8DACE,sFAA2F,AAC3F,2DAA8D,AAC9D,sDAAyD,AACzD,sDAAyD,AACzD,WAAY,AACZ,UAAY,CACb,AACD,iEACE,SAAW,CACZ,AACD,0BACE,aAAc,AACd,cAAe,AACf,sBAAuB,AACvB,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,wBAA0B,CAC3B,AACD,iCACE,WAAY,AACZ,cAAe,AACf,aAAc,AACd,kBAAmB,AACnB,cAAe,AACf,mBAAoB,AACpB,cAAe,AACf,sEAAgF,AACxE,6DAAwE,CACjF,AACD,uCACE,mFAAwF,AACxF,wDAA2D,AAC3D,mDAAsD,AACtD,mDAAsD,AACtD,UAAY,CACb,AACD,uCACE,sFAA2F,AAC3F,2DAA8D,AAC9D,sDAAyD,AACzD,sDAAyD,AACzD,UAAY,CACb\",\"file\":\"index.less\",\"sourcesContent\":[\".reversi-wrapper {\\n  width: 100%;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  -ms-flex-direction: column;\\n      flex-direction: column;\\n}\\n.reversi-wrapper .checkerboard {\\n  border: 1.5rem solid #f0f2f5;\\n  border-radius: 1rem;\\n}\\n.reversi-wrapper .checkerboard table {\\n  background-color: #f0f2f5;\\n  z-index: 1;\\n  -webkit-box-shadow: #f0f2f5 0px 0px 100px;\\n          box-shadow: #f0f2f5 0px 0px 100px;\\n}\\n.reversi-wrapper .checkerboard table .row .item {\\n  width: 2rem;\\n  height: 2rem;\\n  border: 2px solid #000;\\n  position: relative;\\n  text-align: center;\\n}\\n.reversi-wrapper .checkerboard table .row .item .chosen {\\n  background-color: #fff;\\n  height: 1.5rem;\\n  width: 1.5rem;\\n  line-height: 1.5rem;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  font-weight: bold;\\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 3px rgba(0, 0, 0, 0.1);\\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 3px rgba(0, 0, 0, 0.1);\\n}\\n.reversi-wrapper .checkerboard table .row .item .chosen.black {\\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#555), to(#000));\\n  background-image: -webkit-linear-gradient(top, #555, #000);\\n  background-image: -o-linear-gradient(top, #555, #000);\\n  background-image: linear-gradient(180deg, #555, #000);\\n  color: #fff;\\n  opacity: .9;\\n}\\n.reversi-wrapper .checkerboard table .row .item .chosen.white {\\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#f6f6f6));\\n  background-image: -webkit-linear-gradient(top, #fff, #f6f6f6);\\n  background-image: -o-linear-gradient(top, #fff, #f6f6f6);\\n  background-image: linear-gradient(180deg, #fff, #f6f6f6);\\n  color: #000;\\n  opacity: .9;\\n}\\n.reversi-wrapper .checkerboard table .row .item .chosen.selected {\\n  opacity: 1;\\n}\\n.reversi-wrapper .current {\\n  width: 2.5rem;\\n  height: 2.5rem;\\n  border: 2px solid #000;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  background-color: #c7c7c7;\\n}\\n.reversi-wrapper .current:before {\\n  content: '';\\n  height: 1.5rem;\\n  width: 1.5rem;\\n  border-radius: 50%;\\n  display: block;\\n  line-height: 1.5rem;\\n  margin: 0 auto;\\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 3px rgba(0, 0, 0, 0.1);\\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 3px rgba(0, 0, 0, 0.1);\\n}\\n.reversi-wrapper .current.black:before {\\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#555), to(#000));\\n  background-image: -webkit-linear-gradient(top, #555, #000);\\n  background-image: -o-linear-gradient(top, #555, #000);\\n  background-image: linear-gradient(180deg, #555, #000);\\n  color: #fff;\\n}\\n.reversi-wrapper .current.white:before {\\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#f6f6f6));\\n  background-image: -webkit-linear-gradient(top, #fff, #f6f6f6);\\n  background-image: -o-linear-gradient(top, #fff, #f6f6f6);\\n  background-image: linear-gradient(180deg, #fff, #f6f6f6);\\n  color: #000;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/less-loader/dist/cjs.js?{\"modifyVars\":{\"@primary-color\":\"#1DA57A\"}}!./src/pages/Reversi/index.less\n// module id = 484\n// module chunks = 6 16","import * as React from 'react'\nimport Tools from './tools'\nimport './index.less'\nimport Utils from '@utils'\n\ninterface IProps {\n  isMobile: boolean\n}\n\ninterface IState {\n  checkerboard: any[][],\n  step: number,\n  history: any[]\n}\n\nconst statusMap = {\n  empty: 0,\n  black: 1,\n  white: 2,\n  blackHover: 3,\n  whiteHover: 4\n}\n\nclass Reversi extends React.Component<IProps, IState> {\n  componentWillMount() {\n    this.reset()\n  }\n\n  reset = () => {\n    this.setState({\n      checkerboard: this.initCheckerboard(),\n      history: [],\n      step: 0\n    })\n  }\n\n  initCheckerboard = () => [\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 2, 1, 0, 0, 0],\n    [0, 0, 0, 1, 2, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n  ]\n\n  couldClick = ({ x, y }) => {\n    const { checkerboard, step } = this.state\n    return Tools.couldClick({ x, y, checkerboard, player: step % 2 })\n  }\n\n  itemMouseEnter = ({ rowIndex: x, itemIndex: y }) => {\n    const { checkerboard, step } = this.state\n    const { blackHover, whiteHover } = statusMap\n    if (checkerboard[x][y] === statusMap.empty && this.couldClick({ x, y })) {\n      checkerboard[x][y] = step % 2 === 0 ? blackHover : whiteHover\n      this.setState({ checkerboard })\n    }\n  }\n\n  itemMouseLeave = ({ rowIndex: x, itemIndex: y }) => {\n    const { checkerboard } = this.state\n    if (checkerboard[x][y] === statusMap.blackHover\n      || checkerboard[x][y] === statusMap.whiteHover) {\n      checkerboard[x][y] = statusMap.empty\n      this.setState({ checkerboard })\n    }\n  }\n\n  itemClick = ({ rowIndex: x, itemIndex: y }) => {\n    if (!this.couldClick({ x, y })) {\n      return\n    }\n    const { checkerboard, step } = this.state\n    const { black, white } = statusMap\n    checkerboard[x][y] = step % 2 === 0 ? black : white\n    this.setState({ \n      checkerboard: Tools.clickToCover({ x, y, checkerboard, player: step % 2 }), \n      step: step + 1 \n    })\n  }\n\n  renderItem = (item, rowIndex, itemIndex) => {\n    const status = this.state.checkerboard[rowIndex][itemIndex]\n    const { black, white, blackHover, whiteHover } = statusMap\n    const className = status ? ['chosen'] : []\n    if (className.length) {\n      switch (status) {\n        case black:\n          className.push('black selected')\n          break\n        case white:\n          className.push('white selected')\n          break\n        case blackHover:\n          className.push('black')\n          break\n        case whiteHover:\n          className.push('white')\n          break\n      }\n    }\n    return (\n      <td className='item' key={itemIndex}\n        onClick={Utils.handle(this.itemClick, { rowIndex, itemIndex })}\n        onMouseOver={Utils.handle(this.itemMouseEnter, { rowIndex, itemIndex })}\n        onMouseLeave={Utils.handle(this.itemMouseLeave, { rowIndex, itemIndex })}\n      >\n        <div className={className.join(' ')} />\n      </td>\n    )\n  }\n\n  renderRow = (row, rowIndex) => (\n    <tr className='row' key={rowIndex}>\n      {row.map((item, itemIndex) => this.renderItem(item, rowIndex, itemIndex))}\n    </tr>\n  )\n\n  render() {\n    const { checkerboard, step } = this.state\n    const className = step % 2 === 1 ? 'current white' : 'current black'\n    return (\n      <div className='reversi-wrapper'>\n        <div className='checkerboard'>\n          <table>\n            <tbody>\n              {checkerboard.map(this.renderRow)}\n            </tbody>\n          </table>\n        </div>\n        <div className={className}/>\n      </div>\n    )\n  }\n}\n\nexport default Utils.connect({\n  component: Reversi,\n  mapStateToProps: state => ({\n    isMobile: state.common.isMobile\n  }),\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Reversi/index.tsx"],"sourceRoot":""}