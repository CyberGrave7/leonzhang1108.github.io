webpackJsonp([10,39],{1199:function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i,o=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},r=function(t){return t*(Math.PI/180)},s=function(t,e,n){for(var i,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)i=o[r],t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent&&t.attachEvent(i,n)},a=function(t,e,n){for(var i,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)i=o[r],t.removeEventListener?t.removeEventListener(i,n):t.detachEvent&&t.detachEvent(i,n)},c=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},l=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},u=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},d=function(t,e,n){var i=p(t);for(var o in i)if(i.hasOwnProperty(o))if("string"==typeof e)i[o]=e+" "+n;else{for(var r="",s=0,a=e.length;s<a;s+=1)r+=e[s]+" "+n+", ";i[o]=r.slice(0,-2)}return i},p=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach(function(n){e[n+t.charAt(0).toUpperCase()+t.slice(1)]=""}),e},f=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},h=function(t,e){if(t.length)for(var n=0,i=t.length;n<i;n+=1)e(t[n]);else e(t)},m=!!("ontouchstart"in window),y=!!window.PointerEvent,v=!!window.MSPointerEvent,g={start:"mousedown",move:"mousemove",end:"mouseup"},b={};function w(){}y?i={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:v?i={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:m?(i={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},b=g):i=g,w.prototype.on=function(t,e){var n,i=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var o=0;o<i.length;o+=1)n=i[o],this._handlers_[n]=this._handlers_[n]||[],this._handlers_[n].push(e);return this},w.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},w.prototype.trigger=function(t,e){var n,i=this,o=t.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var r=0;r<o.length;r+=1)n=o[r],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach(function(t){t.call(i,{type:n,target:i},e)})},w.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)?n[i]=e[i]:t.hasOwnProperty(i)&&(n[i]=t[i]);return n}(this.options,t))},w.prototype.bindEvt=function(t,e){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[e]=function(){"function"==typeof n["on"+e]?n["on"+e].apply(n,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},s(t,i[e],n._domHandlers_[e]),b[e]&&s(t,b[e],n._domHandlers_[e]),n},w.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},a(t,i[e],this._domHandlers_[e]),b[e]&&a(t,b[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var O=w;function x(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=x.id,x.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}x.prototype=new O,x.constructor=x,x.id=0,x.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},x.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var n=p("borderRadius");for(var i in n)n.hasOwnProperty(i)&&(n[i]="50%");return n}(),n=d("transition","opacity",t),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},f(i.el,n),f(i.back,e),f(i.front,e),this.applyStyles(i),this},x.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var n in t[e])this.ui[e].style[n]=t[e][n];return this},x.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},x.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},x.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},x.prototype.show=function(t){var e=this;return e.options.dataOnly?e:(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime),e)},x.prototype.hide=function(t){var e=this;return e.options.dataOnly?e:(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout(function(){var n="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=n,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)},e.options.fadeTime),e.options.restJoystick&&e.restPosition(),e)},x.prototype.restPosition=function(t){var e=this;e.frontPosition={x:0,y:0};var n=e.options.fadeTime+"ms",i={};i.front=d("transition",["top","left"],n);var o={front:{}};o.front={left:e.frontPosition.x+"px",top:e.frontPosition.y+"px"},e.applyStyles(i),e.applyStyles(o),e.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},x.prototype.restCallback=function(){var t={};t.front=d("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},x.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},x.prototype.computeDirection=function(t){var e,n,i,o=t.angle.radian,r=Math.PI/4,s=Math.PI/2;if(o>r&&o<3*r&&!t.lockX?e="up":o>-r&&o<=r&&!t.lockY?e="left":o>3*-r&&o<=-r&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(n=o>-s&&o<s?"left":"right"),t.lockX||(i=o>0?"up":"down"),t.force>this.options.threshold){var a,c={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(c[a]=this.direction[a]);var l={};for(a in this.direction={x:n,y:i,angle:e},t.direction=this.direction,c)c[a]===this.direction[a]&&(l[a]=!0);if(l.x&&l.y&&l.angle)return t;l.x&&l.y||this.trigger("plain",t),l.x||this.trigger("plain:"+n,t),l.y||this.trigger("plain:"+i,t),l.angle||this.trigger("dir dir:"+e,t)}return t};var k=x;function C(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=C.id,C.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}C.prototype=new O,C.constructor=C,C.id=0,C.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var n=0,i=t.length;n<i;n+=1)if(t[n].identifier===e)return t[n];return!1}},C.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},C.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},C.prototype.createNipple=function(t,e){var n=l(),i={},o=this.options;if(t.x&&t.y)i={x:t.x-(n.x+this.box.left),y:t.y-(n.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var r=document.createElement("DIV");r.style.display="hidden",r.style.top=t.top,r.style.right=t.right,r.style.bottom=t.bottom,r.style.left=t.left,r.style.position="absolute",o.zone.appendChild(r);var s=r.getBoundingClientRect();o.zone.removeChild(r),i=t,t={x:s.left+n.x,y:s.top+n.y}}var a=new k(this,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:e,position:t,zone:o.zone,frontPosition:{x:0,y:0}});return o.dataOnly||(u(a.ui.el,i),u(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},C.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},C.prototype.bindNipple=function(t){var e,n=this,i=function(t,i){e=t.type+" "+i.id+":"+t.type,n.trigger(e,i)};t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},C.prototype.pressureFn=function(t,e,n){var i=this,o=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var n=t.force||t.pressure||t.webkitForce||0;n!==o&&(e.trigger("pressure",n),i.trigger("pressure "+e.identifier+":pressure",n),o=n)}.bind(i),100)},C.prototype.onstart=function(t){var e=this,n=e.options,i=t;return t=c(t),e.updateBox(),h(t,function(o){e.actives.length<n.maxNumberOfNipples?e.processOnStart(o):i.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach(function(n){if(Object.values(i.touches).findIndex(function(t){return t.identifier===n})<0){var o=[t[0]];o.identifier=n,e.processOnEnd(o)}}),e.actives.length<n.maxNumberOfNipples&&e.processOnStart(o))}),e.manager.bindDocument(),!1},C.prototype.processOnStart=function(t){var e,n=this,i=n.options,r=n.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},c=n.getOrCreate(r,a);c.identifier!==r&&n.manager.removeIdentifier(c.identifier),c.identifier=r;var l=function(e){e.trigger("start",e),n.trigger("start "+e.id+":start",e),e.show(),s>0&&n.pressureFn(t,e,e.identifier),n.processOnMove(t)};if((e=n.idles.indexOf(c))>=0&&n.idles.splice(e,1),n.actives.push(c),n.ids.push(c.identifier),"semi"!==i.mode)l(c);else{if(!(o(a,c.position)<=i.catchDistance))return c.destroy(),void n.processOnStart(t);l(c)}return c},C.prototype.getOrCreate=function(t,e){var n,i=this.options;return/(semi|static)/.test(i.mode)?(n=this.idles[0])?(this.idles.splice(0,1),n):"semi"===i.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):n=this.createNipple(e,t)},C.prototype.processOnMove=function(t){var e=this.options,n=this.manager.getIdentifier(t),i=this.nipples.get(n);if(!i)return console.error("Found zombie joystick with ID "+n),void this.manager.removeIdentifier(n);i.identifier=n;var s,a,c,l,d,p,f,h,m=i.options.size/2,y={x:t.pageX,y:t.pageY},v=o(y,i.position),g=(s=y,c=(a=i.position).x-s.x,l=a.y-s.y,function(t){return t*(180/Math.PI)}(Math.atan2(l,c))),b=r(g),w=v/m,O={distance:v,position:y};v>m&&(v=m,d=i.position,p=v,h={x:0,y:0},f=r(f=g),h.x=d.x-p*Math.cos(f),h.y=d.y-p*Math.sin(f),y=h);var x=y.x-i.position.x,k=y.y-i.position.y;e.lockX&&(k=0),e.lockY&&(x=0),i.frontPosition={x:x,y:k},e.dataOnly||u(i.ui.front,i.frontPosition);var C={identifier:i.identifier,position:y,force:w,pressure:t.force||t.pressure||t.webkitForce||0,distance:v,angle:{radian:b,degree:g},raw:O,instance:i,lockX:e.lockX,lockY:e.lockY};(C=i.computeDirection(C)).angle={radian:r(180-g),degree:180-g},i.trigger("move",C),this.trigger("move "+i.id+":move",C)},C.prototype.processOnEnd=function(t){var e=this,n=e.options,i=e.manager.getIdentifier(t),o=e.nipples.get(i),r=e.manager.removeIdentifier(o.identifier);o&&(n.dataOnly||o.hide(function(){"dynamic"===n.mode&&(o.trigger("removed",o),e.trigger("removed "+o.id+":removed",o),e.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(e.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),e.trigger("end "+o.id+":end",o),e.ids.indexOf(o.identifier)>=0&&e.ids.splice(e.ids.indexOf(o.identifier),1),e.actives.indexOf(o)>=0&&e.actives.splice(e.actives.indexOf(o),1),/(semi|static)/.test(n.mode)?e.idles.push(o):e.nipples.indexOf(o)>=0&&e.nipples.splice(e.nipples.indexOf(o),1),e.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(e.manager.ids[r.id]=r.identifier))},C.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},C.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var _=C;function E(t){var e,n=this;return n.ids={},n.index=0,n.collections=[],n.config(t),n.prepareCollections(),s(window,"resize",function(t){clearTimeout(e),e=setTimeout(function(){var t,e=l();n.collections.forEach(function(n){n.forEach(function(n){t=n.el.getBoundingClientRect(),n.position={x:e.x+t.left,y:e.y+t.top}})})},100)}),n.collections}E.prototype=new O,E.constructor=E,E.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var n;return t.collections.every(function(t){return!(n=t.get(e))}),n}},E.prototype.create=function(t){return this.createCollection(t)},E.prototype.createCollection=function(t){var e=new _(this,t);return this.bindCollection(e),this.collections.push(e),e},E.prototype.bindCollection=function(t){var e,n=this,i=function(t,i){e=t.type+" "+i.id+":"+t.type,n.trigger(e,i)};t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},E.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},E.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},E.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},E.prototype.removeIdentifier=function(t){var e={};for(var n in this.ids)if(this.ids[n]===t){e.id=n,e.identifier=this.ids[n],delete this.ids[n];break}return e},E.prototype.onmove=function(t){return this.onAny("move",t),!1},E.prototype.onend=function(t){return this.onAny("end",t),!1},E.prototype.oncancel=function(t){return this.onAny("end",t),!1},E.prototype.onAny=function(t,e){var n,i=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=c(e),h(e,function(t){n=i.getIdentifier(t),h(i.collections,function(t,e,n){n.ids.indexOf(e)>=0&&(n[o](t),t._found_=!0)}.bind(null,t,n)),t._found_||i.removeIdentifier(n)}),!1},E.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},E.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var T=new E;e.default={create:function(t){return T.create(t)},factory:T}}]).default})},394:function(t,e,n){var i=n(615);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!1,transform:void 0};n(377)(i,o);i.locals&&(t.exports=i.locals)},402:function(t,e,n){"use strict";var i=n(403),o=n(405);i.a.Group=o.a,e.a=i.a},403:function(t,e,n){"use strict";var i=n(0),o=(n.n(i),n(1)),r=(n.n(o),n(5)),s=n.n(r),a=n(30),c=n(98),l=n(29),u=n(9),d=n(404),p=n(159);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return!e||"object"!==b(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},O=/^[\u4e00-\u9fa5]{2}$/,x=O.test.bind(O);function k(t,e){var n=!1,o=[];return i.Children.forEach(t,function(t){var e=b(t),i="string"===e||"number"===e;if(n&&i){var r=o.length-1,s=o[r];o[r]="".concat(s).concat(t)}else o.push(t);n=i}),i.Children.map(o,function(t){return function(t,e){if(null==t)return;var n=e?" ":"";if("string"!==typeof t&&"number"!==typeof t&&function(t){return"string"===typeof t}(t.type)&&x(t.props.children))return i.cloneElement(t,{},t.props.children.split("").join(n));if("string"===typeof t)return x(t)&&(t=t.split("").join(n)),i.createElement("span",null,t);return t}(t,e)})}Object(p.a)("default","primary","ghost","dashed","danger","link");var C=Object(p.a)("circle","circle-outline","round"),_=Object(p.a)("large","default","small"),E=Object(p.a)("submit","button","reset"),T=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=y(this,v(e).call(this,t))).saveButtonRef=function(t){n.buttonNode=t},n.handleClick=function(t){var e=n.state.loading,i=n.props.onClick;e||i&&i(t)},n.renderButton=function(t){var e,o=t.getPrefixCls,r=t.autoInsertSpaceInButton,a=n.props,u=a.prefixCls,p=a.type,m=a.shape,y=a.size,v=a.className,g=a.children,b=a.icon,O=a.ghost,x=(a.loading,a.block),C=w(a,["prefixCls","type","shape","size","className","children","icon","ghost","loading","block"]),_=n.state,E=_.loading,T=_.hasTwoCNChar,A=o("btn",u),N=!1!==r,P="";switch(y){case"large":P="lg";break;case"small":P="sm"}var S=s()(A,v,(h(e={},"".concat(A,"-").concat(p),p),h(e,"".concat(A,"-").concat(m),m),h(e,"".concat(A,"-").concat(P),P),h(e,"".concat(A,"-icon-only"),!g&&0!==g&&b),h(e,"".concat(A,"-loading"),E),h(e,"".concat(A,"-background-ghost"),O),h(e,"".concat(A,"-two-chinese-chars"),T&&N),h(e,"".concat(A,"-block"),x),e)),j=E?"loading":b,I=j?i.createElement(l.a,{type:j}):null,z=g||0===g?k(g,n.isNeedInserted()&&N):null,B=Object(c.a)(C,["htmlType"]);if(void 0!==B.href)return i.createElement("a",f({},B,{className:S,onClick:n.handleClick,ref:n.saveButtonRef}),I,z);var D=C,M=D.htmlType,L=w(D,["htmlType"]),R=i.createElement("button",f({},L,{type:M,className:S,onClick:n.handleClick,ref:n.saveButtonRef}),I,z);return"link"===p?R:i.createElement(d.a,null,R)},n.state={loading:t.loading,hasTwoCNChar:!1},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,i["Component"]),function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(e,[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentDidUpdate",value:function(t){var e=this;this.fixTwoCNChar(),t.loading&&"boolean"!==typeof t.loading&&clearTimeout(this.delayTimeout);var n=this.props.loading;if(n&&"boolean"!==typeof n&&n.delay)this.delayTimeout=window.setTimeout(function(){return e.setState({loading:n})},n.delay);else{if(t.loading===this.props.loading)return;this.setState({loading:n})}}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){if(this.buttonNode){var t=this.buttonNode.textContent||this.buttonNode.innerText;this.isNeedInserted()&&x(t)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}}},{key:"isNeedInserted",value:function(){var t=this.props,e=t.icon,n=t.children;return 1===i.Children.count(n)&&!e}},{key:"render",value:function(){return i.createElement(u.a,null,this.renderButton)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.loading instanceof Boolean?f({},e,{loading:t.loading}):null}}]),e}();T.__ANT_BUTTON=!0,T.defaultProps={loading:!1,ghost:!1,block:!1,htmlType:"button"},T.propTypes={type:o.string,shape:o.oneOf(C),size:o.oneOf(_),htmlType:o.oneOf(E),onClick:o.func,loading:o.oneOfType([o.bool,o.object]),className:o.string,icon:o.string,block:o.bool},Object(a.polyfill)(T),e.a=T},404:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i,o=n(0),r=(n.n(o),n(7)),s=(n.n(r),n(160)),a=n(161),c=n(9);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return!t||null===t.offsetParent}var m=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?p(t):e}(this,d(e).apply(this,arguments))).animationStart=!1,t.destroy=!1,t.onClick=function(e,n){if(!(!e||h(e)||e.className.indexOf("-leave")>=0)){var o=t.props.insertExtraNode;t.extraNode=document.createElement("div");var r=t.extraNode;r.className="ant-click-animating-node";var a=t.getAttributeName();e.setAttribute(a,"true"),i=i||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&t.isNotGrey(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n&&(t.csp&&t.csp.nonce&&(i.nonce=t.csp.nonce),r.style.borderColor=n,i.innerHTML="html body { --antd-wave-shadow-color: ".concat(n,"; }"),document.body.contains(i)||document.body.appendChild(i)),o&&e.appendChild(r),s.a.addStartEventListener(e,t.onTransitionStart),s.a.addEndEventListener(e,t.onTransitionEnd)}},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!h(n.target)){t.resetEffect(e);var i=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout(function(){return t.onClick(e,i)},0),a.a.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=Object(a.a)(function(){t.animationStart=!1},10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.onTransitionStart=function(e){if(!t.destroy){var n=Object(r.findDOMNode)(p(t));e&&e.target===n&&(t.animationStart||t.resetEffect(n))}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.renderWave=function(e){var n=e.csp,i=t.props.children;return t.csp=n,i},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["Component"]),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"isNotGrey",value:function(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(t){if(t&&t!==this.extraNode&&t instanceof Element){var e=this.props.insertExtraNode,n=this.getAttributeName();t.setAttribute(n,"false"),this.removeExtraStyleNode(),e&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),s.a.removeStartEventListener(t,this.onTransitionStart),s.a.removeEndEventListener(t,this.onTransitionEnd)}}},{key:"removeExtraStyleNode",value:function(){i&&(i.innerHTML="")}},{key:"componentDidMount",value:function(){var t=Object(r.findDOMNode)(this);t&&1===t.nodeType&&(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroy=!0}},{key:"render",value:function(){return o.createElement(c.a,null,this.renderWave)}}]),e}()},405:function(t,e,n){"use strict";var i=n(0),o=(n.n(i),n(5)),r=n.n(o),s=n(9);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var c=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n};e.a=function(t){return i.createElement(s.a,null,function(e){var n=e.getPrefixCls,o=t.prefixCls,s=t.size,l=t.className,u=c(t,["prefixCls","size","className"]),d=n("btn-group",o),p="";switch(s){case"large":p="lg";break;case"small":p="sm"}var f=r()(d,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"".concat(d,"-").concat(p),p),l);return i.createElement("div",a({},u,{className:f}))})}},532:function(t,e,n){"use strict";e.a={keyCode:{left:37,up:38,right:39,down:40}}},615:function(t,e,n){(t.exports=n(376)(!0)).push([t.i,".snake-wrapper{display:-ms-flexbox;display:flex}.snake-wrapper .over,.snake-wrapper .remote-area{width:100%;height:100%;position:absolute}.snake-wrapper .over{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}.snake-wrapper .over .hint{font-size:3rem;margin-bottom:5rem}","",{version:3,sources:["/Users/leonzhang/Documents/github/typescript/leon-ts-app/src/pages/Snake/index.less"],names:[],mappings:"AAAA,eACE,oBAAqB,AACrB,YAAc,CACf,AAMD,iDAJE,WAAY,AACZ,YAAa,AACb,iBAAmB,CAcpB,AAZD,qBAEE,oBAAqB,AACrB,aAAc,AAGd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,0BAA2B,AACvB,qBAAuB,CAC5B,AACD,2BACE,eAAgB,AAChB,kBAAoB,CACrB",file:"index.less",sourcesContent:[".snake-wrapper {\n  display: -ms-flexbox;\n  display: flex;\n}\n.snake-wrapper .remote-area {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.snake-wrapper .over {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.snake-wrapper .over .hint {\n  font-size: 3rem;\n  margin-bottom: 5rem;\n}\n"],sourceRoot:""}])},68:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(0),s=(n.n(r),n(20)),a=n(394),c=(n.n(a),n(532)),l=n(402),u=(n(158),n(1199)),d=(n.n(u),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),p=c.a.keyCode;!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(o||(o={}));var f=o.Up,h=o.Down,m=o.Left,y=o.Right,v=((i={})[f]=h,i[h]=f,i[m]=y,i[y]=m,i),g=function(){return[0,1,2,3,4,5,6,7,8,9]},b=200,w=function(t,e){var n=s.a.random(0,e-1);return t.includes(n)?w(t,e):n},O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=(e.props.isMobile,20),e.rowCount=~~(e.props.w/e.size),e.colCount=~~(e.props.h/e.size),e.max=e.rowCount*e.colCount,e.direction=y,e.snake=g(),e.friut=w(e.snake,e.max),e.speed=b,e.count=0,e.state={isGameOver:!1,hint:""},e.keydown=function(t){switch(t.keyCode){case p.up:e.go(f);break;case p.down:e.go(h);break;case p.left:e.go(m);break;case p.right:e.go(y)}},e.go=function(t){e.state.isGameOver||(e.direction!==v[t]&&(e.direction=t),e.init())},e.init=function(){clearInterval(e.interval),e.doCycle(),e.interval=setInterval(e.doCycle,e.speed)},e.reset=function(){e.setState({isGameOver:!1},function(){e.clearReact(),e.snake=g(),e.direction=y,e.speed=b,e.init()})},e.doCycle=function(){e.resetSnake(),e.drawSnake()},e.clearReact=function(){var t=e.props,n=t.w,i=t.h;e.ctx.clearRect(0,0,n,i)},e.resetSnake=function(){e.clearReact();var t=e.snake[e.snake.length-1],n=e.getHead(t);if(t===e.friut){if(e.friut=w(e.snake,e.max),7===e.count)return e.speed*=.8,e.count=0,void e.init();e.count++}else e.snake.shift();e.snake.includes(n)?(clearInterval(e.interval),e.setState({hint:"Game Over",isGameOver:!0})):e.snake.length===e.max?(clearInterval(e.interval),e.setState({hint:"You Win!!!",isGameOver:!0})):e.snake.push(n)},e.drawFriut=function(){e.draw(e.friut,"blue")},e.getHead=function(t){var n,i=e,o=i.rowCount,r=i.colCount,s=i.max;switch(i.direction){case m:return~~((n=t-1)/o)!==~~(t/o)||t<=0?t+o-1:n;case y:return~~((n=t+1)/o)!==~~(t/o)?t-o+1:n;case f:return(n=t-o)<0?s+t%o:n;case h:return~~((n=t+o)/o)>r?t%o:n}},e.drawSnake=function(){e.drawFriut();var t=e.snake.length;e.snake.forEach(function(n,i){return e.draw(n,i!==t-1?"#666":"#333")})},e.draw=function(t,n){e.ctx.fillStyle=n,e.ctx.fillRect(t%e.rowCount*e.size+1,~~(t/e.rowCount)*e.size+1,e.size-1,e.size-1)},e}return d(e,t),e.prototype.componentWillMount=function(){document.addEventListener("keydown",this.keydown)},e.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keydown)},e.prototype.componentDidMount=function(){var t=this;this.ctx=this.canvas.getContext("2d"),this.init();var e=u.create({zone:this.remote,color:"#777"});e.on("dir:up",function(){return t.go(f)}),e.on("dir:down",function(){return t.go(h)}),e.on("dir:left",function(){return t.go(m)}),e.on("dir:right",function(){return t.go(y)})},e.prototype.render=function(){var t=this,e=this.props,n=e.w,i=e.h,o=this.state,s=o.isGameOver,a=o.hint;return r.createElement("div",{className:"snake-wrapper"},r.createElement("canvas",{ref:function(e){return t.canvas=e},width:n,height:i,style:{backgroundColor:"#dcdcdc"}}),r.createElement("div",{className:"remote-area",ref:function(e){return t.remote=e}}),s?r.createElement("div",{className:"over"},r.createElement("div",{className:"hint"},a),r.createElement(l.a,{type:"primary",onClick:this.reset},"Reset")):"")},e}(r.Component);e.default=s.a.connect({component:O,mapStateToProps:function(t){return{w:t.common.contentWidth,h:t.common.contentHeight,isMobile:t.common.isMobile}}})}});
//# sourceMappingURL=10.517be556.chunk.js.map