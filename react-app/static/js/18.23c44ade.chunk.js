webpackJsonp([18],{151:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){return function(e){var n=e.draw,t=e.size,a=e.volume,i=this;this.load=function(e,n,t){i.xhr=new XMLHttpRequest,i.abort(),i.xhr.open("GET",e),i.xhr.responseType="arraybuffer",i.xhr.onload=function(){n(i.xhr.response)},i.xhr.onprogress=function(e){var n=e.loaded,a=e.total;t(n/a*100)},i.xhr.send()},this.abort=function(){return i.xhr&&i.xhr.abort()},this.play=function(e){var n=e.src,t=e.cb,a=e.progressCb,o=++i.count;i.source&&i.source.stop();var r=function(e){if(o===i.count&&i.ac)try{var n=i.ac.createBufferSource();n.buffer=e,n.loop=!0,n.connect(i.analyser),n.start(0),i.source=n,i.visualize(),t()}catch(e){console.log(e)}};n instanceof ArrayBuffer?i.ac.decodeAudioData(n,r):i.load(n,function(e){i.ac.decodeAudioData(e,r)},a)},this.updateVolume=function(e){i.gainNode.gain.value=i.volume=e},this.visualize=function(){var e=new Uint8Array(i.analyser.frequencyBinCount),n=window.requestAnimationFrame,t=function(){i.analyser.getByteFrequencyData(e),i.draw(e,i.volume),i.rafId=n(t)};t()},this.pause=function(){i.ac.suspend(),window.cancelAnimationFrame(i.rafId)},this.resume=function(){i.ac.resume(),i.visualize()},this.stop=function(){i.abort(),i.ac.close(),window.cancelAnimationFrame(i.rafId)},this.source=null,this.count=0,this.ac=new AudioContext,this.draw=n,this.size=t,this.gainNode=this.ac.createGain(),this.gainNode.gain.value=this.volume=a,this.gainNode.connect(this.ac.destination),this.analyser=this.ac.createAnalyser(),this.analyser.fftSize=2*this.size,this.analyser.connect(this.gainNode)}}();n.default=a}});
//# sourceMappingURL=18.23c44ade.chunk.js.map