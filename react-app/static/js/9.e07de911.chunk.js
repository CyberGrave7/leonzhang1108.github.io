webpackJsonp([9,33],{1468:function(t,e,n){"use strict";var o,r=n(0),i=(n.n(r),n(1469)),s=(n.n(i),this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clicked=!1,e.times=1,e.currentTimes=1,e.lastX=0,e.lastY=0,e.lastMouseX=null,e.lastMouseY=null,e.left=null,e.top=null,e.movedX=null,e.movedY=null,e.initCanvas=function(){e.img=new Image;var t=e.props.src;e.img.src=t,e.img.onload=function(){e.canvas=document.querySelector(".picture-scrutinizer"),e.ctx=e.canvas.getContext("2d");var t=e.props,n=t.wrapperWidth,o=t.wrapperHeight;e.canvas.width=n,e.canvas.height=o,e.draw(),e.setEvents()}},e.zoom=function(t){var n=Math.pow(1.1,t);e.times*=n,e.currentTimes*=n,e.draw()},e.setEvents=function(){e.canvas.onwheel=function(t){e.lastMouseX&&e.lastMouseY&&e.zoom(t.wheelDelta/300),t.preventDefault()},e.canvas.onmousedown=function(t){var n=t.offsetX,o=t.offsetY;e.clicked=!0,e.movedX=n,e.movedY=o,e.resetTopLeft()},e.canvas.onmousemove=function(t){var n=t.offsetX,o=t.offsetY;e.lastMouseX=n,e.lastMouseY=o,e.currentTimes=1,e.clicked?e.drag(t):e.resetTopLeft()},document.onmouseup=function(){e.clicked=!1,e.movedX=null,e.movedY=null,e.resetTopLeft()}},e.resetTopLeft=function(){e.left=e.lastX,e.top=e.lastY},e.drag=function(t){var n=t.offsetX,o=t.offsetY,r=e.left+n-(e.movedX||0),i=e.top+o-(e.movedY||0);e.draw(r,i)},e.draw=function(t,n){var o=e.props,r=o.wrapperWidth,i=o.wrapperHeight,s=e.calculate(e.img,e.props),a=s.width,c=s.height;t&&n||(e.left&&e.top?(t=e.left||0,n=e.top||0):(t=(r-a)/2,n=(i-c)/2)),e.lastX=t+=((e.lastMouseX||0)-t)*(1-e.currentTimes),e.lastY=n+=((e.lastMouseY||0)-n)*(1-e.currentTimes),e.ctx.clearRect(0,0,r,i),e.ctx.drawImage(e.img,t,n,a*e.times,c*e.times)},e.calculate=function(t,e){var n=t.height,o=t.width,r=e.wrapperHeight,i=e.wrapperWidth,s=n/o,a={height:0,width:0};return n/o-r/i>0?(a.height=r,a.width=a.height/s):(a.width=i,a.height=a.width*s),a},e}return s(e,t),e.prototype.componentDidMount=function(){this.initCanvas()},e.prototype.componentWillReceiveProps=function(){this.initCanvas()},e.prototype.render=function(){return r.createElement("canvas",{className:"picture-scrutinizer"})},e}(r.Component);e.a=a},1469:function(t,e,n){var o=n(1470);"string"===typeof o&&(o=[[t.i,o,""]]);var r={hmr:!1,transform:void 0};n(377)(o,r);o.locals&&(t.exports=o.locals)},1470:function(t,e,n){(t.exports=n(376)(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.less",sourceRoot:""}])},1471:function(t,e,n){t.exports=n.p+"static/media/justice_league.a324bd16.jpg"},393:function(t,e,n){var o=n(650);"string"===typeof o&&(o=[[t.i,o,""]]);var r={hmr:!1,transform:void 0};n(377)(o,r);o.locals&&(t.exports=o.locals)},64:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(0),i=(n.n(r),n(21)),s=n(393),a=(n.n(s),n(1468)),c=n(1471),p=n.n(c),u=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.height,n=t.width;return r.createElement("div",{className:"widget-wrapper"},r.createElement(a.a,{wrapperHeight:e,wrapperWidth:n,src:p.a}))},e}(r.Component);e.default=i.a.connect({component:l,mapStateToProps:function(t){return{height:t.common.contentHeight,width:t.common.contentWidth}}})},650:function(t,e,n){(t.exports=n(376)(!0)).push([t.i,".widget-wrapper{width:100%;height:100%}","",{version:3,sources:["/Users/leonzhang/Documents/github/typescript/leon-ts-app/src/pages/Widgets/index.less"],names:[],mappings:"AAAA,gBACE,WAAY,AACZ,WAAa,CACd",file:"index.less",sourcesContent:[".widget-wrapper {\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=9.e07de911.chunk.js.map