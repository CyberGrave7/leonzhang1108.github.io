(window.webpackJsonp=window.webpackJsonp||[]).push([[12,64],{469:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},r=[],s=[];function a(t,i,e){t.addEventListener(i,e,!1)}function d(t,i,e){t.removeEventListener(i,e,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var t=document.createElement("div").style;function i(i,e){for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];for(var r in o)if(r in t){e.push(o[r]);break}}}"AnimationEvent"in window||(delete n.animationstart.animation,delete o.animationend.animation),"TransitionEvent"in window||(delete n.transitionstart.transition,delete o.transitionend.transition),i(n,r),i(o,s)}();var c={startEvents:r,addStartEventListener:function(t,i){0!==r.length?r.forEach(function(e){a(t,e,i)}):window.setTimeout(i,0)},removeStartEventListener:function(t,i){0!==r.length&&r.forEach(function(e){d(t,e,i)})},endEvents:s,addEndEventListener:function(t,i){0!==s.length?s.forEach(function(e){a(t,e,i)}):window.setTimeout(i,0)},removeEndEventListener:function(t,i){0!==s.length&&s.forEach(function(e){d(t,e,i)})}};i.default=c,t.exports=i.default},492:function(t,i,e){},540:function(t,i,e){"use strict";i.a={keyCode:{left:37,up:38,right:39,down:40}}},723:function(t,i,e){window,t.exports=function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var n,o=function(t,i){var e=i.x-t.x,n=i.y-t.y;return Math.sqrt(e*e+n*n)},r=function(t){return t*(Math.PI/180)},s=function(t,i,e){for(var n,o=i.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent&&t.attachEvent(n,e)},a=function(t,i,e){for(var n,o=i.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.removeEventListener?t.removeEventListener(n,e):t.detachEvent&&t.detachEvent(n,e)},d=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},c=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},p=function(t,i){i.top||i.right||i.bottom||i.left?(t.style.top=i.top,t.style.right=i.right,t.style.bottom=i.bottom,t.style.left=i.left):(t.style.left=i.x+"px",t.style.top=i.y+"px")},u=function(t,i,e){var n=l(t);for(var o in n)if(n.hasOwnProperty(o))if("string"==typeof i)n[o]=i+" "+e;else{for(var r="",s=0,a=i.length;s<a;s+=1)r+=i[s]+" "+e+", ";n[o]=r.slice(0,-2)}return n},l=function(t){var i={};return i[t]="",["webkit","Moz","o"].forEach(function(e){i[e+t.charAt(0).toUpperCase()+t.slice(1)]=""}),i},h=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},f=function(t,i){if(t.length)for(var e=0,n=t.length;e<n;e+=1)i(t[e]);else i(t)},m=!!("ontouchstart"in window),y=!!window.PointerEvent,v=!!window.MSPointerEvent,g={start:"mousedown",move:"mousemove",end:"mouseup"},b={};function w(){}y?n={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:v?n={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:m?(n={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},b=g):n=g,w.prototype.on=function(t,i){var e,n=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var o=0;o<n.length;o+=1)e=n[o],this._handlers_[e]=this._handlers_[e]||[],this._handlers_[e].push(i);return this},w.prototype.off=function(t,i){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===i?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(i)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(i),1),this},w.prototype.trigger=function(t,i){var e,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)e=o[r],n._handlers_[e]&&n._handlers_[e].length&&n._handlers_[e].forEach(function(t){t.call(n,{type:e,target:n},i)})},w.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,i){var e={};for(var n in t)t.hasOwnProperty(n)&&i.hasOwnProperty(n)?e[n]=i[n]:t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.options,t))},w.prototype.bindEvt=function(t,i){var e=this;return e._domHandlers_=e._domHandlers_||{},e._domHandlers_[i]=function(){"function"==typeof e["on"+i]?e["on"+i].apply(e,arguments):console.warn('[WARNING] : Missing "on'+i+'" handler.')},s(t,n[i],e._domHandlers_[i]),b[i]&&s(t,b[i],e._domHandlers_[i]),e},w.prototype.unbindEvt=function(t,i){return this._domHandlers_=this._domHandlers_||{},a(t,n[i],this._domHandlers_[i]),b[i]&&a(t,b[i],this._domHandlers_[i]),delete this._domHandlers_[i],this};var O=w;function x(t,i){return this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1},this.config(i),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=x.id,x.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}x.prototype=new O,x.constructor=x,x.id=0,x.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},x.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",i=function(t,i){var e=l("borderRadius");for(var n in e)e.hasOwnProperty(n)&&(e[n]="50%");return e}(),e=u("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},h(n.el,e),h(n.back,i),h(n.front,i),this.applyStyles(n),this},x.prototype.applyStyles=function(t){for(var i in this.ui)if(this.ui.hasOwnProperty(i))for(var e in t[i])this.ui[i].style[e]=t[i][e];return this},x.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},x.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},x.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},x.prototype.show=function(t){var i=this;return i.options.dataOnly?i:(clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.addToDom(),i.restCallback(),setTimeout(function(){i.ui.el.style.opacity=1},0),i.showTimeout=setTimeout(function(){i.trigger("shown",i.instance),"function"==typeof t&&t.call(this)},i.options.fadeTime),i)},x.prototype.hide=function(t){var i=this;return i.options.dataOnly?i:(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout(function(){var e="dynamic"===i.options.mode?"none":"block";i.ui.el.style.display=e,"function"==typeof t&&t.call(i),i.trigger("hidden",i.instance)},i.options.fadeTime),i.options.restJoystick&&i.restPosition(),i)},x.prototype.restPosition=function(t){var i=this;i.frontPosition={x:0,y:0};var e=i.options.fadeTime+"ms",n={};n.front=u("transition",["top","left"],e);var o={front:{}};o.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(n),i.applyStyles(o),i.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(i),i.restCallback()},i.options.fadeTime)},x.prototype.restCallback=function(){var t={};t.front=u("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},x.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},x.prototype.computeDirection=function(t){var i,e,n,o=t.angle.radian,r=Math.PI/4,s=Math.PI/2;if(o>r&&o<3*r&&!t.lockX?i="up":o>-r&&o<=r&&!t.lockY?i="left":o>3*-r&&o<=-r&&!t.lockX?i="down":t.lockY||(i="right"),t.lockY||(e=o>-s&&o<s?"left":"right"),t.lockX||(n=o>0?"up":"down"),t.force>this.options.threshold){var a,d={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(d[a]=this.direction[a]);var c={};for(a in this.direction={x:e,y:n,angle:i},t.direction=this.direction,d)d[a]===this.direction[a]&&(c[a]=!0);if(c.x&&c.y&&c.angle)return t;c.x&&c.y||this.trigger("plain",t),c.x||this.trigger("plain:"+e,t),c.y||this.trigger("plain:"+n,t),c.angle||this.trigger("dir dir:"+i,t)}return t};var k=x;function _(t,i){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=_.id,_.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1},this.config(i),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}_.prototype=new O,_.constructor=_,_.id=0,_.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(i){if(void 0===i)return t[0];for(var e=0,n=t.length;e<n;e+=1)if(t[e].identifier===i)return t[e];return!1}},_.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},_.prototype.begin=function(){var t=this.options;if("static"===t.mode){var i=this.createNipple(t.position,this.manager.getIdentifier());i.add(),this.idles.push(i)}},_.prototype.createNipple=function(t,i){var e=c(),n={},o=this.options;if(t.x&&t.y)n={x:t.x-(e.x+this.box.left),y:t.y-(e.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var r=document.createElement("DIV");r.style.display="hidden",r.style.top=t.top,r.style.right=t.right,r.style.bottom=t.bottom,r.style.left=t.left,r.style.position="absolute",o.zone.appendChild(r);var s=r.getBoundingClientRect();o.zone.removeChild(r),n=t,t={x:s.left+e.x,y:s.top+e.y}}var a=new k(this,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:i,position:t,zone:o.zone,frontPosition:{x:0,y:0}});return o.dataOnly||(p(a.ui.el,n),p(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},_.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},_.prototype.bindNipple=function(t){var i,e=this,n=function(t,n){i=t.type+" "+n.id+":"+t.type,e.trigger(i,n)};t.on("destroyed",e.onDestroyed.bind(e)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},_.prototype.pressureFn=function(t,i,e){var n=this,o=0;clearInterval(n.pressureIntervals[e]),n.pressureIntervals[e]=setInterval(function(){var e=t.force||t.pressure||t.webkitForce||0;e!==o&&(i.trigger("pressure",e),n.trigger("pressure "+i.identifier+":pressure",e),o=e)}.bind(n),100)},_.prototype.onstart=function(t){var i=this,e=i.options,n=t;return t=d(t),i.updateBox(),f(t,function(o){i.actives.length<e.maxNumberOfNipples?i.processOnStart(o):n.type.match(/^touch/)&&(Object.keys(i.manager.ids).forEach(function(e){if(Object.values(n.touches).findIndex(function(t){return t.identifier===e})<0){var o=[t[0]];o.identifier=e,i.processOnEnd(o)}}),i.actives.length<e.maxNumberOfNipples&&i.processOnStart(o))}),i.manager.bindDocument(),!1},_.prototype.processOnStart=function(t){var i,e=this,n=e.options,r=e.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},d=e.getOrCreate(r,a);d.identifier!==r&&e.manager.removeIdentifier(d.identifier),d.identifier=r;var c=function(i){i.trigger("start",i),e.trigger("start "+i.id+":start",i),i.show(),s>0&&e.pressureFn(t,i,i.identifier),e.processOnMove(t)};if((i=e.idles.indexOf(d))>=0&&e.idles.splice(i,1),e.actives.push(d),e.ids.push(d.identifier),"semi"!==n.mode)c(d);else{if(!(o(a,d.position)<=n.catchDistance))return d.destroy(),void e.processOnStart(t);c(d)}return d},_.prototype.getOrCreate=function(t,i){var e,n=this.options;return/(semi|static)/.test(n.mode)?(e=this.idles[0])?(this.idles.splice(0,1),e):"semi"===n.mode?this.createNipple(i,t):(console.warn("Coudln't find the needed nipple."),!1):e=this.createNipple(i,t)},_.prototype.processOnMove=function(t){var i=this.options,e=this.manager.getIdentifier(t),n=this.nipples.get(e);if(!n)return console.error("Found zombie joystick with ID "+e),void this.manager.removeIdentifier(e);n.identifier=e;var s,a,d,c,u,l,h,f,m=n.options.size/2,y={x:t.pageX,y:t.pageY},v=o(y,n.position),g=(s=y,d=(a=n.position).x-s.x,c=a.y-s.y,function(t){return t*(180/Math.PI)}(Math.atan2(c,d))),b=r(g),w=v/m,O={distance:v,position:y};v>m&&(v=m,u=n.position,l=v,f={x:0,y:0},h=r(h=g),f.x=u.x-l*Math.cos(h),f.y=u.y-l*Math.sin(h),y=f);var x=y.x-n.position.x,k=y.y-n.position.y;i.lockX&&(k=0),i.lockY&&(x=0),n.frontPosition={x:x,y:k},i.dataOnly||p(n.ui.front,n.frontPosition);var _={identifier:n.identifier,position:y,force:w,pressure:t.force||t.pressure||t.webkitForce||0,distance:v,angle:{radian:b,degree:g},raw:O,instance:n,lockX:i.lockX,lockY:i.lockY};(_=n.computeDirection(_)).angle={radian:r(180-g),degree:180-g},n.trigger("move",_),this.trigger("move "+n.id+":move",_)},_.prototype.processOnEnd=function(t){var i=this,e=i.options,n=i.manager.getIdentifier(t),o=i.nipples.get(n),r=i.manager.removeIdentifier(o.identifier);o&&(e.dataOnly||o.hide(function(){"dynamic"===e.mode&&(o.trigger("removed",o),i.trigger("removed "+o.id+":removed",o),i.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(i.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),i.trigger("end "+o.id+":end",o),i.ids.indexOf(o.identifier)>=0&&i.ids.splice(i.ids.indexOf(o.identifier),1),i.actives.indexOf(o)>=0&&i.actives.splice(i.actives.indexOf(o),1),/(semi|static)/.test(e.mode)?i.idles.push(o):i.nipples.indexOf(o)>=0&&i.nipples.splice(i.nipples.indexOf(o),1),i.manager.unbindDocument(),/(semi|static)/.test(e.mode)&&(i.manager.ids[r.id]=r.identifier))},_.prototype.onDestroyed=function(t,i){this.nipples.indexOf(i)>=0&&this.nipples.splice(this.nipples.indexOf(i),1),this.actives.indexOf(i)>=0&&this.actives.splice(this.actives.indexOf(i),1),this.idles.indexOf(i)>=0&&this.idles.splice(this.idles.indexOf(i),1),this.ids.indexOf(i.identifier)>=0&&this.ids.splice(this.ids.indexOf(i.identifier),1),this.manager.removeIdentifier(i.identifier),this.manager.unbindDocument()},_.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var E=_;function T(t){var i,e=this;return e.ids={},e.index=0,e.collections=[],e.config(t),e.prepareCollections(),s(window,"resize",function(t){clearTimeout(i),i=setTimeout(function(){var t,i=c();e.collections.forEach(function(e){e.forEach(function(e){t=e.el.getBoundingClientRect(),e.position={x:i.x+t.left,y:i.y+t.top}})})},100)}),e.collections}T.prototype=new O,T.constructor=T,T.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(i){var e;return t.collections.every(function(t){return!(e=t.get(i))}),e}},T.prototype.create=function(t){return this.createCollection(t)},T.prototype.createCollection=function(t){var i=new E(this,t);return this.bindCollection(i),this.collections.push(i),i},T.prototype.bindCollection=function(t){var i,e=this,n=function(t,n){i=t.type+" "+n.id+":"+t.type,e.trigger(i,n)};t.on("destroyed",e.onDestroyed.bind(e)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},T.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},T.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},T.prototype.getIdentifier=function(t){var i;return t?void 0===(i=void 0===t.identifier?t.pointerId:t.identifier)&&(i=this.latest||0):i=this.index,void 0===this.ids[i]&&(this.ids[i]=this.index,this.index+=1),this.latest=i,this.ids[i]},T.prototype.removeIdentifier=function(t){var i={};for(var e in this.ids)if(this.ids[e]===t){i.id=e,i.identifier=this.ids[e],delete this.ids[e];break}return i},T.prototype.onmove=function(t){return this.onAny("move",t),!1},T.prototype.onend=function(t){return this.onAny("end",t),!1},T.prototype.oncancel=function(t){return this.onAny("end",t),!1},T.prototype.onAny=function(t,i){var e,n=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return i=d(i),f(i,function(t){e=n.getIdentifier(t),f(n.collections,function(t,i,e){e.ids.indexOf(i)>=0&&(e[o](t),t._found_=!0)}.bind(null,t,e)),t._found_||n.removeIdentifier(e)}),!1},T.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},T.prototype.onDestroyed=function(t,i){if(this.collections.indexOf(i)<0)return!1;this.collections.splice(this.collections.indexOf(i),1)};var z=new T;i.default={create:function(t){return z.create(t)},factory:z}}]).default},89:function(t,i,e){"use strict";e.r(i);var n,o,r,s=e(1),a=e.n(s),d=e(11),c=(e(492),e(540)),p=e(53),u=e.n(p),l=(e(52),e(723)),h=e.n(l),f=(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),m=c.a.keyCode;!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(r||(r={}));var y=r.Up,v=r.Down,g=r.Left,b=r.Right,w=((o={})[y]=v,o[v]=y,o[g]=b,o[b]=g,o),O=function(){return[0,1,2,3,4,5,6,7,8,9]},x=200,k=function(t,i){var e=d.a.random(0,i-1);return t.includes(e)?k(t,i):e},_=function(t){function i(i){var e=t.call(this,i)||this;return e.size=(e.props.isMobile,20),e.rowCount=~~(e.props.w/e.size),e.colCount=~~(e.props.h/e.size),e.max=e.rowCount*e.colCount,e.direction=b,e.snake=O(),e.friut=k(e.snake,e.max),e.speed=x,e.count=0,e.state={isGameOver:!1,hint:""},e.keydown=function(t){switch(t.keyCode){case m.up:e.go(y);break;case m.down:e.go(v);break;case m.left:e.go(g);break;case m.right:e.go(b)}},e.go=function(t){e.state.isGameOver||(e.direction!==w[t]&&(e.direction=t),e.init())},e.init=function(){clearInterval(e.interval),e.doCycle(),e.interval=setInterval(e.doCycle,e.speed)},e.reset=function(){e.setState({isGameOver:!1},function(){e.clearReact(),e.snake=O(),e.direction=b,e.speed=x,e.init()})},e.doCycle=function(){e.resetSnake(),e.drawSnake()},e.clearReact=function(){var t=e.props,i=t.w,n=t.h;e.ctx.clearRect(0,0,i,n)},e.resetSnake=function(){e.clearReact();var t=e.snake[e.snake.length-1],i=e.getHead(t);if(t===e.friut){if(e.friut=k(e.snake,e.max),7===e.count)return e.speed*=.8,e.count=0,void e.init();e.count++}else e.snake.shift();e.snake.includes(i)?(clearInterval(e.interval),e.setState({hint:"Game Over",isGameOver:!0})):e.snake.length===e.max?(clearInterval(e.interval),e.setState({hint:"You Win!!!",isGameOver:!0})):e.snake.push(i)},e.drawFriut=function(){e.draw(e.friut,"#666")},e.getHead=function(t){var i,n=e,o=n.rowCount,r=n.colCount,s=n.max;switch(n.direction){case g:return~~((i=t-1)/o)!=~~(t/o)||t<=0?t+o-1:i;case b:return~~((i=t+1)/o)!=~~(t/o)?t-o+1:i;case y:return(i=t-o)<0?s+t%o:i;case v:return~~((i=t+o)/o)>r?t%o:i}},e.drawSnake=function(){e.drawFriut();var t=e.snake.length;e.snake.forEach(function(i,n){return e.draw(i,n!==t-1?"#666":"#333")})},e.draw=function(t,i){e.ctx.fillStyle=i,e.ctx.fillRect(t%e.rowCount*e.size+1,~~(t/e.rowCount)*e.size+1,e.size-1,e.size-1)},document.addEventListener("keydown",e.keydown),e}return f(i,t),i.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keydown)},i.prototype.componentDidMount=function(){var t=this;this.ctx=this.canvas.getContext("2d"),this.init();var i=h.a.create({zone:this.remote,color:"#777"});i.on("dir:up",function(){return t.go(y)}),i.on("dir:down",function(){return t.go(v)}),i.on("dir:left",function(){return t.go(g)}),i.on("dir:right",function(){return t.go(b)})},i.prototype.render=function(){var t=this,i=this.props,e=i.w,n=i.h,o=this.state,r=o.isGameOver,s=o.hint;return a.a.createElement("div",{className:"snake-wrapper"},a.a.createElement("canvas",{ref:function(i){return t.canvas=i},width:e,height:n,style:{backgroundColor:"#dcdcdc"}}),a.a.createElement("div",{className:"remote-area",ref:function(i){return t.remote=i}}),r?a.a.createElement("div",{className:"over"},a.a.createElement("div",{className:"hint"},s),a.a.createElement(u.a,{type:"primary",onClick:this.reset},"Reset")):"")},i}(a.a.Component);i.default=d.a.connect({component:_,mapStateToProps:function(t){return{w:t.common.contentWidth,h:t.common.contentHeight,isMobile:t.common.isMobile}}})}}]);
//# sourceMappingURL=12.23123d4df3181f1cbdef.bundle.js.map