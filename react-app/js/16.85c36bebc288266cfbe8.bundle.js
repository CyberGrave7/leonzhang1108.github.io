(window.webpackJsonp=window.webpackJsonp||[]).push([[16,44,64],{171:function(e,t,r){"use strict";r.r(t);var c=[[0,1],[0,-1],[-1,0],[1,0],[-1,-1],[-1,1],[1,-1],[1,1]],n=0,a=1,o=2,i=function(e){var t=e.x,r=e.y,c=e.checkerboard,i=e.player,s=e.direction,l=s[0],h=s[1],u=0,d=i?a:o;for(t+=l,r+=h;t>=0&&t<=7&&r>=0&&r<=7&&c[t][r]!==n&&2!==u;){if(c[t][r]===d)u++,d=i?o:a;else if(1!==u)break;t+=l,r+=h}return 2===u};t.default={couldClick:function(e){var t=e.x,r=e.y,n=e.checkerboard,a=e.player;return c.some(function(e){return i({x:t,y:r,checkerboard:n,player:a,direction:e})})},clickToCover:function(e){var t=e.x,r=e.y,s=e.checkerboard,l=e.player,h=[];return c.forEach(function(e){var c=e[0],u=e[1],d=t,p=r;if(d+=c,p+=u,i({x:t,y:r,checkerboard:s,player:l,direction:e}))for(;d>=0&&d<=7&&p>=0&&p<=7&&s[d][p]!==n&&s[d][p]!==(l?o:a);)s[d][p]=l?o:a,h.push({x:d,y:p}),d+=c,p+=u}),{c:s,r:h}}}},308:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var c,n=r(9),a=r(315),o=r.n(a),i=(r(153),r(359)),s=r.n(i),l=(r(358),r(1)),h=(r(308),r(171)),u=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d={empty:0,black:1,white:2,blackHover:3,whiteHover:4},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){var e=t.initCheckerboard(),r=e.checkerboard,c=e.size;t.setState({checkerboard:r,history:[],step:0,size:c})},t.initCheckerboard=function(){var e=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,1,2,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];return{checkerboard:e,size:t.flatten(e).length}},t.flatten=function(e){return e.reduce(function(e,r){return e.concat(Array.isArray(r)?t.flatten(r):r)},[])},t.couldClick=function(e){var r=e.x,c=e.y,n=t.state,a=n.checkerboard,o=n.step;return h.default.couldClick({x:r,y:c,checkerboard:a,player:o%2})},t.itemMouseEnter=function(e){var r=e.rowIndex,c=e.itemIndex,n=t.state,a=n.checkerboard,o=n.step,i=d.blackHover,s=d.whiteHover;a[r][c]===d.empty&&t.couldClick({x:r,y:c})&&(a[r][c]=o%2==0?i:s,t.setState({checkerboard:a}))},t.itemMouseLeave=function(e){var r=e.rowIndex,c=e.itemIndex,n=t.state.checkerboard;n[r][c]!==d.blackHover&&n[r][c]!==d.whiteHover||(n[r][c]=d.empty,t.setState({checkerboard:n}))},t.itemClick=function(e){var r=e.rowIndex,c=e.itemIndex,n=t.state,a=n.checkerboard,o=n.step,i=n.history,s=d.black,l=d.white;if(a[r][c]!==s&&a[r][c]!==l&&t.couldClick({x:r,y:c})){a[r][c]=o%2==0?s:l;var u=h.default.clickToCover({x:r,y:c,checkerboard:a,player:o%2}),p=u.c,k=u.r;i.push({curr:{x:r,y:c},reverse:k}),t.setState({checkerboard:p,step:i.length,history:i})}},t.pass=function(){var e=t.state.history;e.push({}),t.setState({step:e.length,history:e})},t.retract=function(){var e=t.state,r=e.history,c=e.checkerboard,n=r.pop(),a=n.curr,o=n.reverse;if(a){var i=a.x,s=a.y,l=d.empty,h=d.black,u=d.white;c[i][s]=l,o.forEach(function(e){c[e.x][e.y]=c[e.x][e.y]===u?h:u})}t.setState({history:r,step:r.length,checkerboard:c})},t.renderItem=function(e,r,c){var a=t.state.checkerboard[r][c],o=d.black,i=d.white,s=d.blackHover,h=d.whiteHover,u=a?["chosen"]:[];if(u.length)switch(a){case o:u.push("black selected");break;case i:u.push("white selected");break;case s:u.push("black");break;case h:u.push("white")}return l.createElement("td",{className:"item",key:c,onClick:n.a.handle(t.itemClick,{rowIndex:r,itemIndex:c}),onMouseOver:n.a.handle(t.itemMouseEnter,{rowIndex:r,itemIndex:c}),onMouseLeave:n.a.handle(t.itemMouseLeave,{rowIndex:r,itemIndex:c})},l.createElement("div",{className:u.join(" ")},l.createElement("div",{className:"chess front"}),l.createElement("div",{className:"chess back"})))},t.renderRow=function(e,r){return l.createElement("tr",{className:"row",key:r},e.map(function(e,c){return t.renderItem(e,r,c)}))},t.getScore=function(){var e=t.state.checkerboard,r=0,c=0;return e.forEach(function(e){return e.forEach(function(e){e===d.black&&r++,e===d.white&&c++})}),{black:r,white:c}},t.isWin=function(e){var t,r=e.black,c=e.white,n="";r+c===e.size?r>c?(n="Victory",t="black wins"):r<c?(n="Victory",t="white wins"):(n="Peace",t="Draw"):r&&c||(r?(n="Victory",t="black wins"):c&&(n="Victory",t="white wins")),n&&t&&s.a.info({title:n,content:t})},t}return u(t,e),t.prototype.componentWillMount=function(){this.reset()},t.prototype.render=function(){var e=this.state,t=e.checkerboard,r=e.history,c=e.step,n=e.size,a=this.props.isMobile,i=this.getScore(),s=i.black,h=i.white,u=s+h===n||r.length&&0===Object.keys(r[r.length-1]).length;return this.isWin({black:s,white:h,size:n}),l.createElement("div",{className:"reversi-wrapper"},l.createElement("div",{className:"reversi-top"},l.createElement("div",{className:"top black "+(a?"":"bigger")+" "+(c%2==1?"":"current")},s),l.createElement("div",{className:"top white "+(a?"":"bigger")+" "+(c%2==1?"current":"")},h)),l.createElement("div",{className:a?"checkerboard":"checkerboard bigger"},l.createElement("table",null,l.createElement("tbody",null,t.map(this.renderRow)))),l.createElement("div",{className:"reversi-bottom"},l.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.reset},"Reset"),l.createElement(o.a,{type:"primary",disabled:!!u,onClick:this.pass},"Pass"),l.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.retract},"Retract")))},t}(l.Component);t.default=n.a.connect({component:p,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);
//# sourceMappingURL=16.85c36bebc288266cfbe8.bundle.js.map