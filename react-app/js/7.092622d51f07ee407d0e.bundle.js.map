{"version":3,"sources":["webpack:///./src/pages/MusicVisualizer/file-loading.tsx","webpack:///./src/pages/MusicVisualizer/floating-title.tsx","webpack:///./src/pages/MusicVisualizer/time-bar.tsx","webpack:///./src/pages/MusicVisualizer/tools.ts","webpack:///./src/pages/MusicVisualizer/visualizer.ts","webpack:///./src/pages/MusicVisualizer/volume-bar.tsx","webpack:///./node_modules/rc-progress/es/enhancer.js","webpack:///./node_modules/rc-progress/es/types.js","webpack:///./node_modules/rc-progress/es/Line.js","webpack:///./node_modules/rc-progress/es/Circle.js","webpack:///./node_modules/rc-progress/es/index.js","webpack:///./src/pages/MusicVisualizer/index.tsx"],"names":["render","percent","formatPercent","loadingFail","className","type","Number","format","status","Component","doInterval","interval","setInterval","intervalContent","onOff","offsetWidth","setState","offset","clearInterval","componentWillMount","this","width","componentDidMount","wrapperWidth","wrapper","componentWillUnmount","componentWillReceiveProps","dom","musicName","ref","style","transform","totalTime","slideDuration","durationOffset","curr","durationChanging","durationChanged","formatTime","value","parseInt","onChange","onAfterChange","tipFormatter","draw","param","ctx","height","bars","barColor","arr","volume","vol","clearRect","Array","isArray","createLinearGradient","length","forEach","color","i","addColorStop","fillStyle","rectWidth","barWidth","capHeight","Math","min","rectHeight","capDistance","fillRect","size","currentTime","initAC","ac","AudioContext","gainNode","createGain","gain","connect","destination","analyser","createAnalyser","fftSize","load","url","callback","progressCb","abort","responseType","onDownloadProgress","v","loaded","total","cancelToken","CancelToken","c","axiosCancellation","then","response","data","catch","thrown","isCancel","console","log","message","play","src","cb","n","count","source","stop","decodeCallback","buffer","createBufferSource","e","ArrayBuffer","decodeAudioData","arrayBuffer","start","bufferSource","loop","visualize","updateVolume","Uint8Array","frequencyBinCount","raf","window","requestAnimationFrame","fn","getByteFrequencyData","rafId","setCurrent","isFirst","setCurrTime","duration","toFixed","pause","suspend","cancelAnimationFrame","resume","close","changeVolume","togglePause","setMute","mute","onClick","defaultValue","disabled","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_get","property","receiver","Reflect","get","base","object","prototype","hasOwnProperty","_getPrototypeOf","_superPropBase","desc","getOwnPropertyDescriptor","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","WrappedComponent","_WrappedComponent","Progress","instance","Constructor","TypeError","_classCallCheck","apply","arguments","protoProps","staticProps","subClass","superClass","create","constructor","_inherits","_this","now","Date","updated","keys","paths","path","pathStyle","transitionDuration","prevTimeStamp","defaultProps","prefixCls","strokeColor","strokeLinecap","strokeWidth","trailColor","trailWidth","mixedType","oneOfType","number","string","propTypes","arrayOf","oneOf","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_Component","Line","_getPrototypeOf2","obj","_len","args","_key","concat","_this2","_this$props","transition","restProps","gapPosition","percentList","strokeColorList","center","right","pathString","viewBoxString","stackPtg","createElement","viewBox","preserveAspectRatio","d","stroke","fillOpacity","map","ptg","index","strokeDasharray","strokeDashoffset","_objectSpread","ownKeys","filter","sym","getPathStyles","gapDegree","undefined","radius","beginPositionX","beginPositionY","endPositionX","endPositionY","len","PI","Circle","toString","_getPathStyles","_this$props2","_getPathStyles2","isGradient","id","x1","y1","x2","y2","stopColor","getStokeList","reverse","visibilityChange","visualizer","document","visibilityState","resize","canvas","state","isString","afterLoading","progress","mounted","isNaN","showAdd","loading","restartVisualizer","compatible","getContext","secondFormatToTime","durationToSecond","fileChange","input","files","reader","FileReader","name","readAsArrayBuffer","onload","res","currentTarget","result","m","addEventListener","isMobile","h","removeEventListener","href","accept","component","MusicVisualizer","mapStateToProps","common","contentHeight"],"mappings":"2dASA,2B,+CAsBA,OAtB0B,OACxB,YAAAA,OAAA,WACQ,iBAAEC,EAAA,EAAAA,QAASC,EAAA,EAAAA,cAAeC,EAAA,EAAAA,YAChC,OACE,yBAAKC,UAAU,gBAEC,IAAZH,GAAkBE,EAGfA,EAOG,GANF,kBAAC,IAAQ,CAACE,KAAK,SACbJ,QAASK,OAAOL,GAAWA,EAAU,EACrCM,OAAQL,EACRM,OAAQL,EAAc,YAAkC,MAApBG,OAAOL,GAAmB,UAAY,SAC1EG,UAAeD,GAAmC,MAApBG,OAAOL,GAA+B,GAAZ,YAP5D,yBAAKG,UAAU,aAe3B,EAtBA,CAA0B,IAAMK,WAuBjB,a,kXCnBf,yE,OAqCE,EAAAC,WAAa,WACX,EAAKC,SAAWC,YAAY,WAC1B,EAAKC,mBACJ,MAGL,EAAAA,gBAAkB,WACV,cAAEC,EAAA,EAAAA,MAAOC,EAAA,EAAAA,YACf,EAAKC,SAAS,CACZF,OAAQA,EACRG,OAAQH,EAAQ,EAAIC,KAIxB,EAAAG,cAAgB,WACV,EAAKP,UAAYO,cAAc,EAAKP,W,EAa5C,OAjE4B,OAM1B,YAAAQ,mBAAA,WACEC,KAAKJ,SAAS,CACZK,MAAO,EACPJ,OAAQ,EACRH,OAAO,EACPC,YAAa,KAIjB,YAAAO,kBAAA,WACEF,KAAKJ,SAAS,CAAEO,aAAcH,KAAKI,QAAQT,cAC3CK,KAAKV,cAGP,YAAAe,qBAAA,WACEL,KAAKF,iBAGP,YAAAQ,0BAAA,WACU,IAAAL,EAAA,WAAAA,MACR,GAAID,KAAKO,IAAIZ,cAAgBM,EAAO,CAClC,IAAIN,EAAeK,KAAKI,QAAQT,YAAcK,KAAKO,IAAIZ,YACvDA,EAAcA,GAAe,EAAIA,EAAc,EAC/CK,KAAKJ,SAAS,CACZK,MAAOD,KAAKO,IAAIZ,YAChBA,YAAW,EACXD,OAAO,MAuBb,YAAAd,OAAA,sBACU4B,EAAA,WAAAA,UACF,aAAEX,EAAA,EAAAA,OAAQF,EAAA,EAAAA,YAEhB,OACE,yBAAKX,UAAW,eAA8B,IAAhBW,EAAoB,OAAS,IAAMc,IAAK,SAAAA,GAAS,EAAKL,QAAUK,IAC5F,yBAAKC,MAAO,CAAEC,UAAW,cAAcd,EAAM,OAASb,UAAU,UAAUyB,IAAK,SAAAA,GAAS,EAAKF,IAAME,IAAQD,KAInH,EAjEA,CAA4B,IAAMnB,WAkEnB,a,6YCjEf,2B,+CAeA,OAfmB,OACjB,YAAAT,OAAA,WACQ,iBAAEgC,EAAA,EAAAA,UAAWC,EAAA,EAAAA,cAAeC,EAAA,EAAAA,eAAgBC,EAAA,EAAAA,KAAMC,EAAA,EAAAA,iBAAkBC,EAAA,EAAAA,gBAAiBC,EAAA,EAAAA,WAC3F,OACE,yBAAKlC,UAAU,aACb,kBAAC,IAAM,CAACA,UAAU,kBAChBmC,MAAOP,GAAaQ,UAAUP,GAAiBC,GAAkB,GAAI,IAAMC,GAAQ,IAAM,EACzFM,SAAUL,EACVM,cAAeL,EACfM,aAAc,OAEhB,6BAAML,OAId,EAfA,CAAmB,IAAM7B,WAgBV,a,iCC9Bf,OAAe,WACbmC,KAAM,SAAAC,GACI,IAAAC,EAAA,EAAAA,IAAKC,EAAA,EAAAA,OAAQ1B,EAAA,EAAAA,MAAO2B,EAAA,EAAAA,KAAMC,EAAA,EAAAA,SAClC,OAAO,SAACC,EAAKC,GACX,IAAMC,EAAMD,EAEZ,GADAL,EAAIO,UAAU,EAAG,EAAGhC,EAAO0B,GACvBO,MAAMC,QAAQN,GAAW,CAC3B,IAAM,EAAOH,EAAIU,qBAAqB,EAAG,EAAG,EAAGT,GACzC,EAAME,EAASQ,OACrBR,EAASS,QAAQ,SAACC,EAAOC,GACvB,EAAKC,aAAaD,GAAK,EAAM,GAAID,KAEnCb,EAAIgB,UAAY,OAEhBhB,EAAIgB,UAAYb,EAKlB,IAHA,IAAMc,EAAY1C,EAAQ2B,EACpBgB,EAAuB,GAAZD,EACXE,EAAYC,KAAKC,IAAIH,EAAU,IAAMZ,EAClCQ,EAAI,EAAGA,EAAIZ,EAAMY,IAAK,CAC7B,IAAMQ,EAAalB,EAAIU,GAAK,IAAMb,EAASK,EACrCiB,EAAcnB,EAAIU,GAAK,EACzBM,KAAKC,IAAIC,EAAa,GAAIrB,EAASkB,GACnC,EACJnB,EAAIwB,SAASP,EAAYH,EAAGb,EAASqB,EAAYJ,EAAUI,GAC3DtB,EAAIwB,SAASP,EAAYH,EAAGb,GAAUsB,EAAcJ,GAAYD,EAAUC,Q,iCCzBlF,6BAEA,EAkBE,SAAa,GAAb,WAAerB,EAAA,EAAAA,KAAM2B,EAAA,EAAAA,KAAMpB,EAAA,EAAAA,OAAQqB,EAAA,EAAAA,YAUnC,KAAAC,OAAS,WACP,EAAKC,GAAK,IAAIC,aACd,EAAKC,SAAW,EAAKF,GAAGG,aACxB,EAAKD,SAASE,KAAKvC,MAAQ,EAAKY,OAChC,EAAKyB,SAASG,QAAQ,EAAKL,GAAGM,aAC9B,EAAKC,SAAW,EAAKP,GAAGQ,iBACxB,EAAKD,SAASE,QAAsB,EAAZ,EAAKZ,KAC7B,EAAKU,SAASF,QAAQ,EAAKH,WAG7B,KAAAQ,KAAO,SAACC,EAAKC,EAAUC,GACrB,EAAKC,QACL,IAAM,CACJH,IAAG,EACHI,aAAc,cACdC,mBAAoB,SAAAC,GACV,IAAAC,EAAA,EAAAA,OAAQC,EAAA,EAAAA,MAChBN,EAAWK,EAASC,EAAQ,MAE9BC,YAAa,IAAI,IAAMC,YAAY,SAAAC,GACjC,EAAKC,kBAAoBD,MAE1BE,KAAK,SAAAC,GACNb,EAASa,EAASC,QACjBC,MAAM,SAAAC,GACH,IAAMC,SAASD,GACjBE,QAAQC,IAAI,mBAAoBH,EAAOI,SAEvCnB,EAAW,YAKjB,KAAAC,MAAQ,WAAM,SAAKS,mBAAqB,EAAKA,kBAAkB,UAE/D,KAAAU,KAAO,SAAC,G,IAAEC,EAAA,EAAAA,IAAKC,EAAA,EAAAA,GAAItB,EAAA,EAAAA,WACXuB,IAAM,EAAKC,MACb,EAAKC,QACP,EAAKA,OAAOC,OAEd,IAAMC,EAAiB,SAAAC,GAErB,GADA,EAAKA,OAASA,EACVL,IAAM,EAAKC,OAAS,EAAKrC,GAC3B,IACE,EAAK0C,mBAAmB,CAAED,OAAM,GAAIN,GACpC,MAAOQ,GACPb,QAAQC,IAAIY,KAIdT,aAAeU,YACjB,EAAK5C,GAAG6C,gBAAgBX,EAAKM,GAE7B,EAAK9B,KAAKwB,EAAK,SAAAY,GACb,EAAK9C,GAAG6C,gBAAgBC,EAAaN,IACpC3B,IAIP,KAAA6B,mBAAqB,SAAC,EAAuBP,G,IAArBM,EAAA,EAAAA,OAAQ,IAAAM,aAAA,IAAQ,EAAR,IAE9B,GADI,EAAKT,QAAU,EAAKA,OAAOC,OAC1B,EAAKE,OAAV,CACA,IAAMO,EAAe,EAAKhD,GAAG0C,qBAC7BM,EAAaP,OAAS,EAAKA,OAASA,EACpCO,EAAaC,MAAO,EACpBD,EAAa3C,QAAQ,EAAKE,UAC1ByC,EAAaD,MAAM,EAAGA,GACtB,EAAKT,OAASU,EACd,EAAKE,YACDf,GAAMA,MAGZ,KAAAgB,aAAe,SAAAzE,GACboD,QAAQC,IAAIrD,GACZ,EAAKwB,SAASE,KAAKvC,MAAQ,EAAKY,OAASC,GAG3C,KAAAwE,UAAY,WACV,IAAM1E,EAAM,IAAI4E,WAAW,EAAK7C,SAAS8C,mBACnCC,EAAMC,OAAOC,sBACbC,EAAK,WACT,EAAKlD,SAASmD,qBAAqBlF,GACnC,EAAKN,KAAKM,EAAK,EAAKC,QACpB,EAAKkF,MAAQL,EAAIG,IAEnBA,KAGF,KAAAG,WAAa,SAACb,QAAA,IAAAA,MAAA,GACJ,IAAAN,EAAA,EAAAA,OACR,EAAKhF,KAAO,EACZ,EAAKiF,mBAAmB,CAAED,OAAM,EAAEM,MAAK,IACvC,EAAK7G,aAAY,IAGnB,KAAAA,YAAc,SAAC2H,GACT,EAAK5H,UAAYO,cAAc,EAAKP,UACpC4H,GAAW,EAAKC,YAAYD,GAChC,EAAK5H,SAAWC,YAAY,WAC1B,EAAK4H,eACJ,MAGL,KAAAA,YAAc,SAACD,GACb,IAAM1C,EAAQ,EAAKsB,OAAS,EAAKA,OAAOsB,SAASC,QAAQ,GAAK,EAC9D,EAAKlE,YAAY,CAAErC,KAAMoG,EAAU,IAAM,EAAKpG,KAAO0D,MAAK,KAG5D,KAAA8C,MAAQ,WACN,EAAKjE,GAAGkE,UACRX,OAAOY,qBAAqB,EAAKR,OAC7B,EAAK1H,UAAYO,cAAc,EAAKP,WAG1C,KAAAmI,OAAS,WACP,EAAKpE,GAAGoE,SACR,EAAKlB,YACL,EAAKhH,eAGP,KAAAqG,KAAO,WACL,EAAKzB,QACL,EAAKd,GAAGqE,QACRd,OAAOY,qBAAqB,EAAKR,QApIjCjH,KAAK4F,OAAS,KACd5F,KAAK2F,MAAQ,EACb3F,KAAKwB,KAAOA,EACZxB,KAAKmD,KAAOA,EACZnD,KAAK+B,OAASA,EACd/B,KAAKoD,YAAcA,EACnBpD,KAAKqD,U,0ZCfT,2B,+CAWA,OAXqB,OACnB,YAAAzE,OAAA,WACQ,iBAAEgJ,EAAA,EAAAA,aAAcC,EAAA,EAAAA,YAAaN,EAAA,EAAAA,MAAOO,EAAA,EAAAA,QAASC,EAAA,EAAAA,KACnD,OACE,yBAAK/I,UAAU,eACb,yBAAKA,UAAW,qCAAoC+I,EAAO,OAAS,UAAYC,QAASF,IACzF,kBAAC,IAAM,CAAC9I,UAAU,SAASiJ,aAAc,GAAI5G,SAAUuG,EAAcrG,aAAc,KAAM2G,SAAUH,IACnG,yBAAKC,QAASH,EAAa7I,UAAW,qCAAoCuI,EAAQ,OAAS,aAInG,EAXA,CAAqB,IAAMlI,WAYZ,a,kFCtBf,SAAS8I,EAAkBC,EAAQC,GAAS,IAAK,IAAI7F,EAAI,EAAGA,EAAI6F,EAAMhG,OAAQG,IAAK,CAAE,IAAI8F,EAAaD,EAAM7F,GAAI8F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAI7S,SAASO,EAA2BC,EAAMC,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAElG,SAAgCD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAFfG,CAAuBH,GAAtCC,EAIjI,SAASG,EAAKd,EAAQe,EAAUC,GAAuV,OAAtRF,EAA9B,oBAAZG,SAA2BA,QAAQC,IAAcD,QAAQC,IAAqB,SAAclB,EAAQe,EAAUC,GAAY,IAAIG,EAErL,SAAwBC,EAAQL,GAAY,MAAQT,OAAOe,UAAUC,eAAeX,KAAKS,EAAQL,IAA8D,QAAjDK,EAASG,EAAgBH,MAAuC,OAAOA,EAFOI,CAAexB,EAAQe,GAAW,GAAKI,EAAL,CAAmB,IAAIM,EAAOnB,OAAOoB,yBAAyBP,EAAMJ,GAAW,OAAIU,EAAKP,IAAcO,EAAKP,IAAIP,KAAKK,GAAoBS,EAAK1I,SAAwBiH,EAAQe,EAAUC,GAAYhB,GAIja,SAASuB,EAAgBI,GAAwJ,OAAnJJ,EAAkBjB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAIxM,SAASI,EAAgBJ,EAAGK,GAA+G,OAA1GD,EAAkBzB,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,IAmDe,EAnDA,SAAkBC,GAC/B,OAEE,SAAUC,GAGR,SAASC,IAGP,OA7BR,SAAyBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCA2BxGC,CAAgB3K,KAAMuK,GAEf1B,EAA2B7I,KAAM2J,EAAgBY,GAAUK,MAAM5K,KAAM6K,YAzBtF,IAAsBJ,EAAaK,EAAYC,EA8DzC,OAlDN,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIP,UAAU,sDAAyDM,EAASvB,UAAYf,OAAOwC,OAAOD,GAAcA,EAAWxB,UAAW,CAAE0B,YAAa,CAAEhK,MAAO6J,EAAUvC,UAAU,EAAMD,cAAc,KAAeyC,GAAYd,EAAgBa,EAAUC,GAQ7WG,CAAUb,EA2CVF,GA/DgBI,EA4BHF,GA5BgBO,EA4BN,CAAC,CACtBlC,IAAK,qBACLzH,MAAO,WACL,IAAIkK,EAAQrL,KAERsL,EAAMC,KAAKD,MACXE,GAAU,EACd9C,OAAO+C,KAAKzL,KAAK0L,OAAOpJ,QAAQ,SAAUsG,GACxC,IAAI+C,EAAON,EAAMK,MAAM9C,GAEvB,GAAK+C,EAAL,CAIAH,GAAU,EACV,IAAII,EAAYD,EAAKjL,MACrBkL,EAAUC,mBAAqB,sBAE3BR,EAAMS,eAAiBR,EAAMD,EAAMS,cAAgB,MACrDF,EAAUC,mBAAqB,aAI/BL,IACFxL,KAAK8L,cAAgBP,KAAKD,SAG7B,CACD1C,IAAK,SACLzH,MAAO,WACL,OAAO+H,EAAKS,EAAgBY,EAASd,WAAY,SAAUzJ,MAAM+I,KAAK/I,WA1DFmI,EAAkBsC,EAAYhB,UAAWqB,GAAiBC,GAAa5C,EAAkBsC,EAAaM,GA8DvKR,EA7CJ,I,gBCpBEwB,EAAe,CACxB/M,UAAW,GACXH,QAAS,EACTmN,UAAW,cACXC,YAAa,UACbC,cAAe,QACfC,YAAa,EACbzL,MAAO,GACP0L,WAAY,UACZC,WAAY,GAEVC,EAAY,IAAUC,UAAU,CAAC,IAAUC,OAAQ,IAAUC,SACtDC,EAAY,CACrB1N,UAAW,IAAUyN,OACrB5N,QAAS,IAAU0N,UAAU,CAACD,EAAW,IAAUK,QAAQL,KAC3DN,UAAW,IAAUS,OACrBR,YAAa,IAAUM,UAAU,CAAC,IAAUE,OAAQ,IAAUE,QAAQ,IAAUF,QAAS,IAAUjD,SACnG0C,cAAe,IAAUU,MAAM,CAAC,OAAQ,QAAS,WACjDT,YAAaG,EACb5L,MAAO,IAAU8I,OACjB4C,WAAY,IAAUK,OACtBJ,WAAYC,GCtBd,SAASO,IAA2Q,OAA9PA,EAAWnE,OAAOoE,QAAU,SAAU1E,GAAU,IAAK,IAAI5F,EAAI,EAAGA,EAAIqI,UAAUxI,OAAQG,IAAK,CAAE,IAAIoD,EAASiF,UAAUrI,GAAI,IAAK,IAAIoG,KAAOhD,EAAc8C,OAAOe,UAAUC,eAAeX,KAAKnD,EAAQgD,KAAQR,EAAOQ,GAAOhD,EAAOgD,IAAY,OAAOR,IAA2BwC,MAAM5K,KAAM6K,WAEhT,SAASkC,EAAyBnH,EAAQoH,GAAY,GAAc,MAAVpH,EAAgB,MAAO,GAAI,IAAkEgD,EAAKpG,EAAnE4F,EAEzF,SAAuCxC,EAAQoH,GAAY,GAAc,MAAVpH,EAAgB,MAAO,GAAI,IAA2DgD,EAAKpG,EAA5D4F,EAAS,GAAQ6E,EAAavE,OAAO+C,KAAK7F,GAAqB,IAAKpD,EAAI,EAAGA,EAAIyK,EAAW5K,OAAQG,IAAOoG,EAAMqE,EAAWzK,GAAQwK,EAASE,QAAQtE,IAAQ,IAAaR,EAAOQ,GAAOhD,EAAOgD,IAAQ,OAAOR,EAFxM+E,CAA8BvH,EAAQoH,GAAuB,GAAItE,OAAO0E,sBAAuB,CAAE,IAAIC,EAAmB3E,OAAO0E,sBAAsBxH,GAAS,IAAKpD,EAAI,EAAGA,EAAI6K,EAAiBhL,OAAQG,IAAOoG,EAAMyE,EAAiB7K,GAAQwK,EAASE,QAAQtE,IAAQ,GAAkBF,OAAOe,UAAU6D,qBAAqBvE,KAAKnD,EAAQgD,KAAgBR,EAAOQ,GAAOhD,EAAOgD,IAAU,OAAOR,EAMne,SAAS,EAAkBA,EAAQC,GAAS,IAAK,IAAI7F,EAAI,EAAGA,EAAI6F,EAAMhG,OAAQG,IAAK,CAAE,IAAI8F,EAAaD,EAAM7F,GAAI8F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAM7S,SAAS,EAAgByB,GAAwJ,OAAnJ,EAAkBrB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAExM,SAAS,EAAuBjB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAI/J,SAAS,EAAgBiB,EAAGK,GAA+G,OAA1G,EAAkB1B,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAQrK,IAAI,EAEJ,SAAUmD,GAGR,SAASC,IACP,IAAIC,EAEApC,EAxB4BvC,EAAMC,EAUjB2E,EAAK9E,EAAKzH,GAhBnC,SAAyBqJ,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAgC5G,CAAgB1K,KAAMwN,GAEtB,IAAK,IAAIG,EAAO9C,UAAUxI,OAAQuL,EAAO,IAAI1L,MAAMyL,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQhD,UAAUgD,GAOzB,OApCgC/E,EAgCG9I,KAAnCqL,IAhCsCtC,GAgCI0E,EAAmB,EAAgBD,IAAOzE,KAAK6B,MAAM6C,EAAkB,CAACzN,MAAM8N,OAAOF,MAhCpD,iBAAT7E,GAAqC,mBAATA,EAA8C,EAAuBD,GAAtCC,EAUxG2E,EAwBL,EAAuBrC,GAxBRlK,EAwByB,IAxB9ByH,EAwBqB,WAxBI8E,EAAOhF,OAAOC,eAAe+E,EAAK9E,EAAK,CAAEzH,MAAOA,EAAOoH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBiF,EAAI9E,GAAOzH,EA0BhLkK,EAtCX,IAAsBZ,EAAaK,EAAYC,EAwG7C,OAhGF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIP,UAAU,sDAAyDM,EAASvB,UAAYf,OAAOwC,OAAOD,GAAcA,EAAWxB,UAAW,CAAE0B,YAAa,CAAEhK,MAAO6J,EAAUvC,UAAU,EAAMD,cAAc,KAAeyC,GAAY,EAAgBD,EAAUC,GAajX,CAAUuC,EAoFV,gBAzGoB/C,EAyCP+C,GAzCoB1C,EAyCd,CAAC,CAClBlC,IAAK,SACLzH,MAAO,WACL,IAAI4M,EAAS/N,KAETgO,EAAchO,KAAKqI,MACnBrJ,EAAYgP,EAAYhP,UACxBH,EAAUmP,EAAYnP,QACtBmN,EAAYgC,EAAYhC,UACxBC,EAAc+B,EAAY/B,YAC1BC,EAAgB8B,EAAY9B,cAC5BC,EAAc6B,EAAY7B,YAC1BzL,EAAQsN,EAAYtN,MACpB0L,EAAa4B,EAAY5B,WACzBC,EAAa2B,EAAY3B,WACzB4B,EAAaD,EAAYC,WACzBC,EAAYnB,EAAyBiB,EAAa,CAAC,YAAa,UAAW,YAAa,cAAe,gBAAiB,cAAe,QAAS,aAAc,aAAc,sBAEzKE,EAAUC,YACjB,IAAIC,EAAclM,MAAMC,QAAQtD,GAAWA,EAAU,CAACA,GAClDwP,EAAkBnM,MAAMC,QAAQ8J,GAAeA,EAAc,CAACA,GAC9DqC,EAASnC,EAAc,EACvBoC,EAAQ,IAAMpC,EAAc,EAC5BqC,EAAa,KAAKV,OAAyB,UAAlB5B,EAA4BoC,EAAS,EAAG,KAAKR,OAAOQ,EAAQ,mBAAmBR,OAAyB,UAAlB5B,EAA4BqC,EAAQ,IAAK,KAAKT,OAAOQ,GACpKG,EAAgB,WAAWX,OAAO3B,GAClCuC,EAAW,EACf,OAAO,IAAMC,cAAc,MAAO9B,EAAS,CACzC7N,UAAW,GAAG8O,OAAO9B,EAAW,UAAU8B,OAAO9O,GACjD4P,QAASH,EACTI,oBAAqB,OACrBnO,MAAOA,GACNwN,GAAY,IAAMS,cAAc,OAAQ,CACzC3P,UAAW,GAAG8O,OAAO9B,EAAW,eAChC8C,EAAGN,EACHtC,cAAeA,EACf6C,OAAQ3C,EACRD,YAAaE,GAAcF,EAC3B6C,YAAa,MACXZ,EAAYa,IAAI,SAAUC,EAAKC,GACjC,IAAIvD,EAAY,CACdwD,gBAAiB,GAAGtB,OAAOoB,EAAK,aAChCG,iBAAkB,IAAIvB,OAAOY,EAAU,MACvCT,WAAYA,GAAc,oFAExB1L,EAAQ8L,EAAgBc,IAAUd,EAAgBA,EAAgBhM,OAAS,GAE/E,OADAqM,GAAYQ,EACL,IAAMP,cAAc,OAAQ,CACjC/F,IAAKuG,EACLnQ,UAAW,GAAG8O,OAAO9B,EAAW,cAChC8C,EAAGN,EACHtC,cAAeA,EACf6C,OAAQxM,EACR4J,YAAaA,EACb6C,YAAa,IACbvO,IAAK,SAAakL,GAChBoC,EAAOrC,MAAMyD,GAASxD,GAExBjL,MAAOkL,YAlG6D,EAAkBnB,EAAYhB,UAAWqB,GAAiBC,GAAa,EAAkBN,EAAaM,GAwG3KyC,EApFT,GAuFA,EAAKd,UAAYA,EACjB,EAAKX,aAAeA,EACL,QAAS,GCvHxB,SAASuD,EAAclH,GAAU,IAAK,IAAI5F,EAAI,EAAGA,EAAIqI,UAAUxI,OAAQG,IAAK,CAAE,IAAIoD,EAAyB,MAAhBiF,UAAUrI,GAAaqI,UAAUrI,GAAK,GAAQ+M,EAAU7G,OAAO+C,KAAK7F,GAAqD,mBAAjC8C,OAAO0E,wBAAwCmC,EAAUA,EAAQzB,OAAOpF,OAAO0E,sBAAsBxH,GAAQ4J,OAAO,SAAUC,GAAO,OAAO/G,OAAOoB,yBAAyBlE,EAAQ6J,GAAKlH,eAAmBgH,EAAQjN,QAAQ,SAAUsG,GAAO,EAAgBR,EAAQQ,EAAKhD,EAAOgD,MAAa,OAAOR,EAExd,SAAS,IAA2Q,OAA9P,EAAWM,OAAOoE,QAAU,SAAU1E,GAAU,IAAK,IAAI5F,EAAI,EAAGA,EAAIqI,UAAUxI,OAAQG,IAAK,CAAE,IAAIoD,EAASiF,UAAUrI,GAAI,IAAK,IAAIoG,KAAOhD,EAAc8C,OAAOe,UAAUC,eAAeX,KAAKnD,EAAQgD,KAAQR,EAAOQ,GAAOhD,EAAOgD,IAAY,OAAOR,IAA2BwC,MAAM5K,KAAM6K,WAEhT,SAAS,EAAyBjF,EAAQoH,GAAY,GAAc,MAAVpH,EAAgB,MAAO,GAAI,IAAkEgD,EAAKpG,EAAnE4F,EAEzF,SAAuCxC,EAAQoH,GAAY,GAAc,MAAVpH,EAAgB,MAAO,GAAI,IAA2DgD,EAAKpG,EAA5D4F,EAAS,GAAQ6E,EAAavE,OAAO+C,KAAK7F,GAAqB,IAAKpD,EAAI,EAAGA,EAAIyK,EAAW5K,OAAQG,IAAOoG,EAAMqE,EAAWzK,GAAQwK,EAASE,QAAQtE,IAAQ,IAAaR,EAAOQ,GAAOhD,EAAOgD,IAAQ,OAAOR,EAFxM,CAA8BxC,EAAQoH,GAAuB,GAAItE,OAAO0E,sBAAuB,CAAE,IAAIC,EAAmB3E,OAAO0E,sBAAsBxH,GAAS,IAAKpD,EAAI,EAAGA,EAAI6K,EAAiBhL,OAAQG,IAAOoG,EAAMyE,EAAiB7K,GAAQwK,EAASE,QAAQtE,IAAQ,GAAkBF,OAAOe,UAAU6D,qBAAqBvE,KAAKnD,EAAQgD,KAAgBR,EAAOQ,GAAOhD,EAAOgD,IAAU,OAAOR,EAMne,SAAS,EAAkBA,EAAQC,GAAS,IAAK,IAAI7F,EAAI,EAAGA,EAAI6F,EAAMhG,OAAQG,IAAK,CAAE,IAAI8F,EAAaD,EAAM7F,GAAI8F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAM7S,SAAS,EAAgByB,GAAwJ,OAAnJ,EAAkBrB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAExM,SAAS,EAAuBjB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAI/J,SAAS,EAAgBiB,EAAGK,GAA+G,OAA1G,EAAkB1B,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,SAAS,EAAgBsD,EAAK9E,EAAKzH,GAAiK,OAApJyH,KAAO8E,EAAOhF,OAAOC,eAAe+E,EAAK9E,EAAK,CAAEzH,MAAOA,EAAOoH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBiF,EAAI9E,GAAOzH,EAAgBuM,EAQ3M,SAASgC,EAAc7P,EAAQhB,EAASoN,EAAaE,GACnD,IAAIwD,EAAY9E,UAAUxI,OAAS,QAAsBuN,IAAjB/E,UAAU,GAAmBA,UAAU,GAAK,EAEhFgF,EAAS,GAAK1D,EAAc,EAC5B2D,EAAiB,EACjBC,GAAkBF,EAClBG,EAAe,EACfC,GAAgB,EAAIJ,EAExB,OAPkBhF,UAAUxI,OAAS,EAAIwI,UAAU,QAAK+E,GAQtD,IAAK,OACHE,GAAkBD,EAClBE,EAAiB,EACjBC,EAAe,EAAIH,EACnBI,EAAe,EACf,MAEF,IAAK,QACHH,EAAiBD,EACjBE,EAAiB,EACjBC,GAAgB,EAAIH,EACpBI,EAAe,EACf,MAEF,IAAK,SACHF,EAAiBF,EACjBI,EAAe,EAAIJ,EAMvB,IAAIrB,EAAa,aAAaV,OAAOgC,EAAgB,KAAKhC,OAAOiC,EAAgB,WAAWjC,OAAO+B,EAAQ,KAAK/B,OAAO+B,EAAQ,WAAW/B,OAAOkC,EAAc,KAAKlC,QAAQmC,EAAc,WAAWnC,OAAO+B,EAAQ,KAAK/B,OAAO+B,EAAQ,WAAW/B,QAAQkC,EAAc,KAAKlC,OAAOmC,GACjRC,EAAgB,EAAVpN,KAAKqN,GAASN,EAQxB,MAAO,CACLrB,WAAYA,EACZ5C,UATc,CACdmD,OAAQ9C,EACRmD,gBAAiB,GAAGtB,OAAOjP,EAAU,KAAOqR,EAAMP,GAAY,OAAO7B,OAAOoC,EAAK,MACjFb,iBAAkB,IAAIvB,OAAO6B,EAAY,EAAI9P,EAAS,KAAOqQ,EAAMP,GAAY,MAC/E1B,WAAY,wGAShB,IAAI,EAEJ,SAAUV,GAGR,SAAS6C,IACP,IAAI3C,EAEApC,EAzE4BvC,EAAMC,GAN1C,SAAyByB,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAiF5G,CAAgB1K,KAAMoQ,GAEtB,IAAK,IAAIzC,EAAO9C,UAAUxI,OAAQuL,EAAO,IAAI1L,MAAMyL,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQhD,UAAUgD,GAOzB,OArFgC/E,EAiFG9I,KAAnCqL,IAjFsCtC,GAiFI0E,EAAmB,EAAgB2C,IAASrH,KAAK6B,MAAM6C,EAAkB,CAACzN,MAAM8N,OAAOF,MAjFtD,iBAAT7E,GAAqC,mBAATA,EAA8C,EAAuBD,GAAtCC,EAmF7H,EAAgB,EAAuBsC,GAAQ,QAAS,IAEjDA,EAvFX,IAAsBZ,EAAaK,EAAYC,EAoL7C,OA5KF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIP,UAAU,sDAAyDM,EAASvB,UAAYf,OAAOwC,OAAOD,GAAcA,EAAWxB,UAAW,CAAE0B,YAAa,CAAEhK,MAAO6J,EAAUvC,UAAU,EAAMD,cAAc,KAAeyC,GAAY,EAAgBD,EAAUC,GA8DjX,CAAUmF,EA+GV,gBArLoB3F,EA0FP2F,GA1FoBtF,EA0FZ,CAAC,CACpBlC,IAAK,eACLzH,MAAO,WACL,IAAI4M,EAAS/N,KAETgO,EAAchO,KAAKqI,MACnB2D,EAAYgC,EAAYhC,UACxBnN,EAAUmP,EAAYnP,QACtBoN,EAAc+B,EAAY/B,YAC1BE,EAAc6B,EAAY7B,YAC1BD,EAAgB8B,EAAY9B,cAC5ByD,EAAY3B,EAAY2B,UACxBxB,EAAcH,EAAYG,YAC1BC,EAAclM,MAAMC,QAAQtD,GAAWA,EAAU,CAACA,GAClDwP,EAAkBnM,MAAMC,QAAQ8J,GAAeA,EAAc,CAACA,GAC9D8C,EAAyD,oBAAhDrG,OAAOe,UAAU4G,SAAStH,KAAKkD,GAAqC,iBAAmB,GAChGyC,EAAW,EACf,OAAON,EAAYa,IAAI,SAAUC,EAAKC,GACpC,IAAI5M,EAAQ8L,EAAgBc,IAAUd,EAAgBA,EAAgBhM,OAAS,GAE3EiO,EAAiBZ,EAAchB,EAAUQ,EAAK3M,EAAO4J,EAAawD,EAAWxB,GAC7EK,EAAa8B,EAAe9B,WAC5B5C,EAAY0E,EAAe1E,UAG/B,OADA8C,GAAYQ,EACL,IAAMP,cAAc,OAAQ,CACjC/F,IAAKuG,EACLnQ,UAAW,GAAG8O,OAAO9B,EAAW,gBAChC8C,EAAGN,EACHO,OAAQA,EACR7C,cAAeA,EACfC,YAAqB,IAAR+C,EAAY,EAAI/C,EAC7B6C,YAAa,IACbtO,MAAOkL,EACPnL,IAAK,SAAakL,GAChBoC,EAAOrC,MAAMyD,GAASxD,SAK7B,CACD/C,IAAK,SACLzH,MAAO,WACL,IAAIoP,EAAevQ,KAAKqI,MACpB2D,EAAYuE,EAAavE,UACzBG,EAAcoE,EAAapE,YAC3BE,EAAakE,EAAalE,WAC1BsD,EAAYY,EAAaZ,UACzBxB,EAAcoC,EAAapC,YAC3B/B,EAAamE,EAAanE,WAC1BF,EAAgBqE,EAAarE,cAC7BxL,EAAQ6P,EAAa7P,MACrB1B,EAAYuR,EAAavR,UACzBiN,EAAcsE,EAAatE,YAC3BiC,EAAY,EAAyBqC,EAAc,CAAC,YAAa,cAAe,aAAc,YAAa,cAAe,aAAc,gBAAiB,QAAS,YAAa,gBAE/KC,EAAkBd,EAAc,EAAG,IAAKtD,EAAYD,EAAawD,EAAWxB,GAC5EK,EAAagC,EAAgBhC,WAC7B5C,EAAY4E,EAAgB5E,iBAEzBsC,EAAUrP,QACjB,IAAI4R,EAA6D,oBAAhD/H,OAAOe,UAAU4G,SAAStH,KAAKkD,GAChD,OAAO,IAAM0C,cAAc,MAAO,EAAS,CACzC3P,UAAW,GAAG8O,OAAO9B,EAAW,YAAY8B,OAAO9O,GACnD4P,QAAS,cACTlO,MAAOA,GACNwN,GAAYuC,GAAc,IAAM9B,cAAc,OAAQ,KAAM,IAAMA,cAAc,iBAAkB,CACnG+B,GAAI,WACJC,GAAI,OACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MACHpI,OAAO+C,KAAKQ,GAAagD,IAAI,SAAUrG,EAAKuG,GAC7C,OAAO,IAAMR,cAAc,OAAQ,CACjC/F,IAAKuG,EACLtP,OAAQ+I,EACRmI,UAAW9E,EAAYrD,SAErB,IAAM+F,cAAc,OAAQ,CAChC3P,UAAW,GAAG8O,OAAO9B,EAAW,iBAChC8C,EAAGN,EACHO,OAAQ3C,EACRF,cAAeA,EACfC,YAAaE,GAAcF,EAC3B6C,YAAa,IACbtO,MAAOkL,IACL5L,KAAKgR,eAAeC,gBAhLgD,EAAkBxG,EAAYhB,UAAWqB,GAAiBC,GAAa,EAAkBN,EAAaM,GAoL3KqF,EA/GT,GAkHA,EAAO1D,UAAY4C,EAAc,GAAI5C,EAAW,CAC9CyB,YAAa,IAAUvB,MAAM,CAAC,MAAO,SAAU,OAAQ,YAEzD,EAAOb,aAAeuD,EAAc,GAAIvD,EAAc,CACpDoC,YAAa,QAEA,QAAS,GCzMxB,wEAGe,WACbX,KAAM,EACN4C,OAAQ,I,+aCsCVvJ,OAAOtD,aAAesD,OAAOtD,mBAAgBqM,EAE7C,6E,OA4CE,EAAAsB,iBAAmB,WACT,IAAAC,EAAA,QAAAA,WACyB,WAA7BC,SAASC,iBACXF,EAAW5J,QACX,EAAK3H,SAAS,CAAE2H,OAAO,MAEvB4J,EAAWzJ,SACX,EAAK9H,SAAS,CAAE2H,OAAO,MAI3B,EAAA+J,OAAS,WACD,cAAErR,EAAA,EAAAA,MAAO0B,EAAA,EAAAA,OACT4P,EAAS,EAAKA,OACpBA,EAAOtR,MAAQA,EACfsR,EAAO5P,OAASA,GAGlB,EAAA4D,KAAO,SAAChB,GACE,IAAAiB,EAAA,QAAAA,IACJjB,EACF,EAAKiN,MAAML,WAAW5L,KAAKhB,GAClB,IAAMkN,SAASjM,IACxB,EAAKgM,MAAML,WAAW5L,KAAK,CAAEC,IAAG,EAAEC,GAAI,EAAKiM,aAAcvN,WAAY,EAAKwN,YAI9E,EAAAA,SAAW,SAAApN,GACJ,EAAKqN,UACNC,MAAMtN,GACR,EAAK3E,SAAS,CAAEf,QAAS,EAAGE,aAAa,EAAM+S,SAAS,IAExD,EAAKlS,SAAS,CAAEf,QAAS0F,EAAGuN,SAAS,MAIzC,EAAAJ,aAAe,WACb,EAAK9R,SAAS,CAAEmS,SAAS,EAAOD,SAAS,GAAQ,WAC/C,EAAKN,MAAML,WAAWjK,WAAW,MAIrC,EAAA8K,kBAAoB,WAClB,GAAK,EAAKR,MAAMS,WAAhB,CACA,IAAMvQ,EAAM,EAAK6P,OAAOW,WAAW,MAC7B,UAAEvQ,EAAA,EAAAA,OAAQ1B,EAAA,EAAAA,MAAO2B,EAAA,EAAAA,KAAMC,EAAA,EAAAA,SAAUE,EAAA,EAAAA,OACjCN,EAAQ,CAAEC,IAAG,EAAEC,OAAM,EAAE1B,MAAK,EAAE2B,KAAI,EAAEC,SAAQ,GAC1CuB,EAAA,EAAAA,YACR,EAAKxD,SAAS,CACZuR,WAAY,IAAI,UAAW,CACzBhO,KAAMvB,EACNJ,KAAM,UAAMA,KAAKC,GACjBM,OAAM,EACNqB,YAAW,KAEZ,EAAKmC,MACR,EAAK+L,WAGP,EAAAlO,YAAc,SAAC,G,IAAE,IAAArC,KAAmB,IAAA0D,MAC7B,EAAKmN,SACV,EAAKhS,SAAS,CAAEwD,YAAW,EAAExC,UAAS,KAGxC,EAAAgH,aAAe,SAAArD,GACb,EAAKiN,MAAML,WAAW1K,aAAalC,EAAI,MAGzC,EAAAsD,YAAc,WACN,cAAEsJ,EAAA,EAAAA,WAAY5J,EAAA,EAAAA,MAEhBA,EACF4J,EAAWzJ,SAEXyJ,EAAW5J,QAGb,EAAK3H,SAAS,CAAE2H,OAAQA,KAG1B,EAAAzI,cAAgB,SAAAD,GACd,OAAmB,MAAZA,EACH,WACA,EAAK2S,MAAMzS,YACT,IACGF,EAAQyI,QAAQ,GAAE,KAG7B,EAAApG,WAAa,WACL,cAAEkC,EAAA,EAAAA,YAAaxC,EAAA,EAAAA,UAAWE,EAAA,EAAAA,eAAgBD,EAAA,EAAAA,cAOhD,OANU,IAAMsR,mBACdvR,GACMwC,EAAcxC,EAAY,EAAKwR,iBAAiBvR,GAAiBC,IAAmBF,EACtF,GAGK,MADD,IAAMuR,mBAAmBvR,IAIrC,EAAAI,iBAAmB,SAAAqG,GACjB,EAAKzH,SAAS,CAAEiB,cAAewG,EAAUjE,YAAa,KAGxD,EAAAnC,gBAAkB,SAAAoG,GAChB,EAAKzH,SAAS,CAAEiB,cAAe,KAAMC,eAAgBuG,EAAUE,OAAO,EAAOnE,YAAa,GAAK,WAC7F,EAAKoO,MAAML,WAAWjK,WAAW,EAAKkL,iBAAiB/K,IACvD,EAAKmK,MAAML,WAAWzJ,YAI1B,EAAA0K,iBAAmB,SAAA/K,GAAY,OAAAjG,UAAUiG,EAAW,IAAM,EAAKmK,MAAM5Q,WAAW0G,QAAQ,GAAI,KAE5F,EAAA+K,WAAa,WACN,EAAKC,MAAMC,MAAM,KACtB,EAAKf,MAAML,WAAW/M,QACtB,EAAKxE,SAAS,CAAEkS,SAAS,EAAOjT,QAAS,GAAK,WAC5C,IAAM2T,EAAc,IAAIC,WAChBC,EAAA,iBAAAA,KACRF,EAAOG,kBAAkB,EAAKL,MAAMC,MAAM,IAC1CC,EAAOI,OAAS,SAACC,GACf,EAAKtN,KAAK,CAAEC,IAAKqN,EAAIC,cAAcC,OAAQtN,GAAI,EAAKiM,aAAcvN,WAAY,EAAKwN,WACnF,EAAK/R,SAAS,CAAEb,aAAa,EAAOgT,SAAS,EAAMjR,eAAgB,EAAGN,UAAWkS,SAKvF,EAAA5K,QAAU,WACA,IAAAC,EAAA,QAAAA,KACR,EAAKnI,SAAS,CAAEmI,MAAOA,GAAQ,WACvB,cAAEiL,EAAA,EAAAjL,KAASxD,EAAA,EAAAxC,OACjB,EAAK6F,aAAaoL,EAAI,EAAQ,IAAJzO,M,EAiEhC,OA/O8B,OAQ5B,YAAAxE,mBAAA,WACEqR,SAAS6B,iBAAiB,mBAAoBjT,KAAKkR,kBACnDlR,KAAKJ,SAAS,CAEZ4F,IAAK,UACL5D,KAAM,GACNC,SAAU,CAAC,OAAQ,QACnBF,OAAQ3B,KAAKqI,MAAM6K,SAA0B,GAAflT,KAAKqI,MAAM8K,EAAS,IAClDlT,MAAOD,KAAKqI,MAAM6K,SAAW,IAAM,IACnC3L,OAAO,EACPxF,OAAQ,IACRgQ,SAAS,EACTlT,QAAS,EACT+B,UAAW,EACXwC,YAAa,EACbtC,eAAgB,EAChBD,cAAe,KACf9B,aAAa,EACbkT,aAAcpL,OAAOtD,aACrBuO,SAAS,EACTtR,UAAW,GACXuH,MAAM,IAER/H,KAAK4R,SAAU,GAGjB,YAAA1R,kBAAA,WACEF,KAAKgS,qBAGP,YAAA3R,qBAAA,WACEL,KAAKwR,MAAML,WAAWtL,OACtBuL,SAASgC,oBAAoB,mBAAoBpT,KAAKkR,kBACtDlR,KAAK4R,SAAU,GAyIjB,YAAAhT,OAAA,sBACQ,aAAE2I,EAAA,EAAAA,MAAOwK,EAAA,EAAAA,QAASlT,EAAA,EAAAA,QACpBiC,EAAA,EAAAA,eAAgBD,EAAA,EAAAA,cAChBuC,EAAA,EAAAA,YAAaxC,EAAA,EAAAA,UAAW7B,EAAA,EAAAA,YACxBkT,EAAA,EAAAA,WAAYH,EAAA,EAAAA,QAAStR,EAAA,EAAAA,UAAWuH,EAAA,EAAAA,KAGpC,IAAKkK,EACH,OAAO,uBAAKjT,UAAU,oBAAkB,kBAG1C,IAAM+B,EAAOH,EAAYQ,UAAWgC,EAAcxC,EAAaA,EAAY,KAAK0G,QAAQ,GAAI,IAAM,EAElG,OACE,uBAAKtI,UAAW,qBAAoB+S,EAAU,UAAY,WACxD,0BAAQtR,IAAK,SAAAA,GAAS,EAAK8Q,OAAS9Q,KACpC,gBAAC,UAAa,CAACD,UAAWA,IAEvBuR,EAQG,GAPF,gBAAC,UAAS,CACRxK,MAAOA,EACPQ,KAAMA,EACND,QAAS9H,KAAK8H,QACdD,YAAa7H,KAAK6H,YAClBD,aAAc5H,KAAK4H,eAKtBmK,EAUG,GATF,gBAAC,UAAO,CACNhR,KAAMA,EACNH,UAAWA,EACXM,WAAYlB,KAAKkB,WACjBL,cAAeA,EACfC,eAAgBA,EAChBG,gBAAiBjB,KAAKiB,gBACtBD,iBAAkBhB,KAAKgB,mBAK3B+Q,EACE,gBAAC,UAAW,CACVlT,QAASA,EACTC,cAAekB,KAAKlB,cACpBC,YAAaA,IAEb,GAEN,qBAAGsU,KAAK,eAAerU,UAAW,WAAW8S,EAAwB,GAAd,cACrD,uBAAK9S,UAAW,oCAChB,yBAAOA,UAAU,SACfyB,IAAK,SAAAA,GAAS,EAAK6R,MAAQ7R,GAC3BxB,KAAK,OAAOqU,OAAO,aACnBjS,SAAUrB,KAAKqS,gBAM3B,EA/OA,CAA8B,aAiPf,cAAM1O,QAAQ,CAC3B4P,UAAWC,EACXC,gBAAiB,SAAAjC,GAAS,OACxB0B,SAAU1B,EAAMkC,OAAOR,SACvBC,EAAG3B,EAAMkC,OAAOC","file":"js/7.092622d51f07ee407d0e.bundle.js","sourcesContent":["\nimport { Progress } from 'antd'\nimport React from 'react'\ninterface IProps {\n  percent: number,\n  loadingFail: boolean,\n  formatPercent: (v: number) => string\n}\n\nclass FileLoading extends React.Component<IProps> {\n  render () {\n    const { percent, formatPercent, loadingFail } = this.props\n    return (\n      <div className='loading-mask'>\n        {\n          percent === 0 && !loadingFail ? (\n            <div className='loader'/>\n          ) : (\n            !loadingFail ? (\n              <Progress type='circle'\n                percent={Number(percent) ? percent : 0}\n                format={formatPercent}\n                status={loadingFail ? 'exception' : Number(percent) === 100 ? 'success' : 'active' }\n                className={`${!loadingFail && Number(percent) === 100 ? 'loading' : ''}`}\n              />\n            ) : ''\n          )\n        }\n      </div>\n    )\n  }\n}\nexport default FileLoading\n","import React from 'react'\ninterface IProps {\n  musicName: string\n}\n\ninterface IState {\n  wrapperWidth: number,\n  width: number,\n  offset: number,\n  onOff: boolean,\n  offsetWidth: number\n}\n\nclass FloatingTitle extends React.Component<IProps, IState> {\n\n  dom\n  wrapper\n  interval\n\n  componentWillMount () {\n    this.setState({\n      width: 0,\n      offset: 0,\n      onOff: false,\n      offsetWidth: 0\n    })\n  }\n\n  componentDidMount () {\n    this.setState({ wrapperWidth: this.wrapper.offsetWidth })\n    this.doInterval()\n  }\n\n  componentWillUnmount () {\n    this.clearInterval()\n  }\n\n  componentWillReceiveProps () {\n    const { width } = this.state\n    if (this.dom.offsetWidth !== width) {\n      let offsetWidth = (this.wrapper.offsetWidth - this.dom.offsetWidth)\n      offsetWidth = offsetWidth <= 0 ? offsetWidth : 0\n      this.setState({\n        width: this.dom.offsetWidth,\n        offsetWidth,\n        onOff: false\n      })\n    }\n  }\n\n  doInterval = () => {\n    this.interval = setInterval(() => {\n      this.intervalContent()\n    }, 3000)\n  }\n\n  intervalContent = () => {\n    const { onOff, offsetWidth } = this.state\n    this.setState({\n      onOff: !onOff,\n      offset: onOff ? 0 : offsetWidth\n    })\n  }\n\n  clearInterval = () => {\n    if (this.interval) { clearInterval(this.interval) }\n  }\n\n  render () {\n    const { musicName } = this.props\n    const { offset, offsetWidth } = this.state\n\n    return (\n      <div className={`music-name ${offsetWidth === 0 ? 'flex' : ''}`} ref={ref => { this.wrapper = ref }}>\n        <div style={{ transform: `translateX(${offset}px)` }} className='content' ref={ref => { this.dom = ref }}>{musicName}</div>\n      </div>\n    )\n  }\n}\nexport default FloatingTitle\n","\nimport { Slider } from 'antd'\nimport React from 'react'\n\ninterface IProps {\n  totalTime: number,\n  slideDuration: number | null,\n  durationOffset: number,\n  curr: number,\n  durationChanging: (v: number) => void,\n  durationChanged: (v: number) => void,\n  formatTime: () => string\n}\n\nclass Time extends React.Component<IProps> {\n  render () {\n    const { totalTime, slideDuration, durationOffset, curr, durationChanging, durationChanged, formatTime } = this.props\n    return (\n      <div className='time-zone'>\n        <Slider className='duration-slider'\n          value={totalTime ? (parseInt((slideDuration || durationOffset) + '', 10) + curr) % 100 : 0}\n          onChange={durationChanging}\n          onAfterChange={durationChanged}\n          tipFormatter={null}\n        />\n        <div>{formatTime()}</div>\n      </div>\n    )\n  }\n}\nexport default Time\n","export default {\n  draw: param => {\n    const { ctx, height, width, bars, barColor } = param\n    return (arr, volume) => {\n      const vol = volume\n      ctx.clearRect(0, 0, width, height)\n      if (Array.isArray(barColor)) {\n        const line = ctx.createLinearGradient(0, 0, 0, height)\n        const len = barColor.length\n        barColor.forEach((color, i) => {\n          line.addColorStop(i / (len - 1), color)\n        })\n        ctx.fillStyle = line\n      } else {\n        ctx.fillStyle = barColor\n      }\n      const rectWidth = width / bars\n      const barWidth = rectWidth * 0.5\n      const capHeight = Math.min(barWidth, 10) * vol\n      for (let i = 0; i < bars; i++) {\n        const rectHeight = arr[i] / 256 * height * vol\n        const capDistance = arr[i] > 0\n          ? Math.min(rectHeight + 40, height - capHeight)\n          : 0\n        ctx.fillRect(rectWidth * i, height - rectHeight, barWidth, rectHeight)\n        ctx.fillRect(rectWidth * i, height - (capDistance + capHeight), barWidth, capHeight)\n      }\n    }\n  }\n}\n","import Axios from 'axios'\n\nexport default class Visualizer {\n  source\n  count\n  ac\n  draw\n  size\n  gainNode\n  analyser\n  rafId\n  volume\n  buffer\n  currentTime\n  curr\n  total\n  interval\n  axiosModel\n  axiosCancellation\n\n  constructor ({ draw, size, volume, currentTime }) {\n    this.source = null\n    this.count = 0\n    this.draw = draw\n    this.size = size\n    this.volume = volume\n    this.currentTime = currentTime\n    this.initAC()\n  }\n\n  initAC = () => {\n    this.ac = new AudioContext()\n    this.gainNode = this.ac.createGain()\n    this.gainNode.gain.value = this.volume\n    this.gainNode.connect(this.ac.destination)\n    this.analyser = this.ac.createAnalyser()\n    this.analyser.fftSize = this.size * 2\n    this.analyser.connect(this.gainNode)\n  }\n\n  load = (url, callback, progressCb) => {\n    this.abort()\n    Axios({\n      url,\n      responseType: 'arraybuffer',\n      onDownloadProgress: v => {\n        const { loaded, total } = v\n        progressCb(loaded / total * 100)\n      },\n      cancelToken: new Axios.CancelToken(c => {\n        this.axiosCancellation = c\n      })\n    }).then(response => {\n      callback(response.data)\n    }).catch(thrown => {\n      if (Axios.isCancel(thrown)) {\n        console.log('Request canceled', thrown.message)\n      } else {\n        progressCb('error')\n      }\n    })\n  }\n\n  abort = () => this.axiosCancellation && this.axiosCancellation('abort')\n\n  play = ({ src, cb, progressCb }) => {\n    const n = ++this.count\n    if (this.source) {\n      this.source.stop()\n    }\n    const decodeCallback = buffer => {\n      this.buffer = buffer\n      if (n === this.count && this.ac) {\n        try {\n          this.createBufferSource({ buffer }, cb)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n    if (src instanceof ArrayBuffer) {\n      this.ac.decodeAudioData(src, decodeCallback)\n    } else {\n      this.load(src, arrayBuffer => {\n        this.ac.decodeAudioData(arrayBuffer, decodeCallback)\n      }, progressCb)\n    }\n  }\n\n  createBufferSource = ({ buffer, start = 0 }, cb?) => {\n    if (this.source) { this.source.stop() }\n    if (!this.buffer) { return }\n    const bufferSource = this.ac.createBufferSource()\n    bufferSource.buffer = this.buffer = buffer\n    bufferSource.loop = true\n    bufferSource.connect(this.analyser)\n    bufferSource.start(0, start)\n    this.source = bufferSource\n    this.visualize()\n    if (cb) { cb() }\n  }\n\n  updateVolume = vol => {\n    console.log(vol)\n    this.gainNode.gain.value = this.volume = vol\n  }\n\n  visualize = () => {\n    const arr = new Uint8Array(this.analyser.frequencyBinCount)\n    const raf = window.requestAnimationFrame\n    const fn = () => {\n      this.analyser.getByteFrequencyData(arr)\n      this.draw(arr, this.volume)\n      this.rafId = raf(fn)\n    }\n    fn()\n  }\n\n  setCurrent = (start = 0) => {\n    const { buffer } = this\n    this.curr = 0\n    this.createBufferSource({ buffer, start })\n    this.setInterval(true)\n  }\n\n  setInterval = (isFirst?) => {\n    if (this.interval) { clearInterval(this.interval) }\n    if (isFirst) { this.setCurrTime(isFirst) }\n    this.interval = setInterval(() => {\n      this.setCurrTime()\n    }, 1000)\n  }\n\n  setCurrTime = (isFirst?) => {\n    const total = this.buffer ? this.buffer.duration.toFixed(0) : 0\n    this.currentTime({ curr: isFirst ? 0 : ++this.curr , total })\n  }\n\n  pause = () => {\n    this.ac.suspend()\n    window.cancelAnimationFrame(this.rafId)\n    if (this.interval) { clearInterval(this.interval) }\n  }\n\n  resume = () => {\n    this.ac.resume()\n    this.visualize()\n    this.setInterval()\n  }\n\n  stop = () => {\n    this.abort()\n    this.ac.close()\n    window.cancelAnimationFrame(this.rafId)\n  }\n}\n","\nimport { Slider } from 'antd'\nimport React from 'react'\n\ninterface IProps {\n  pause: boolean,\n  mute: boolean,\n  setMute: () => void,\n  changeVolume: (v: number) => void,\n  togglePause: () => void\n}\n\nclass Volume extends React.Component<IProps> {\n  render () {\n    const { changeVolume, togglePause, pause, setMute, mute } = this.props\n    return (\n      <div className='volume-zone'>\n        <div className={`icon anticon anticon-ts-app icon-${mute ? 'mute' : 'volume'}`} onClick={setMute}/>\n        <Slider className='slider' defaultValue={77} onChange={changeVolume} tipFormatter={null} disabled={mute}/>\n        <div onClick={togglePause} className={`icon anticon anticon-ts-app icon-${pause ? 'play' : 'pause'}`} />\n      </div>\n    )\n  }\n}\nexport default Volume\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar enhancer = function enhancer(WrappedComponent) {\n  return (\n    /*#__PURE__*/\n    function (_WrappedComponent) {\n      _inherits(Progress, _WrappedComponent);\n\n      function Progress() {\n        _classCallCheck(this, Progress);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(Progress).apply(this, arguments));\n      }\n\n      _createClass(Progress, [{\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n          var _this = this;\n\n          var now = Date.now();\n          var updated = false;\n          Object.keys(this.paths).forEach(function (key) {\n            var path = _this.paths[key];\n\n            if (!path) {\n              return;\n            }\n\n            updated = true;\n            var pathStyle = path.style;\n            pathStyle.transitionDuration = '.3s, .3s, .3s, .06s';\n\n            if (_this.prevTimeStamp && now - _this.prevTimeStamp < 100) {\n              pathStyle.transitionDuration = '0s, 0s';\n            }\n          });\n\n          if (updated) {\n            this.prevTimeStamp = Date.now();\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return _get(_getPrototypeOf(Progress.prototype), \"render\", this).call(this);\n        }\n      }]);\n\n      return Progress;\n    }(WrappedComponent)\n  );\n};\n\nexport default enhancer;","import PropTypes from 'prop-types';\nexport var defaultProps = {\n  className: '',\n  percent: 0,\n  prefixCls: 'rc-progress',\n  strokeColor: '#2db7f5',\n  strokeLinecap: 'round',\n  strokeWidth: 1,\n  style: {},\n  trailColor: '#D9D9D9',\n  trailWidth: 1\n};\nvar mixedType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nexport var propTypes = {\n  className: PropTypes.string,\n  percent: PropTypes.oneOfType([mixedType, PropTypes.arrayOf(mixedType)]),\n  prefixCls: PropTypes.string,\n  strokeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.object]),\n  strokeLinecap: PropTypes.oneOf(['butt', 'round', 'square']),\n  strokeWidth: mixedType,\n  style: PropTypes.object,\n  trailColor: PropTypes.string,\n  trailWidth: mixedType\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\n\nvar Line =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Line, _Component);\n\n  function Line() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Line);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Line)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"paths\", {});\n\n    return _this;\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          percent = _this$props.percent,\n          prefixCls = _this$props.prefixCls,\n          strokeColor = _this$props.strokeColor,\n          strokeLinecap = _this$props.strokeLinecap,\n          strokeWidth = _this$props.strokeWidth,\n          style = _this$props.style,\n          trailColor = _this$props.trailColor,\n          trailWidth = _this$props.trailWidth,\n          transition = _this$props.transition,\n          restProps = _objectWithoutProperties(_this$props, [\"className\", \"percent\", \"prefixCls\", \"strokeColor\", \"strokeLinecap\", \"strokeWidth\", \"style\", \"trailColor\", \"trailWidth\", \"transition\"]);\n\n      delete restProps.gapPosition;\n      var percentList = Array.isArray(percent) ? percent : [percent];\n      var strokeColorList = Array.isArray(strokeColor) ? strokeColor : [strokeColor];\n      var center = strokeWidth / 2;\n      var right = 100 - strokeWidth / 2;\n      var pathString = \"M \".concat(strokeLinecap === 'round' ? center : 0, \",\").concat(center, \"\\n           L \").concat(strokeLinecap === 'round' ? right : 100, \",\").concat(center);\n      var viewBoxString = \"0 0 100 \".concat(strokeWidth);\n      var stackPtg = 0;\n      return React.createElement(\"svg\", _extends({\n        className: \"\".concat(prefixCls, \"-line \").concat(className),\n        viewBox: viewBoxString,\n        preserveAspectRatio: \"none\",\n        style: style\n      }, restProps), React.createElement(\"path\", {\n        className: \"\".concat(prefixCls, \"-line-trail\"),\n        d: pathString,\n        strokeLinecap: strokeLinecap,\n        stroke: trailColor,\n        strokeWidth: trailWidth || strokeWidth,\n        fillOpacity: \"0\"\n      }), percentList.map(function (ptg, index) {\n        var pathStyle = {\n          strokeDasharray: \"\".concat(ptg, \"px, 100px\"),\n          strokeDashoffset: \"-\".concat(stackPtg, \"px\"),\n          transition: transition || 'stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear'\n        };\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n        stackPtg += ptg;\n        return React.createElement(\"path\", {\n          key: index,\n          className: \"\".concat(prefixCls, \"-line-path\"),\n          d: pathString,\n          strokeLinecap: strokeLinecap,\n          stroke: color,\n          strokeWidth: strokeWidth,\n          fillOpacity: \"0\",\n          ref: function ref(path) {\n            _this2.paths[index] = path;\n          },\n          style: pathStyle\n        });\n      }));\n    }\n  }]);\n\n  return Line;\n}(Component);\n\nLine.propTypes = propTypes;\nLine.defaultProps = defaultProps;\nexport default enhancer(Line);","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\n\nfunction getPathStyles(offset, percent, strokeColor, strokeWidth) {\n  var gapDegree = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var gapPosition = arguments.length > 5 ? arguments[5] : undefined;\n  var radius = 50 - strokeWidth / 2;\n  var beginPositionX = 0;\n  var beginPositionY = -radius;\n  var endPositionX = 0;\n  var endPositionY = -2 * radius;\n\n  switch (gapPosition) {\n    case 'left':\n      beginPositionX = -radius;\n      beginPositionY = 0;\n      endPositionX = 2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'right':\n      beginPositionX = radius;\n      beginPositionY = 0;\n      endPositionX = -2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'bottom':\n      beginPositionY = radius;\n      endPositionY = 2 * radius;\n      break;\n\n    default:\n  }\n\n  var pathString = \"M 50,50 m \".concat(beginPositionX, \",\").concat(beginPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(endPositionX, \",\").concat(-endPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(-endPositionX, \",\").concat(endPositionY);\n  var len = Math.PI * 2 * radius;\n  var pathStyle = {\n    stroke: strokeColor,\n    strokeDasharray: \"\".concat(percent / 100 * (len - gapDegree), \"px \").concat(len, \"px\"),\n    strokeDashoffset: \"-\".concat(gapDegree / 2 + offset / 100 * (len - gapDegree), \"px\"),\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s' // eslint-disable-line\n\n  };\n  return {\n    pathString: pathString,\n    pathStyle: pathStyle\n  };\n}\n\nvar Circle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Circle, _Component);\n\n  function Circle() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Circle);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Circle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"paths\", {});\n\n    return _this;\n  }\n\n  _createClass(Circle, [{\n    key: \"getStokeList\",\n    value: function getStokeList() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          percent = _this$props.percent,\n          strokeColor = _this$props.strokeColor,\n          strokeWidth = _this$props.strokeWidth,\n          strokeLinecap = _this$props.strokeLinecap,\n          gapDegree = _this$props.gapDegree,\n          gapPosition = _this$props.gapPosition;\n      var percentList = Array.isArray(percent) ? percent : [percent];\n      var strokeColorList = Array.isArray(strokeColor) ? strokeColor : [strokeColor];\n      var stroke = Object.prototype.toString.call(strokeColor) === '[object Object]' ? 'url(#gradient)' : '';\n      var stackPtg = 0;\n      return percentList.map(function (ptg, index) {\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n\n        var _getPathStyles = getPathStyles(stackPtg, ptg, color, strokeWidth, gapDegree, gapPosition),\n            pathString = _getPathStyles.pathString,\n            pathStyle = _getPathStyles.pathStyle;\n\n        stackPtg += ptg;\n        return React.createElement(\"path\", {\n          key: index,\n          className: \"\".concat(prefixCls, \"-circle-path\"),\n          d: pathString,\n          stroke: stroke,\n          strokeLinecap: strokeLinecap,\n          strokeWidth: ptg === 0 ? 0 : strokeWidth,\n          fillOpacity: \"0\",\n          style: pathStyle,\n          ref: function ref(path) {\n            _this2.paths[index] = path;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          strokeWidth = _this$props2.strokeWidth,\n          trailWidth = _this$props2.trailWidth,\n          gapDegree = _this$props2.gapDegree,\n          gapPosition = _this$props2.gapPosition,\n          trailColor = _this$props2.trailColor,\n          strokeLinecap = _this$props2.strokeLinecap,\n          style = _this$props2.style,\n          className = _this$props2.className,\n          strokeColor = _this$props2.strokeColor,\n          restProps = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"strokeWidth\", \"trailWidth\", \"gapDegree\", \"gapPosition\", \"trailColor\", \"strokeLinecap\", \"style\", \"className\", \"strokeColor\"]);\n\n      var _getPathStyles2 = getPathStyles(0, 100, trailColor, strokeWidth, gapDegree, gapPosition),\n          pathString = _getPathStyles2.pathString,\n          pathStyle = _getPathStyles2.pathStyle;\n\n      delete restProps.percent;\n      var isGradient = Object.prototype.toString.call(strokeColor) === '[object Object]';\n      return React.createElement(\"svg\", _extends({\n        className: \"\".concat(prefixCls, \"-circle \").concat(className),\n        viewBox: \"0 0 100 100\",\n        style: style\n      }, restProps), isGradient && React.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n        id: \"gradient\",\n        x1: \"100%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"0%\"\n      }, Object.keys(strokeColor).map(function (key, index) {\n        return React.createElement(\"stop\", {\n          key: index,\n          offset: key,\n          stopColor: strokeColor[key]\n        });\n      }))), React.createElement(\"path\", {\n        className: \"\".concat(prefixCls, \"-circle-trail\"),\n        d: pathString,\n        stroke: trailColor,\n        strokeLinecap: strokeLinecap,\n        strokeWidth: trailWidth || strokeWidth,\n        fillOpacity: \"0\",\n        style: pathStyle\n      }), this.getStokeList().reverse());\n    }\n  }]);\n\n  return Circle;\n}(Component);\n\nCircle.propTypes = _objectSpread({}, propTypes, {\n  gapPosition: PropTypes.oneOf(['top', 'bottom', 'left', 'right'])\n});\nCircle.defaultProps = _objectSpread({}, defaultProps, {\n  gapPosition: 'top'\n});\nexport default enhancer(Circle);","import Line from './Line';\nimport Circle from './Circle';\nexport { Line, Circle };\nexport default {\n  Line: Line,\n  Circle: Circle\n};","\nimport { IFileReaderEvent } from '@interface'\nimport Utils from '@utils'\nimport * as React from 'react'\nimport FileLoading from './file-loading'\nimport FloatingTitle from './floating-title'\nimport './index.less'\nimport TimeBar from './time-bar'\nimport tools from './tools'\nimport Visualizer from './visualizer'\nimport VolumeBar from './volume-bar'\n\ninterface IState {\n  visualizer: Visualizer,\n  width: number,\n  height: number,\n  src: any,\n  pause: boolean\n  volume: number,\n  bars: number,\n  barColor: string[] | string,\n  loading: boolean,\n  percent: number,\n  totalTime: number,\n  currentTime: number,\n  durationOffset: number,\n  slideDuration: number | null,\n  loadingFail: boolean,\n  compatible: boolean,\n  showAdd: boolean,\n  musicName: string,\n  mute: boolean\n}\n\ninterface IProps {\n  isMobile: boolean,\n  h: number\n}\n\ndeclare global {\n  interface Window { AudioContext: any }\n}\n\nwindow.AudioContext = window.AudioContext || undefined\n\nclass MusicVisualizer extends React.Component<IProps, IState> {\n\n  canvas\n\n  input\n\n  mounted: boolean\n\n  componentWillMount () {\n    document.addEventListener('visibilitychange', this.visibilityChange)\n    this.setState({\n      // src: 'https://golb-1256296192.cos.ap-shanghai.myqcloud.com/1.mp3',\n      src: 'NoMusic',\n      bars: 64,\n      barColor: ['gold', 'aqua'],\n      height: this.props.isMobile ? this.props.h * .5 : 400,\n      width: this.props.isMobile ? 300 : 600,\n      pause: false,\n      volume: 0.77,\n      loading: true,\n      percent: 0,\n      totalTime: 0,\n      currentTime: 0,\n      durationOffset: 0,\n      slideDuration: null,\n      loadingFail: false,\n      compatible: !!window.AudioContext,\n      showAdd: false,\n      musicName: '',\n      mute: false\n    })\n    this.mounted = true\n  }\n\n  componentDidMount () {\n    this.restartVisualizer()\n  }\n\n  componentWillUnmount () {\n    this.state.visualizer.stop()\n    document.removeEventListener('visibilitychange', this.visibilityChange)\n    this.mounted = false\n  }\n\n  visibilityChange = () => {\n    const { visualizer } = this.state\n    if (document.visibilityState === 'hidden') {\n      visualizer.pause()\n      this.setState({ pause: true })\n    } else {\n      visualizer.resume()\n      this.setState({ pause: false })\n    }\n  }\n\n  resize = () => {\n    const { width, height } = this.state\n    const canvas = this.canvas\n    canvas.width = width\n    canvas.height = height\n  }\n\n  play = (v?) => {\n    const { src } = this.state\n    if (v) {\n      this.state.visualizer.play(v)\n    } else if (Utils.isString(src)) {\n      this.state.visualizer.play({ src, cb: this.afterLoading, progressCb: this.progress })\n    }\n  }\n\n  progress = v => {\n    if (!this.mounted) { return }\n    if (isNaN(v)) {\n      this.setState({ percent: 0, loadingFail: true, showAdd: true })\n    } else {\n      this.setState({ percent: v, showAdd: true })\n    }\n  }\n\n  afterLoading = () => {\n    this.setState({ loading: false, showAdd: true }, () => {\n      this.state.visualizer.setCurrent(0)\n    })\n  }\n\n  restartVisualizer = () => {\n    if (!this.state.compatible) { return }\n    const ctx = this.canvas.getContext('2d')\n    const { height, width, bars, barColor, volume } = this.state\n    const param = { ctx, height, width, bars, barColor }\n    const { currentTime } = this\n    this.setState({\n      visualizer: new Visualizer({\n        size: bars,\n        draw: tools.draw(param),\n        volume,\n        currentTime\n      })\n    }, this.play)\n    this.resize()\n  }\n\n  currentTime = ({ curr: currentTime, total: totalTime }) => {\n    if (!this.mounted) { return }\n    this.setState({ currentTime, totalTime })\n  }\n\n  changeVolume = v => {\n    this.state.visualizer.updateVolume(v / 100)\n  }\n\n  togglePause = () => {\n    const { visualizer, pause } = this.state\n\n    if (pause) {\n      visualizer.resume()\n    } else {\n      visualizer.pause()\n    }\n\n    this.setState({ pause: !pause })\n  }\n\n  formatPercent = percent => {\n    return percent === 100\n      ? 'decoding'\n      : this.state.loadingFail\n        ? '↓'\n        : `${percent.toFixed(1)}%`\n  }\n\n  formatTime = () => {\n    const { currentTime, totalTime, durationOffset, slideDuration } = this.state\n    const c = Utils.secondFormatToTime(\n      totalTime\n        ? ((currentTime % totalTime + this.durationToSecond(slideDuration || durationOffset)) % totalTime)\n        : 0\n    )\n    const t = Utils.secondFormatToTime(totalTime)\n    return `${c} / ${t}`\n  }\n\n  durationChanging = duration => {\n    this.setState({ slideDuration: duration, currentTime: 0 })\n  }\n\n  durationChanged = duration => {\n    this.setState({ slideDuration: null, durationOffset: duration, pause: false, currentTime: 0 }, () => {\n      this.state.visualizer.setCurrent(this.durationToSecond(duration))\n      this.state.visualizer.resume()\n    })\n  }\n\n  durationToSecond = duration => parseInt((duration / 100 * this.state.totalTime).toFixed(0), 10)\n\n  fileChange = () => {\n    if (!this.input.files[0]) { return }\n    this.state.visualizer.abort()\n    this.setState({ showAdd: false, percent: 0 }, () => {\n      const reader: any = new FileReader()\n      const { name } = this.input.files[0]\n      reader.readAsArrayBuffer(this.input.files[0])\n      reader.onload = (res: IFileReaderEvent) => {\n        this.play({ src: res.currentTarget.result, cb: this.afterLoading, progressCb: this.progress })\n        this.setState({ loadingFail: false, loading: true, durationOffset: 0, musicName: name })\n      }\n    })\n  }\n\n  setMute = () => {\n    const { mute } = this.state\n    this.setState({ mute: !mute }, () => {\n      const { mute: m, volume: v } = this.state\n      this.changeVolume(m ? 0 : v * 100)\n    })\n  }\n\n  render () {\n    const { pause, loading, percent\n      , durationOffset, slideDuration\n      , currentTime, totalTime, loadingFail\n      , compatible, showAdd, musicName, mute\n    } = this.state\n\n    if (!compatible) {\n      return <div className='music-visualizer'>not compatible</div>\n    }\n\n    const curr = totalTime ? parseInt(((currentTime % totalTime) / totalTime * 100).toFixed(0), 10) : 0\n\n    return (\n      <div className={`music-visualizer ${loading ? 'loading' : 'loaded'}`}>\n        <canvas ref={ref => { this.canvas = ref }} />\n        <FloatingTitle musicName={musicName}/>\n        {\n          !loading ? (\n            <VolumeBar\n              pause={pause}\n              mute={mute}\n              setMute={this.setMute}\n              togglePause={this.togglePause}\n              changeVolume={this.changeVolume}\n            />\n          ) : ''\n        }\n        {\n          !loading ? (\n            <TimeBar\n              curr={curr}\n              totalTime={totalTime}\n              formatTime={this.formatTime}\n              slideDuration={slideDuration}\n              durationOffset={durationOffset}\n              durationChanged={this.durationChanged}\n              durationChanging={this.durationChanging}\n            />\n          ) : ''\n        }\n        {\n          loading ? (\n            <FileLoading\n              percent={percent}\n              formatPercent={this.formatPercent}\n              loadingFail={loadingFail}\n            />\n          ) : ''\n        }\n        <a href='javascript:;' className={`upload ${!showAdd ? 'disappear' : ''}`}>\n          <div className={`anticon anticon-ts-app icon-add`}/>\n          <input className='change'\n            ref={ref => { this.input = ref }}\n            type='file' accept='audio/mpeg'\n            onChange={this.fileChange}\n          />\n        </a>\n      </div>\n    )\n  }\n}\n\nexport default Utils.connect({\n  component: MusicVisualizer,\n  mapStateToProps: state => ({\n    isMobile: state.common.isMobile,\n    h: state.common.contentHeight\n  })\n})\n"],"sourceRoot":""}