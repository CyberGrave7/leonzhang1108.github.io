{"version":3,"sources":["webpack:///./src/pages/MusicVisualizer/file-loading.tsx","webpack:///./src/pages/MusicVisualizer/floating-title.tsx","webpack:///./src/pages/MusicVisualizer/time-bar.tsx","webpack:///./src/pages/MusicVisualizer/tools.ts","webpack:///./src/pages/MusicVisualizer/visualizer.ts","webpack:///./src/pages/MusicVisualizer/volume-bar.tsx","webpack:///./node_modules/rc-progress/es/enhancer.js","webpack:///./node_modules/rc-progress/es/types.js","webpack:///./node_modules/rc-progress/es/Line.js","webpack:///./node_modules/rc-progress/es/Circle.js","webpack:///./node_modules/rc-progress/es/index.js","webpack:///./src/pages/MusicVisualizer/index.tsx"],"names":["render","percent","formatPercent","loadingFail","className","type","Number","format","status","Component","props","doInterval","interval","setInterval","intervalContent","onOff","offsetWidth","setState","offset","clearInterval","state","width","wrapperWidth","componentDidMount","this","wrapper","componentWillUnmount","componentDidUpdate","dom","musicName","ref","style","transform","totalTime","slideDuration","durationOffset","curr","durationChanging","durationChanged","formatTime","value","parseInt","onChange","onAfterChange","tipFormatter","draw","param","ctx","height","bars","barColor","arr","volume","vol","clearRect","Array","isArray","createLinearGradient","length","forEach","color","i","addColorStop","fillStyle","rectWidth","barWidth","capHeight","Math","min","rectHeight","capDistance","fillRect","size","currentTime","initAC","ac","AudioContext","gainNode","createGain","gain","connect","destination","analyser","createAnalyser","fftSize","load","url","callback","progressCb","abort","responseType","onDownloadProgress","v","loaded","total","cancelToken","CancelToken","c","axiosCancellation","then","response","data","catch","thrown","isCancel","console","log","message","play","src","cb","n","count","source","stop","decodeCallback","buffer","createBufferSource","e","ArrayBuffer","decodeAudioData","arrayBuffer","start","bufferSource","loop","visualize","updateVolume","Uint8Array","frequencyBinCount","raf","window","requestAnimationFrame","fn","getByteFrequencyData","rafId","setCurrent","isFirst","setCurrTime","duration","toFixed","pause","suspend","cancelAnimationFrame","resume","close","changeVolume","togglePause","setMute","mute","onClick","defaultValue","disabled","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_get","property","receiver","Reflect","get","base","object","prototype","hasOwnProperty","_getPrototypeOf","_superPropBase","desc","getOwnPropertyDescriptor","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","WrappedComponent","_WrappedComponent","Progress","apply","arguments","protoProps","staticProps","subClass","superClass","create","constructor","_inherits","_this","now","Date","updated","keys","paths","path","pathStyle","transitionDuration","prevTimeStamp","defaultProps","prefixCls","strokeColor","strokeLinecap","strokeWidth","trailColor","trailWidth","mixedType","oneOfType","number","string","propTypes","arrayOf","oneOf","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_defineProperty","obj","_Component","Line","_getPrototypeOf2","_len","args","_key","concat","_this2","_this$props","transition","restProps","gapPosition","percentList","strokeColorList","center","right","pathString","viewBoxString","stackPtg","createElement","viewBox","preserveAspectRatio","d","stroke","fillOpacity","map","ptg","index","strokeDasharray","strokeDashoffset","ownKeys","enumerableOnly","symbols","filter","sym","push","_objectSpread","getOwnPropertyDescriptors","defineProperties","gradientSeed","stripPercentToNumber","replace","toArray","symArray","getPathStyles","gapDegree","undefined","radius","beginPositionX","beginPositionY","endPositionX","endPositionY","len","PI","Circle","gradientId","toString","_getPathStyles","_this$props2","_getPathStyles2","gradient","find","id","x1","y1","x2","y2","sort","a","b","stopColor","getStokeList","reverse","visibilityChange","visualizer","document","visibilityState","resize","canvas","isString","afterLoading","progress","mounted","isNaN","showAdd","loading","restartVisualizer","compatible","getContext","secondFormatToTime","durationToSecond","fileChange","input","files","reader","FileReader","name","readAsArrayBuffer","onload","res","currentTarget","result","m","addEventListener","isMobile","h","removeEventListener","accept","component","MusicVisualizer","mapStateToProps","common","contentHeight"],"mappings":"2dAQA,2B,+CA6BA,OA7B0B,OACxB,YAAAA,OAAA,WACQ,iBAAEC,EAAA,EAAAA,QAASC,EAAA,EAAAA,cAAeC,EAAA,EAAAA,YAChC,OACE,yBAAKC,UAAU,gBACA,IAAZH,GAAkBE,EAEdA,EAgBD,GAfF,kBAAC,IAAQ,CACPE,KAAK,SACLJ,QAASK,OAAOL,GAAWA,EAAU,EACrCM,OAAQL,EACRM,OACEL,EACI,YACoB,MAApBG,OAAOL,GACL,UACA,SAERG,UACGD,GAAmC,MAApBG,OAAOL,GAA+B,GAAZ,YAd9C,yBAAKG,UAAU,aAuBzB,EA7BA,CAA0B,IAAMK,WA8BjB,a,kXCzBf,cAKE,WAAYC,GAAZ,MACE,YAAMA,IAAM,K,OAgCd,EAAAC,WAAa,WACX,EAAKC,SAAWC,aAAY,WAC1B,EAAKC,oBACJ,MAGL,EAAAA,gBAAkB,WACV,cAAEC,EAAA,EAAAA,MAAOC,EAAA,EAAAA,YACf,EAAKC,SAAS,CACZF,OAAQA,EACRG,OAAQH,EAAQ,EAAIC,KAIxB,EAAAG,cAAgB,WACV,EAAKP,UACPO,cAAc,EAAKP,WA/CrB,EAAKQ,MAAQ,CACXC,MAAO,EACPH,OAAQ,EACRH,OAAO,EACPC,YAAa,EACbM,aAAc,G,EAqEpB,OAjF4B,OAgB1B,YAAAC,kBAAA,WACEC,KAAKP,SAAS,CAAEK,aAAcE,KAAKC,QAAQT,cAC3CQ,KAAKb,cAGP,YAAAe,qBAAA,WACEF,KAAKL,iBAGP,YAAAQ,mBAAA,WACU,IAAAN,EAAA,WAAAA,MACR,GAAIG,KAAKI,IAAIZ,cAAgBK,EAAO,CAClC,IAAIL,EAAcQ,KAAKC,QAAQT,YAAcQ,KAAKI,IAAIZ,YACtDA,EAAcA,GAAe,EAAIA,EAAc,EAC/CQ,KAAKP,SAAS,CACZI,MAAOG,KAAKI,IAAIZ,YAChBA,YAAW,EACXD,OAAO,MAyBb,YAAAf,OAAA,sBACU6B,EAAA,WAAAA,UACF,aAAEX,EAAA,EAAAA,OAAQF,EAAA,EAAAA,YAEhB,OACE,yBACEZ,UAAW,eAA8B,IAAhBY,EAAoB,OAAS,IACtDc,IAAK,SAAAA,GACH,EAAKL,QAAUK,IAGjB,yBACEC,MAAO,CAAEC,UAAW,cAAcd,EAAM,OACxCd,UAAU,UACV0B,IAAK,SAAAA,GACH,EAAKF,IAAME,IAGZD,KAKX,EAjFA,CAA4B,IAAMpB,WAkFnB,a,6YClFf,2B,+CA6BA,OA7BmB,OACjB,YAAAT,OAAA,WACQ,iBACJiC,EAAA,EAAAA,UACAC,EAAA,EAAAA,cACAC,EAAA,EAAAA,eACAC,EAAA,EAAAA,KACAC,EAAA,EAAAA,iBACAC,EAAA,EAAAA,gBACAC,EAAA,EAAAA,WAEF,OACE,yBAAKnC,UAAU,aACb,kBAAC,IAAM,CACLA,UAAU,kBACVoC,MACEP,GACKQ,UAAUP,GAAiBC,GAAkB,GAAI,IAAMC,GACxD,IACA,EAENM,SAAUL,EACVM,cAAeL,EACfM,aAAc,OAEhB,6BAAML,OAId,EA7BA,CAAmB,IAAM9B,WA8BV,a,iCC3Cf,OAAe,WACboC,KAAM,SAAAC,GACI,IAAAC,EAAA,EAAAA,IAAKC,EAAA,EAAAA,OAAQ3B,EAAA,EAAAA,MAAO4B,EAAA,EAAAA,KAAMC,EAAA,EAAAA,SAClC,OAAO,SAACC,EAAKC,GACX,IAAMC,EAAMD,EAEZ,GADAL,EAAIO,UAAU,EAAG,EAAGjC,EAAO2B,GACvBO,MAAMC,QAAQN,GAAW,CAC3B,IAAM,EAAOH,EAAIU,qBAAqB,EAAG,EAAG,EAAGT,GACzC,EAAME,EAASQ,OACrBR,EAASS,SAAQ,SAACC,EAAOC,GACvB,EAAKC,aAAaD,GAAK,EAAM,GAAID,MAEnCb,EAAIgB,UAAY,OAEhBhB,EAAIgB,UAAYb,EAKlB,IAHA,IAAMc,EAAY3C,EAAQ4B,EACpBgB,EAAuB,GAAZD,EACXE,EAAYC,KAAKC,IAAIH,EAAU,IAAMZ,EAClCQ,EAAI,EAAGA,EAAIZ,EAAMY,IAAK,CAC7B,IAAMQ,EAAclB,EAAIU,GAAK,IAAOb,EAASK,EACvCiB,EACJnB,EAAIU,GAAK,EAAIM,KAAKC,IAAIC,EAAa,GAAIrB,EAASkB,GAAa,EAC/DnB,EAAIwB,SAASP,EAAYH,EAAGb,EAASqB,EAAYJ,EAAUI,GAC3DtB,EAAIwB,SACFP,EAAYH,EACZb,GAAUsB,EAAcJ,GACxBD,EACAC,Q,iCC5BV,6BAEA,EAkBE,SAAY,GAAZ,WAAcrB,EAAA,EAAAA,KAAM2B,EAAA,EAAAA,KAAMpB,EAAA,EAAAA,OAAQqB,EAAA,EAAAA,YAUlC,KAAAC,OAAS,WACP,EAAKC,GAAK,IAAIC,aACd,EAAKC,SAAW,EAAKF,GAAGG,aACxB,EAAKD,SAASE,KAAKvC,MAAQ,EAAKY,OAChC,EAAKyB,SAASG,QAAQ,EAAKL,GAAGM,aAC9B,EAAKC,SAAW,EAAKP,GAAGQ,iBACxB,EAAKD,SAASE,QAAsB,EAAZ,EAAKZ,KAC7B,EAAKU,SAASF,QAAQ,EAAKH,WAG7B,KAAAQ,KAAO,SAACC,EAAKC,EAAUC,GACrB,EAAKC,QACL,IAAM,CACJH,IAAG,EACHI,aAAc,cACdC,mBAAoB,SAAAC,GACV,IAAAC,EAAA,EAAAA,OAAQC,EAAA,EAAAA,MAChBN,EAAYK,EAASC,EAAS,MAEhCC,YAAa,IAAI,IAAMC,aAAY,SAAAC,GACjC,EAAKC,kBAAoBD,OAG1BE,MAAK,SAAAC,GACJb,EAASa,EAASC,SAEnBC,OAAM,SAAAC,GACD,IAAMC,SAASD,GACjBE,QAAQC,IAAI,mBAAoBH,EAAOI,SAEvCnB,EAAW,aAKnB,KAAAC,MAAQ,WAAM,SAAKS,mBAAqB,EAAKA,kBAAkB,UAE/D,KAAAU,KAAO,SAAC,G,IAAEC,EAAA,EAAAA,IAAKC,EAAA,EAAAA,GAAItB,EAAA,EAAAA,WACXuB,IAAM,EAAKC,MACb,EAAKC,QACP,EAAKA,OAAOC,OAEd,IAAMC,EAAiB,SAAAC,GAErB,GADA,EAAKA,OAASA,EACVL,IAAM,EAAKC,OAAS,EAAKrC,GAC3B,IACE,EAAK0C,mBAAmB,CAAED,OAAM,GAAIN,GACpC,MAAOQ,GACPb,QAAQC,IAAIY,KAIdT,aAAeU,YACjB,EAAK5C,GAAG6C,gBAAgBX,EAAKM,GAE7B,EAAK9B,KACHwB,GACA,SAAAY,GACE,EAAK9C,GAAG6C,gBAAgBC,EAAaN,KAEvC3B,IAKN,KAAA6B,mBAAqB,SAAC,EAAuBP,G,IAArBM,EAAA,EAAAA,OAAQ,IAAAM,aAAA,IAAQ,EAAR,IAI9B,GAHI,EAAKT,QACP,EAAKA,OAAOC,OAET,EAAKE,OAAV,CAGA,IAAMO,EAAe,EAAKhD,GAAG0C,qBAC7BM,EAAaP,OAAS,EAAKA,OAASA,EACpCO,EAAaC,MAAO,EACpBD,EAAa3C,QAAQ,EAAKE,UAC1ByC,EAAaD,MAAM,EAAGA,GACtB,EAAKT,OAASU,EACd,EAAKE,YACDf,GACFA,MAIJ,KAAAgB,aAAe,SAAAzE,GACboD,QAAQC,IAAIrD,GACZ,EAAKwB,SAASE,KAAKvC,MAAQ,EAAKY,OAASC,GAG3C,KAAAwE,UAAY,WACV,IAAM1E,EAAM,IAAI4E,WAAW,EAAK7C,SAAS8C,mBACnCC,EAAMC,OAAOC,sBACbC,EAAK,WACT,EAAKlD,SAASmD,qBAAqBlF,GACnC,EAAKN,KAAKM,EAAK,EAAKC,QACpB,EAAKkF,MAAQL,EAAIG,IAEnBA,KAGF,KAAAG,WAAa,SAACb,QAAA,IAAAA,MAAA,GACJ,IAAAN,EAAA,EAAAA,OACR,EAAKhF,KAAO,EACZ,EAAKiF,mBAAmB,CAAED,OAAM,EAAEM,MAAK,IACvC,EAAK7G,aAAY,IAGnB,KAAAA,YAAc,SAAC2H,GACT,EAAK5H,UACPO,cAAc,EAAKP,UAEjB4H,GACF,EAAKC,YAAYD,GAEnB,EAAK5H,SAAWC,aAAY,WAC1B,EAAK4H,gBACJ,MAGL,KAAAA,YAAc,SAACD,GACb,IAAM1C,EAAQ,EAAKsB,OAAS,EAAKA,OAAOsB,SAASC,QAAQ,GAAK,EAC9D,EAAKlE,YAAY,CAAErC,KAAMoG,EAAU,IAAM,EAAKpG,KAAM0D,MAAK,KAG3D,KAAA8C,MAAQ,WACN,EAAKjE,GAAGkE,UACRX,OAAOY,qBAAqB,EAAKR,OAC7B,EAAK1H,UACPO,cAAc,EAAKP,WAIvB,KAAAmI,OAAS,WACP,EAAKpE,GAAGoE,SACR,EAAKlB,YACL,EAAKhH,eAGP,KAAAqG,KAAO,WACL,EAAKzB,QACL,EAAKd,GAAGqE,QACRd,OAAOY,qBAAqB,EAAKR,QAtJjC9G,KAAKyF,OAAS,KACdzF,KAAKwF,MAAQ,EACbxF,KAAKqB,KAAOA,EACZrB,KAAKgD,KAAOA,EACZhD,KAAK4B,OAASA,EACd5B,KAAKiD,YAAcA,EACnBjD,KAAKkD,U,0ZChBT,2B,+CA2BA,OA3BqB,OACnB,YAAA1E,OAAA,WACQ,iBAAEiJ,EAAA,EAAAA,aAAcC,EAAA,EAAAA,YAAaN,EAAA,EAAAA,MAAOO,EAAA,EAAAA,QAASC,EAAA,EAAAA,KACnD,OACE,yBAAKhJ,UAAU,eACb,yBACEA,UAAW,qCACTgJ,EAAO,OAAS,UAElBC,QAASF,IAEX,kBAAC,IAAM,CACL/I,UAAU,SACVkJ,aAAc,GACd5G,SAAUuG,EACVrG,aAAc,KACd2G,SAAUH,IAEZ,yBACEC,QAASH,EACT9I,UAAW,qCACTwI,EAAQ,OAAS,aAM7B,EA3BA,CAAqB,IAAMnI,WA4BZ,a,kFCvCf,SAAS+I,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAEhH,SAASC,EAAkBC,EAAQnJ,GAAS,IAAK,IAAImD,EAAI,EAAGA,EAAInD,EAAMgD,OAAQG,IAAK,CAAE,IAAIiG,EAAapJ,EAAMmD,GAAIiG,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeN,EAAQC,EAAWM,IAAKN,IAI7S,SAASO,EAA2BC,EAAMC,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAElG,SAAgCD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAFfG,CAAuBH,GAAtCC,EAIjI,SAASG,EAAKb,EAAQc,EAAUC,GAAuV,OAAtRF,EAA9B,oBAAZG,SAA2BA,QAAQC,IAAcD,QAAQC,IAAqB,SAAcjB,EAAQc,EAAUC,GAAY,IAAIG,EAErL,SAAwBC,EAAQL,GAAY,MAAQT,OAAOe,UAAUC,eAAeX,KAAKS,EAAQL,IAA8D,QAAjDK,EAASG,EAAgBH,MAAuC,OAAOA,EAFOI,CAAevB,EAAQc,GAAW,GAAKI,EAAL,CAAmB,IAAIM,EAAOnB,OAAOoB,yBAAyBP,EAAMJ,GAAW,OAAIU,EAAKP,IAAcO,EAAKP,IAAIP,KAAKK,GAAoBS,EAAK7I,SAAwBqH,EAAQc,EAAUC,GAAYf,GAIja,SAASsB,EAAgBI,GAAwJ,OAAnJJ,EAAkBjB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAIxM,SAASI,EAAgBJ,EAAGK,GAA+G,OAA1GD,EAAkBzB,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,IAmDe,EAnDA,SAAkBC,GAC/B,OAEE,SAAUC,GAGR,SAASC,IAGP,OAFAvC,EAAgBhI,KAAMuK,GAEf1B,EAA2B7I,KAAM2J,EAAgBY,GAAUC,MAAMxK,KAAMyK,YAzBtF,IAAsBvC,EAAawC,EAAYC,EA8DzC,OAlDN,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI1C,UAAU,sDAAyDyC,EAASnB,UAAYf,OAAOoC,OAAOD,GAAcA,EAAWpB,UAAW,CAAEsB,YAAa,CAAE/J,MAAO4J,EAAUnC,UAAU,EAAMD,cAAc,KAAeqC,GAAYV,EAAgBS,EAAUC,GAQ7WG,CAAUT,EAAUD,GApBJpC,EA4BHqC,GA5BgBG,EA4BN,CAAC,CACtB9B,IAAK,qBACL5H,MAAO,WACL,IAAIiK,EAAQjL,KAERkL,EAAMC,KAAKD,MACXE,GAAU,EACd1C,OAAO2C,KAAKrL,KAAKsL,OAAOnJ,SAAQ,SAAUyG,GACxC,IAAI2C,EAAON,EAAMK,MAAM1C,GAEvB,GAAK2C,EAAL,CAIAH,GAAU,EACV,IAAII,EAAYD,EAAKhL,MACrBiL,EAAUC,mBAAqB,sBAE3BR,EAAMS,eAAiBR,EAAMD,EAAMS,cAAgB,MACrDF,EAAUC,mBAAqB,cAI/BL,IACFpL,KAAK0L,cAAgBP,KAAKD,SAG7B,CACDtC,IAAK,SACL5H,MAAO,WACL,OAAOkI,EAAKS,EAAgBY,EAASd,WAAY,SAAUzJ,MAAM+I,KAAK/I,WA1DFoI,EAAkBF,EAAYuB,UAAWiB,GAAiBC,GAAavC,EAAkBF,EAAayC,GA8DvKJ,EA7CJ,CA8CHF,I,gBClEKsB,EAAe,CACxB/M,UAAW,GACXH,QAAS,EACTmN,UAAW,cACXC,YAAa,UACbC,cAAe,QACfC,YAAa,EACbxL,MAAO,GACPyL,WAAY,UACZC,WAAY,GAEVC,EAAY,IAAUC,UAAU,CAAC,IAAUC,OAAQ,IAAUC,SACtDC,EAAY,CACrB1N,UAAW,IAAUyN,OACrB5N,QAAS,IAAU0N,UAAU,CAACD,EAAW,IAAUK,QAAQL,KAC3DN,UAAW,IAAUS,OACrBR,YAAa,IAAUM,UAAU,CAAC,IAAUE,OAAQ,IAAUE,QAAQ,IAAUJ,UAAU,CAAC,IAAUE,OAAQ,IAAU7C,UAAW,IAAUA,SAC5IsC,cAAe,IAAUU,MAAM,CAAC,OAAQ,QAAS,WACjDT,YAAaG,EACb3L,MAAO,IAAUiJ,OACjBwC,WAAY,IAAUK,OACtBJ,WAAYC,GCtBd,SAASO,IAA2Q,OAA9PA,EAAW/D,OAAOgE,QAAU,SAAUrE,GAAU,IAAK,IAAIhG,EAAI,EAAGA,EAAIoI,UAAUvI,OAAQG,IAAK,CAAE,IAAIoD,EAASgF,UAAUpI,GAAI,IAAK,IAAIuG,KAAOnD,EAAciD,OAAOe,UAAUC,eAAeX,KAAKtD,EAAQmD,KAAQP,EAAOO,GAAOnD,EAAOmD,IAAY,OAAOP,IAA2BmC,MAAMxK,KAAMyK,WAEhT,SAASkC,EAAyBlH,EAAQmH,GAAY,GAAc,MAAVnH,EAAgB,MAAO,GAAI,IAAkEmD,EAAKvG,EAAnEgG,EAEzF,SAAuC5C,EAAQmH,GAAY,GAAc,MAAVnH,EAAgB,MAAO,GAAI,IAA2DmD,EAAKvG,EAA5DgG,EAAS,GAAQwE,EAAanE,OAAO2C,KAAK5F,GAAqB,IAAKpD,EAAI,EAAGA,EAAIwK,EAAW3K,OAAQG,IAAOuG,EAAMiE,EAAWxK,GAAQuK,EAASE,QAAQlE,IAAQ,IAAaP,EAAOO,GAAOnD,EAAOmD,IAAQ,OAAOP,EAFxM0E,CAA8BtH,EAAQmH,GAAuB,GAAIlE,OAAOsE,sBAAuB,CAAE,IAAIC,EAAmBvE,OAAOsE,sBAAsBvH,GAAS,IAAKpD,EAAI,EAAGA,EAAI4K,EAAiB/K,OAAQG,IAAOuG,EAAMqE,EAAiB5K,GAAQuK,EAASE,QAAQlE,IAAQ,GAAkBF,OAAOe,UAAUyD,qBAAqBnE,KAAKtD,EAAQmD,KAAgBP,EAAOO,GAAOnD,EAAOmD,IAAU,OAAOP,EAIne,SAAS,EAAgBJ,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAEhH,SAAS,EAAkBE,EAAQnJ,GAAS,IAAK,IAAImD,EAAI,EAAGA,EAAInD,EAAMgD,OAAQG,IAAK,CAAE,IAAIiG,EAAapJ,EAAMmD,GAAIiG,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeN,EAAQC,EAAWM,IAAKN,IAI7S,SAAS,EAA2BQ,EAAMC,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAA8C,EAAuBD,GAAtCC,EAEjI,SAAS,EAAgBgB,GAAwJ,OAAnJ,EAAkBrB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAExM,SAAS,EAAuBjB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAI/J,SAAS,EAAgBiB,EAAGK,GAA+G,OAA1G,EAAkB1B,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,SAAS+C,EAAgBC,EAAKxE,EAAK5H,GAAiK,OAApJ4H,KAAOwE,EAAO1E,OAAOC,eAAeyE,EAAKxE,EAAK,CAAE5H,MAAOA,EAAOuH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkB2E,EAAIxE,GAAO5H,EAAgBoM,EAM3M,IAAI,EAEJ,SAAUC,GAGR,SAASC,IACP,IAAIC,EAEAtC,EAEJ,EAAgBjL,KAAMsN,GAEtB,IAAK,IAAIE,EAAO/C,UAAUvI,OAAQuL,EAAO,IAAI1L,MAAMyL,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQjD,UAAUiD,GAOzB,OAFAP,EAAgB,EAFhBlC,EAAQ,EAA2BjL,MAAOuN,EAAmB,EAAgBD,IAAOvE,KAAKyB,MAAM+C,EAAkB,CAACvN,MAAM2N,OAAOF,MAEhF,QAAS,IAEjDxC,EAtCX,IAAsB/C,EAAawC,EAAYC,EAwG7C,OAhGF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI1C,UAAU,sDAAyDyC,EAASnB,UAAYf,OAAOoC,OAAOD,GAAcA,EAAWpB,UAAW,CAAEsB,YAAa,CAAE/J,MAAO4J,EAAUnC,UAAU,EAAMD,cAAc,KAAeqC,GAAY,EAAgBD,EAAUC,GAajX,CAAUyC,EAAMD,GArBInF,EAyCPoF,GAzCoB5C,EAyCd,CAAC,CAClB9B,IAAK,SACL5H,MAAO,WACL,IAAI4M,EAAS5N,KAET6N,EAAc7N,KAAKd,MACnBN,EAAYiP,EAAYjP,UACxBH,EAAUoP,EAAYpP,QACtBmN,EAAYiC,EAAYjC,UACxBC,EAAcgC,EAAYhC,YAC1BC,EAAgB+B,EAAY/B,cAC5BC,EAAc8B,EAAY9B,YAC1BxL,EAAQsN,EAAYtN,MACpByL,EAAa6B,EAAY7B,WACzBC,EAAa4B,EAAY5B,WACzB6B,EAAaD,EAAYC,WACzBC,EAAYpB,EAAyBkB,EAAa,CAAC,YAAa,UAAW,YAAa,cAAe,gBAAiB,cAAe,QAAS,aAAc,aAAc,sBAEzKE,EAAUC,YACjB,IAAIC,EAAclM,MAAMC,QAAQvD,GAAWA,EAAU,CAACA,GAClDyP,EAAkBnM,MAAMC,QAAQ6J,GAAeA,EAAc,CAACA,GAC9DsC,EAASpC,EAAc,EACvBqC,EAAQ,IAAMrC,EAAc,EAC5BsC,EAAa,KAAKV,OAAyB,UAAlB7B,EAA4BqC,EAAS,EAAG,KAAKR,OAAOQ,EAAQ,mBAAmBR,OAAyB,UAAlB7B,EAA4BsC,EAAQ,IAAK,KAAKT,OAAOQ,GACpKG,EAAgB,WAAWX,OAAO5B,GAClCwC,EAAW,EACf,OAAO,IAAMC,cAAc,MAAO/B,EAAS,CACzC7N,UAAW,GAAG+O,OAAO/B,EAAW,UAAU+B,OAAO/O,GACjD6P,QAASH,EACTI,oBAAqB,OACrBnO,MAAOA,GACNwN,GAAY,IAAMS,cAAc,OAAQ,CACzC5P,UAAW,GAAG+O,OAAO/B,EAAW,eAChC+C,EAAGN,EACHvC,cAAeA,EACf8C,OAAQ5C,EACRD,YAAaE,GAAcF,EAC3B8C,YAAa,MACXZ,EAAYa,KAAI,SAAUC,EAAKC,GACjC,IAAIxD,EAAY,CACdyD,gBAAiB,GAAGtB,OAAOoB,EAAK,aAChCG,iBAAkB,IAAIvB,OAAOY,EAAU,MACvCT,WAAYA,GAAc,oFAExB1L,EAAQ8L,EAAgBc,IAAUd,EAAgBA,EAAgBhM,OAAS,GAE/E,OADAqM,GAAYQ,EACL,IAAMP,cAAc,OAAQ,CACjC5F,IAAKoG,EACLpQ,UAAW,GAAG+O,OAAO/B,EAAW,cAChC+C,EAAGN,EACHvC,cAAeA,EACf8C,OAAQxM,EACR2J,YAAaA,EACb8C,YAAa,IACbvO,IAAK,SAAaiL,GAChBqC,EAAOtC,MAAM0D,GAASzD,GAExBhL,MAAOiL,aAlG6D,EAAkBtD,EAAYuB,UAAWiB,GAAiBC,GAAa,EAAkBzC,EAAayC,GAwG3K2C,EApFT,CAqFE,aAEF,EAAKhB,UAAYA,EACjB,EAAKX,aAAeA,EACL,QAAS,GCvHxB,SAASwD,EAAQ3F,EAAQ4F,GAAkB,IAAI/D,EAAO3C,OAAO2C,KAAK7B,GAAS,GAAId,OAAOsE,sBAAuB,CAAE,IAAIqC,EAAU3G,OAAOsE,sBAAsBxD,GAAa4F,IAAgBC,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAO7G,OAAOoB,yBAAyBN,EAAQ+F,GAAKhH,eAAgB8C,EAAKmE,KAAKhF,MAAMa,EAAMgE,GAAY,OAAOhE,EAE9U,SAASoE,EAAcpH,GAAU,IAAK,IAAIhG,EAAI,EAAGA,EAAIoI,UAAUvI,OAAQG,IAAK,CAAE,IAAIoD,EAAyB,MAAhBgF,UAAUpI,GAAaoI,UAAUpI,GAAK,GAAQA,EAAI,EAAK8M,EAAQ1J,GAAQ,GAAMtD,SAAQ,SAAUyG,GAAO,EAAgBP,EAAQO,EAAKnD,EAAOmD,OAAsBF,OAAOgH,0BAA6BhH,OAAOiH,iBAAiBtH,EAAQK,OAAOgH,0BAA0BjK,IAAmB0J,EAAQ1J,GAAQtD,SAAQ,SAAUyG,GAAOF,OAAOC,eAAeN,EAAQO,EAAKF,OAAOoB,yBAAyBrE,EAAQmD,OAAe,OAAOP,EAE7f,SAAS,IAA2Q,OAA9P,EAAWK,OAAOgE,QAAU,SAAUrE,GAAU,IAAK,IAAIhG,EAAI,EAAGA,EAAIoI,UAAUvI,OAAQG,IAAK,CAAE,IAAIoD,EAASgF,UAAUpI,GAAI,IAAK,IAAIuG,KAAOnD,EAAciD,OAAOe,UAAUC,eAAeX,KAAKtD,EAAQmD,KAAQP,EAAOO,GAAOnD,EAAOmD,IAAY,OAAOP,IAA2BmC,MAAMxK,KAAMyK,WAEhT,SAAS,EAAyBhF,EAAQmH,GAAY,GAAc,MAAVnH,EAAgB,MAAO,GAAI,IAAkEmD,EAAKvG,EAAnEgG,EAEzF,SAAuC5C,EAAQmH,GAAY,GAAc,MAAVnH,EAAgB,MAAO,GAAI,IAA2DmD,EAAKvG,EAA5DgG,EAAS,GAAQwE,EAAanE,OAAO2C,KAAK5F,GAAqB,IAAKpD,EAAI,EAAGA,EAAIwK,EAAW3K,OAAQG,IAAOuG,EAAMiE,EAAWxK,GAAQuK,EAASE,QAAQlE,IAAQ,IAAaP,EAAOO,GAAOnD,EAAOmD,IAAQ,OAAOP,EAFxM,CAA8B5C,EAAQmH,GAAuB,GAAIlE,OAAOsE,sBAAuB,CAAE,IAAIC,EAAmBvE,OAAOsE,sBAAsBvH,GAAS,IAAKpD,EAAI,EAAGA,EAAI4K,EAAiB/K,OAAQG,IAAOuG,EAAMqE,EAAiB5K,GAAQuK,EAASE,QAAQlE,IAAQ,GAAkBF,OAAOe,UAAUyD,qBAAqBnE,KAAKtD,EAAQmD,KAAgBP,EAAOO,GAAOnD,EAAOmD,IAAU,OAAOP,EAMne,SAAS,EAAkBA,EAAQnJ,GAAS,IAAK,IAAImD,EAAI,EAAGA,EAAInD,EAAMgD,OAAQG,IAAK,CAAE,IAAIiG,EAAapJ,EAAMmD,GAAIiG,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeN,EAAQC,EAAWM,IAAKN,IAM7S,SAAS,EAAgByB,GAAwJ,OAAnJ,EAAkBrB,OAAOsB,eAAiBtB,OAAOuB,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAaxB,OAAOuB,eAAeF,KAA8BA,GAExM,SAAS,EAAuBjB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAI/J,SAAS,EAAgBiB,EAAGK,GAA+G,OAA1G,EAAkB1B,OAAOsB,gBAAkB,SAAyBD,EAAGK,GAAsB,OAAjBL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,SAAS,EAAgBgD,EAAKxE,EAAK5H,GAAiK,OAApJ4H,KAAOwE,EAAO1E,OAAOC,eAAeyE,EAAKxE,EAAK,CAAE5H,MAAOA,EAAOuH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkB2E,EAAIxE,GAAO5H,EAAgBoM,EAO3M,IAAIwC,EAAe,EAEnB,SAASC,EAAqBpR,GAC5B,OAAQA,EAAQqR,QAAQ,IAAK,IAG/B,SAASC,EAAQC,GACf,OAAOjO,MAAMC,QAAQgO,GAAYA,EAAW,CAACA,GAG/C,SAASC,EAAcvQ,EAAQjB,EAASoN,EAAaE,GACnD,IAAImE,EAAYzF,UAAUvI,OAAS,QAAsBiO,IAAjB1F,UAAU,GAAmBA,UAAU,GAAK,EAChFuD,EAAcvD,UAAUvI,OAAS,EAAIuI,UAAU,QAAK0F,EACpDC,EAAS,GAAKrE,EAAc,EAC5BsE,EAAiB,EACjBC,GAAkBF,EAClBG,EAAe,EACfC,GAAgB,EAAIJ,EAExB,OAAQpC,GACN,IAAK,OACHqC,GAAkBD,EAClBE,EAAiB,EACjBC,EAAe,EAAIH,EACnBI,EAAe,EACf,MAEF,IAAK,QACHH,EAAiBD,EACjBE,EAAiB,EACjBC,GAAgB,EAAIH,EACpBI,EAAe,EACf,MAEF,IAAK,SACHF,EAAiBF,EACjBI,EAAe,EAAIJ,EAMvB,IAAI/B,EAAa,aAAaV,OAAO0C,EAAgB,KAAK1C,OAAO2C,EAAgB,WAAW3C,OAAOyC,EAAQ,KAAKzC,OAAOyC,EAAQ,WAAWzC,OAAO4C,EAAc,KAAK5C,QAAQ6C,EAAc,WAAW7C,OAAOyC,EAAQ,KAAKzC,OAAOyC,EAAQ,WAAWzC,QAAQ4C,EAAc,KAAK5C,OAAO6C,GACjRC,EAAgB,EAAV9N,KAAK+N,GAASN,EACpB5E,EAAY,CACdoD,OAAQ/C,EACRoD,gBAAiB,GAAGtB,OAAOlP,EAAU,KAAOgS,EAAMP,GAAY,OAAOvC,OAAO8C,EAAK,MACjFvB,iBAAkB,IAAIvB,OAAOuC,EAAY,EAAIxQ,EAAS,KAAO+Q,EAAMP,GAAY,MAC/EpC,WAAY,uGAGd,MAAO,CACLO,WAAYA,EACZ7C,UAAWA,GAIf,IAAI,EAEJ,SAAU6B,GAGR,SAASsD,IACP,IAAI1F,EAhF4BnC,EAAMC,EA4FtC,OAlGJ,SAAyBd,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAwF5G,CAAgBnI,KAAM2Q,GAlFU7H,EAoFG9I,KAAnCiL,IApFsClC,EAoFG,EAAgB4H,GAAQ5H,KAAK/I,QApFK,iBAAT+I,GAAqC,mBAATA,EAA8C,EAAuBD,GAAtCC,EAsF7H,EAAgB,EAAuBkC,GAAQ,QAAS,IAExD,EAAgB,EAAuBA,GAAQ,aAAc,GAE7DA,EAAM2F,WAAahB,EACnBA,GAAgB,EACT3E,EA9FX,IAAsB/C,EAAawC,EAAYC,EAgM7C,OAxLF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI1C,UAAU,sDAAyDyC,EAASnB,UAAYf,OAAOoC,OAAOD,GAAcA,EAAWpB,UAAW,CAAEsB,YAAa,CAAE/J,MAAO4J,EAAUnC,UAAU,EAAMD,cAAc,KAAeqC,GAAY,EAAgBD,EAAUC,GAuEjX,CAAU8F,EAAQtD,GA/EEnF,EAiGPyI,GAjGoBjG,EAiGZ,CAAC,CACpB9B,IAAK,eACL5H,MAAO,WACL,IAAI4M,EAAS5N,KAET6N,EAAc7N,KAAKd,MACnB0M,EAAYiC,EAAYjC,UACxBnN,EAAUoP,EAAYpP,QACtBoN,EAAcgC,EAAYhC,YAC1BE,EAAc8B,EAAY9B,YAC1BD,EAAgB+B,EAAY/B,cAC5BoE,EAAYrC,EAAYqC,UACxBlC,EAAcH,EAAYG,YAC1BC,EAAc8B,EAAQtR,GACtByP,EAAkB6B,EAAQlE,GAC1B0C,EAAW,EACf,OAAON,EAAYa,KAAI,SAAUC,EAAKC,GACpC,IAAI5M,EAAQ8L,EAAgBc,IAAUd,EAAgBA,EAAgBhM,OAAS,GAC3E0M,EAAmD,oBAA1ClG,OAAOe,UAAUoH,SAAS9H,KAAK3G,GAA+B,QAAQuL,OAAO/B,EAAW,cAAc+B,OAAOC,EAAOgD,WAAY,KAAO,GAEhJE,EAAiBb,EAAc1B,EAAUQ,EAAK3M,EAAO2J,EAAamE,EAAWlC,GAC7EK,EAAayC,EAAezC,WAC5B7C,EAAYsF,EAAetF,UAG/B,OADA+C,GAAYQ,EACL,IAAMP,cAAc,OAAQ,CACjC5F,IAAKoG,EACLpQ,UAAW,GAAG+O,OAAO/B,EAAW,gBAChC+C,EAAGN,EACHO,OAAQA,EACR9C,cAAeA,EACfC,YAAqB,IAARgD,EAAY,EAAIhD,EAC7B8C,YAAa,IACbtO,MAAOiL,EACPlL,IAAK,SAAaiL,GAChBqC,EAAOtC,MAAM0D,GAASzD,UAK7B,CACD3C,IAAK,SACL5H,MAAO,WACL,IAAI+P,EAAe/Q,KAAKd,MACpB0M,EAAYmF,EAAanF,UACzBG,EAAcgF,EAAahF,YAC3BE,EAAa8E,EAAa9E,WAC1BiE,EAAYa,EAAab,UACzBlC,EAAc+C,EAAa/C,YAC3BhC,EAAa+E,EAAa/E,WAC1BF,EAAgBiF,EAAajF,cAC7BvL,EAAQwQ,EAAaxQ,MACrB3B,EAAYmS,EAAanS,UACzBiN,EAAckF,EAAalF,YAC3BkC,EAAY,EAAyBgD,EAAc,CAAC,YAAa,cAAe,aAAc,YAAa,cAAe,aAAc,gBAAiB,QAAS,YAAa,gBAE/KC,EAAkBf,EAAc,EAAG,IAAKjE,EAAYD,EAAamE,EAAWlC,GAC5EK,EAAa2C,EAAgB3C,WAC7B7C,EAAYwF,EAAgBxF,iBAEzBuC,EAAUtP,QACjB,IACIwS,EADkBlB,EAAQlE,GACCqF,MAAK,SAAU9O,GAC5C,MAAiD,oBAA1CsG,OAAOe,UAAUoH,SAAS9H,KAAK3G,MAExC,OAAO,IAAMoM,cAAc,MAAO,EAAS,CACzC5P,UAAW,GAAG+O,OAAO/B,EAAW,YAAY+B,OAAO/O,GACnD6P,QAAS,cACTlO,MAAOA,GACNwN,GAAYkD,GAAY,IAAMzC,cAAc,OAAQ,KAAM,IAAMA,cAAc,iBAAkB,CACjG2C,GAAI,GAAGxD,OAAO/B,EAAW,cAAc+B,OAAO3N,KAAK4Q,YACnDQ,GAAI,OACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MACH7I,OAAO2C,KAAK4F,GAAUO,MAAK,SAAUC,EAAGC,GACzC,OAAO7B,EAAqB4B,GAAK5B,EAAqB6B,MACrD5C,KAAI,SAAUlG,EAAKoG,GACpB,OAAO,IAAMR,cAAc,OAAQ,CACjC5F,IAAKoG,EACLtP,OAAQkJ,EACR+I,UAAWV,EAASrI,UAElB,IAAM4F,cAAc,OAAQ,CAChC5P,UAAW,GAAG+O,OAAO/B,EAAW,iBAChC+C,EAAGN,EACHO,OAAQ5C,EACRF,cAAeA,EACfC,YAAaE,GAAcF,EAC3B8C,YAAa,IACbtO,MAAOiL,IACLxL,KAAK4R,eAAeC,gBA5LgD,EAAkB3J,EAAYuB,UAAWiB,GAAiBC,GAAa,EAAkBzC,EAAayC,GAgM3KgG,EAlHT,CAmHE,aAEF,EAAOrE,UAAYmD,EAAc,GAAInD,EAAW,CAC9C0B,YAAa,IAAUxB,MAAM,CAAC,MAAO,SAAU,OAAQ,YAEzD,EAAOb,aAAe8D,EAAc,GAAI9D,EAAc,CACpDqC,YAAa,QAEA,QAAS,GCvNxB,4EAGe,WACbV,KAAM,EACNqD,OAAQ,I,+aCuCVjK,OAAOtD,aAAesD,OAAOtD,mBAAgB+M,EAE7C,kBAOE,WAAYjR,GAAZ,MACE,YAAMA,IAAM,K,OAoCd,EAAA4S,iBAAmB,WACT,IAAAC,EAAA,QAAAA,WACyB,WAA7BC,SAASC,iBACXF,EAAY3K,QACZ,EAAK3H,SAAS,CAAE2H,OAAO,MAEvB2K,EAAYxK,SACZ,EAAK9H,SAAS,CAAE2H,OAAO,MAI3B,EAAA8K,OAAS,WACD,cAAErS,EAAA,EAAAA,MAAO2B,EAAA,EAAAA,OACT2Q,EAAS,EAAKA,OACpBA,EAAOtS,MAAQA,EACfsS,EAAO3Q,OAASA,GAGlB,EAAA4D,KAAO,SAAChB,GACE,IAAAiB,EAAA,QAAAA,IACJjB,EACF,EAAKxE,MAAMmS,WAAY3M,KAAKhB,GACnB,IAAMgO,SAAS/M,IACxB,EAAKzF,MAAMmS,WAAY3M,KAAK,CAC1BC,IAAG,EACHC,GAAI,EAAK+M,aACTrO,WAAY,EAAKsO,YAKvB,EAAAA,SAAW,SAAAlO,GACJ,EAAKmO,UAGNC,MAAMpO,GACR,EAAK3E,SAAS,CAAEhB,QAAS,EAAGE,aAAa,EAAM8T,SAAS,IAExD,EAAKhT,SAAS,CAAEhB,QAAS2F,EAAGqO,SAAS,MAIzC,EAAAJ,aAAe,WACb,EAAK5S,SAAS,CAAEiT,SAAS,EAAOD,SAAS,IAAQ,WAC/C,EAAK7S,MAAMmS,WAAYhL,WAAW,OAItC,EAAA4L,kBAAoB,WAClB,GAAK,EAAK/S,MAAMgT,WAAhB,CAGA,IAAMrR,EAAM,EAAK4Q,OAAOU,WAAW,MAC7B,UAAErR,EAAA,EAAAA,OAAQ3B,EAAA,EAAAA,MAAO4B,EAAA,EAAAA,KAAMC,EAAA,EAAAA,SAAUE,EAAA,EAAAA,OACjCN,EAAQ,CAAEC,IAAG,EAAEC,OAAM,EAAE3B,MAAK,EAAE4B,KAAI,EAAEC,SAAQ,GAC1CuB,EAAA,EAAAA,YACR,EAAKxD,SACH,CACEsS,WAAY,IAAI,UAAW,CACzB/O,KAAMvB,EACNJ,KAAM,UAAMA,KAAKC,GACjBM,OAAM,EACNqB,YAAW,KAGf,EAAKmC,MAEP,EAAK8M,WAGP,EAAAjP,YAAc,SAAC,G,IAAE,IAAArC,KAAmB,IAAA0D,MAC7B,EAAKiO,SAGV,EAAK9S,SAAS,CAAEwD,YAAW,EAAExC,UAAS,KAGxC,EAAAgH,aAAe,SAAArD,GACb,EAAKxE,MAAMmS,WAAYzL,aAAalC,EAAI,MAG1C,EAAAsD,YAAc,WACN,cAAEqK,EAAA,EAAAA,WAAY3K,EAAA,EAAAA,MAEhBA,EACF2K,EAAYxK,SAEZwK,EAAY3K,QAGd,EAAK3H,SAAS,CAAE2H,OAAQA,KAG1B,EAAA1I,cAAgB,SAAAD,GACd,OAAmB,MAAZA,EACH,WACA,EAAKmB,MAAMjB,YACT,IACGF,EAAQ0I,QAAQ,GAAE,KAG7B,EAAApG,WAAa,WACL,cAAEkC,EAAA,EAAAA,YAAaxC,EAAA,EAAAA,UAAWE,EAAA,EAAAA,eAAgBD,EAAA,EAAAA,cAShD,OARU,IAAMoS,mBACdrS,GACMwC,EAAcxC,EACd,EAAKsS,iBAAiBrS,GAAiBC,IACvCF,EACF,GAGK,MADD,IAAMqS,mBAAmBrS,IAIrC,EAAAI,iBAAmB,SAAAqG,GACjB,EAAKzH,SAAS,CAAEiB,cAAewG,EAAUjE,YAAa,KAGxD,EAAAnC,gBAAkB,SAAAoG,GAChB,EAAKzH,SACH,CACEiB,cAAe,KACfC,eAAgBuG,EAChBE,OAAO,EACPnE,YAAa,IAEf,WACE,EAAKrD,MAAMmS,WAAYhL,WAAW,EAAKgM,iBAAiB7L,IACxD,EAAKtH,MAAMmS,WAAYxK,aAK7B,EAAAwL,iBAAmB,SAAA7L,GACjB,OAAAjG,UAAWiG,EAAW,IAAO,EAAKtH,MAAMa,WAAW0G,QAAQ,GAAI,KAEjE,EAAA6L,WAAa,WACN,EAAKC,MAAMC,MAAM,KAGtB,EAAKtT,MAAMmS,WAAY9N,QACvB,EAAKxE,SAAS,CAAEgT,SAAS,EAAOhU,QAAS,IAAK,WAC5C,IAAM0U,EAAc,IAAIC,WAChBC,EAAA,iBAAAA,KACRF,EAAOG,kBAAkB,EAAKL,MAAMC,MAAM,IAC1CC,EAAOI,OAAS,SAACC,GACf,EAAKpO,KAAK,CACRC,IAAKmO,EAAIC,cAAcC,OACvBpO,GAAI,EAAK+M,aACTrO,WAAY,EAAKsO,WAEnB,EAAK7S,SAAS,CACZd,aAAa,EACb+T,SAAS,EACT/R,eAAgB,EAChBN,UAAWgT,UAMnB,EAAA1L,QAAU,WACA,IAAAC,EAAA,QAAAA,KACR,EAAKnI,SAAS,CAAEmI,MAAOA,IAAQ,WACvB,cAAE+L,EAAA,EAAA/L,KAASxD,EAAA,EAAAxC,OACjB,EAAK6F,aAAakM,EAAI,EAAQ,IAAJvP,OAxM5B4N,SAAS4B,iBAAiB,mBAAoB,EAAK9B,kBACnD,EAAKS,SAAU,EACf,EAAK3S,MAAQ,CAEXyF,IAAK,UACL5D,KAAM,GACNC,SAAU,CAAC,OAAQ,QACnBF,OAAQ,EAAKtC,MAAM2U,SAA0B,GAAf,EAAK3U,MAAM4U,EAAU,IACnDjU,MAAO,EAAKX,MAAM2U,SAAW,IAAM,IACnCzM,OAAO,EACPxF,OAAQ,IACR8Q,SAAS,EACTjU,QAAS,EACTgC,UAAW,EACXwC,YAAa,EACbtC,eAAgB,EAChBD,cAAe,KACf/B,aAAa,EACbiU,aAAclM,OAAOtD,aACrBqP,SAAS,EACTpS,UAAW,GACXuH,MAAM,G,EAuQZ,OArS8B,OAkC5B,YAAA7H,kBAAA,WACEC,KAAK2S,qBAGP,YAAAzS,qBAAA,WACEF,KAAKJ,MAAMmS,WAAYrM,OACvBsM,SAAS+B,oBAAoB,mBAAoB/T,KAAK8R,kBACtD9R,KAAKuS,SAAU,GA4KjB,YAAA/T,OAAA,sBACQ,aACJ4I,EAAA,EAAAA,MACAsL,EAAA,EAAAA,QACAjU,EAAA,EAAAA,QACAkC,EAAA,EAAAA,eACAD,EAAA,EAAAA,cACAuC,EAAA,EAAAA,YACAxC,EAAA,EAAAA,UACA9B,EAAA,EAAAA,YACAiU,EAAA,EAAAA,WACAH,EAAA,EAAAA,QACApS,EAAA,EAAAA,UACAuH,EAAA,EAAAA,KAGF,IAAKgL,EACH,OAAO,uBAAKhU,UAAU,oBAAkB,kBAG1C,IAAMgC,EAAOH,EACTQ,UAAYgC,EAAcxC,EAAaA,EAAa,KAAK0G,QAAQ,GAAI,IACrE,EAEJ,OACE,uBAAKvI,UAAW,qBAAoB8T,EAAU,UAAY,WACxD,0BACEpS,IAAK,SAAAA,GACH,EAAK6R,OAAS7R,KAGlB,gBAAC,UAAa,CAACD,UAAWA,IACxBqS,EAQE,GAPF,gBAAC,UAAS,CACRtL,MAAOA,EACPQ,KAAMA,EACND,QAAS3H,KAAK2H,QACdD,YAAa1H,KAAK0H,YAClBD,aAAczH,KAAKyH,eAKrBiL,EAUE,GATF,gBAAC,UAAO,CACN9R,KAAMA,EACNH,UAAWA,EACXM,WAAYf,KAAKe,WACjBL,cAAeA,EACfC,eAAgBA,EAChBG,gBAAiBd,KAAKc,gBACtBD,iBAAkBb,KAAKa,mBAK1B6R,EACC,gBAAC,UAAW,CACVjU,QAASA,EACTC,cAAesB,KAAKtB,cACpBC,YAAaA,IAEb,GAGJ,qBAAGC,UAAW,WAAW6T,EAAwB,GAAd,cACjC,uBAAK7T,UAAW,oCAChB,yBACEA,UAAU,SACV0B,IAAK,SAAAA,GACH,EAAK2S,MAAQ3S,GAEfzB,KAAK,OACLmV,OAAO,aACP9S,SAAUlB,KAAKgT,gBAM3B,EArSA,CAA8B,aAuSf,cAAMxP,QAAQ,CAC3ByQ,UAAWC,EACXC,gBAAiB,SAAAvU,GAAS,OACxBiU,SAAUjU,EAAMwU,OAAOP,SACvBC,EAAGlU,EAAMwU,OAAOC","file":"js/9.b1d86a63813ec38d799e.bundle.js","sourcesContent":["import { Progress } from 'antd'\nimport React from 'react'\ninterface IProps {\n  percent: number;\n  loadingFail: boolean;\n  formatPercent: (v: number) => string;\n}\n\nclass FileLoading extends React.Component<IProps> {\n  render() {\n    const { percent, formatPercent, loadingFail } = this.props\n    return (\n      <div className=\"loading-mask\">\n        {percent === 0 && !loadingFail ? (\n          <div className=\"loader\" />\n        ) : !loadingFail ? (\n          <Progress\n            type=\"circle\"\n            percent={Number(percent) ? percent : 0}\n            format={formatPercent}\n            status={\n              loadingFail\n                ? 'exception'\n                : Number(percent) === 100\n                  ? 'success'\n                  : 'active'\n            }\n            className={`${\n              !loadingFail && Number(percent) === 100 ? 'loading' : ''\n            }`}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n    )\n  }\n}\nexport default FileLoading\n","import React from 'react'\ninterface IProps {\n  musicName: string;\n}\n\ninterface IState {\n  wrapperWidth: number;\n  width: number;\n  offset: number;\n  onOff: boolean;\n  offsetWidth: number;\n}\n\nclass FloatingTitle extends React.Component<IProps, IState> {\n  dom\n  wrapper\n  interval\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      width: 0,\n      offset: 0,\n      onOff: false,\n      offsetWidth: 0,\n      wrapperWidth: 0\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ wrapperWidth: this.wrapper.offsetWidth })\n    this.doInterval()\n  }\n\n  componentWillUnmount() {\n    this.clearInterval()\n  }\n\n  componentDidUpdate() {\n    const { width } = this.state\n    if (this.dom.offsetWidth !== width) {\n      let offsetWidth = this.wrapper.offsetWidth - this.dom.offsetWidth\n      offsetWidth = offsetWidth <= 0 ? offsetWidth : 0\n      this.setState({\n        width: this.dom.offsetWidth,\n        offsetWidth,\n        onOff: false\n      })\n    }\n  }\n\n  doInterval = () => {\n    this.interval = setInterval(() => {\n      this.intervalContent()\n    }, 3000)\n  }\n\n  intervalContent = () => {\n    const { onOff, offsetWidth } = this.state\n    this.setState({\n      onOff: !onOff,\n      offset: onOff ? 0 : offsetWidth\n    })\n  }\n\n  clearInterval = () => {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n\n  render() {\n    const { musicName } = this.props\n    const { offset, offsetWidth } = this.state\n\n    return (\n      <div\n        className={`music-name ${offsetWidth === 0 ? 'flex' : ''}`}\n        ref={ref => {\n          this.wrapper = ref\n        }}\n      >\n        <div\n          style={{ transform: `translateX(${offset}px)` }}\n          className=\"content\"\n          ref={ref => {\n            this.dom = ref\n          }}\n        >\n          {musicName}\n        </div>\n      </div>\n    )\n  }\n}\nexport default FloatingTitle\n","import { Slider } from 'antd'\nimport React from 'react'\n\ninterface IProps {\n  totalTime: number;\n  slideDuration: number | null;\n  durationOffset: number;\n  curr: number;\n  durationChanging: (v: number) => void;\n  durationChanged: (v: number) => void;\n  formatTime: () => string;\n}\n\nclass Time extends React.Component<IProps> {\n  render() {\n    const {\n      totalTime,\n      slideDuration,\n      durationOffset,\n      curr,\n      durationChanging,\n      durationChanged,\n      formatTime\n    } = this.props\n    return (\n      <div className=\"time-zone\">\n        <Slider\n          className=\"duration-slider\"\n          value={\n            totalTime\n              ? (parseInt((slideDuration || durationOffset) + '', 10) + curr) %\n                100\n              : 0\n          }\n          onChange={durationChanging}\n          onAfterChange={durationChanged}\n          tipFormatter={null}\n        />\n        <div>{formatTime()}</div>\n      </div>\n    )\n  }\n}\nexport default Time\n","export default {\n  draw: param => {\n    const { ctx, height, width, bars, barColor } = param\n    return (arr, volume) => {\n      const vol = volume\n      ctx.clearRect(0, 0, width, height)\n      if (Array.isArray(barColor)) {\n        const line = ctx.createLinearGradient(0, 0, 0, height)\n        const len = barColor.length\n        barColor.forEach((color, i) => {\n          line.addColorStop(i / (len - 1), color)\n        })\n        ctx.fillStyle = line\n      } else {\n        ctx.fillStyle = barColor\n      }\n      const rectWidth = width / bars\n      const barWidth = rectWidth * 0.5\n      const capHeight = Math.min(barWidth, 10) * vol\n      for (let i = 0; i < bars; i++) {\n        const rectHeight = (arr[i] / 256) * height * vol\n        const capDistance =\n          arr[i] > 0 ? Math.min(rectHeight + 40, height - capHeight) : 0\n        ctx.fillRect(rectWidth * i, height - rectHeight, barWidth, rectHeight)\n        ctx.fillRect(\n          rectWidth * i,\n          height - (capDistance + capHeight),\n          barWidth,\n          capHeight\n        )\n      }\n    }\n  }\n}\n","import Axios from 'axios'\n\nexport default class Visualizer {\n  source\n  count\n  ac\n  draw\n  size\n  gainNode\n  analyser\n  rafId\n  volume\n  buffer\n  currentTime\n  curr\n  total\n  interval\n  axiosModel\n  axiosCancellation\n\n  constructor({ draw, size, volume, currentTime }) {\n    this.source = null\n    this.count = 0\n    this.draw = draw\n    this.size = size\n    this.volume = volume\n    this.currentTime = currentTime\n    this.initAC()\n  }\n\n  initAC = () => {\n    this.ac = new AudioContext()\n    this.gainNode = this.ac.createGain()\n    this.gainNode.gain.value = this.volume\n    this.gainNode.connect(this.ac.destination)\n    this.analyser = this.ac.createAnalyser()\n    this.analyser.fftSize = this.size * 2\n    this.analyser.connect(this.gainNode)\n  }\n\n  load = (url, callback, progressCb) => {\n    this.abort()\n    Axios({\n      url,\n      responseType: 'arraybuffer',\n      onDownloadProgress: v => {\n        const { loaded, total } = v\n        progressCb((loaded / total) * 100)\n      },\n      cancelToken: new Axios.CancelToken(c => {\n        this.axiosCancellation = c\n      })\n    })\n      .then(response => {\n        callback(response.data)\n      })\n      .catch(thrown => {\n        if (Axios.isCancel(thrown)) {\n          console.log('Request canceled', thrown.message)\n        } else {\n          progressCb('error')\n        }\n      })\n  }\n\n  abort = () => this.axiosCancellation && this.axiosCancellation('abort')\n\n  play = ({ src, cb, progressCb }) => {\n    const n = ++this.count\n    if (this.source) {\n      this.source.stop()\n    }\n    const decodeCallback = buffer => {\n      this.buffer = buffer\n      if (n === this.count && this.ac) {\n        try {\n          this.createBufferSource({ buffer }, cb)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n    if (src instanceof ArrayBuffer) {\n      this.ac.decodeAudioData(src, decodeCallback)\n    } else {\n      this.load(\n        src,\n        arrayBuffer => {\n          this.ac.decodeAudioData(arrayBuffer, decodeCallback)\n        },\n        progressCb\n      )\n    }\n  }\n\n  createBufferSource = ({ buffer, start = 0 }, cb?) => {\n    if (this.source) {\n      this.source.stop()\n    }\n    if (!this.buffer) {\n      return\n    }\n    const bufferSource = this.ac.createBufferSource()\n    bufferSource.buffer = this.buffer = buffer\n    bufferSource.loop = true\n    bufferSource.connect(this.analyser)\n    bufferSource.start(0, start)\n    this.source = bufferSource\n    this.visualize()\n    if (cb) {\n      cb()\n    }\n  }\n\n  updateVolume = vol => {\n    console.log(vol)\n    this.gainNode.gain.value = this.volume = vol\n  }\n\n  visualize = () => {\n    const arr = new Uint8Array(this.analyser.frequencyBinCount)\n    const raf = window.requestAnimationFrame\n    const fn = () => {\n      this.analyser.getByteFrequencyData(arr)\n      this.draw(arr, this.volume)\n      this.rafId = raf(fn)\n    }\n    fn()\n  }\n\n  setCurrent = (start = 0) => {\n    const { buffer } = this\n    this.curr = 0\n    this.createBufferSource({ buffer, start })\n    this.setInterval(true)\n  }\n\n  setInterval = (isFirst?) => {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n    if (isFirst) {\n      this.setCurrTime(isFirst)\n    }\n    this.interval = setInterval(() => {\n      this.setCurrTime()\n    }, 1000)\n  }\n\n  setCurrTime = (isFirst?) => {\n    const total = this.buffer ? this.buffer.duration.toFixed(0) : 0\n    this.currentTime({ curr: isFirst ? 0 : ++this.curr, total })\n  }\n\n  pause = () => {\n    this.ac.suspend()\n    window.cancelAnimationFrame(this.rafId)\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n\n  resume = () => {\n    this.ac.resume()\n    this.visualize()\n    this.setInterval()\n  }\n\n  stop = () => {\n    this.abort()\n    this.ac.close()\n    window.cancelAnimationFrame(this.rafId)\n  }\n}\n","import { Slider } from 'antd'\nimport React from 'react'\n\ninterface IProps {\n  pause: boolean;\n  mute: boolean;\n  setMute: () => void;\n  changeVolume: (v: number) => void;\n  togglePause: () => void;\n}\n\nclass Volume extends React.Component<IProps> {\n  render() {\n    const { changeVolume, togglePause, pause, setMute, mute } = this.props\n    return (\n      <div className=\"volume-zone\">\n        <div\n          className={`icon anticon anticon-ts-app icon-${\n            mute ? 'mute' : 'volume'\n          }`}\n          onClick={setMute}\n        />\n        <Slider\n          className=\"slider\"\n          defaultValue={77}\n          onChange={changeVolume}\n          tipFormatter={null}\n          disabled={mute}\n        />\n        <div\n          onClick={togglePause}\n          className={`icon anticon anticon-ts-app icon-${\n            pause ? 'play' : 'pause'\n          }`}\n        />\n      </div>\n    )\n  }\n}\nexport default Volume\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar enhancer = function enhancer(WrappedComponent) {\n  return (\n    /*#__PURE__*/\n    function (_WrappedComponent) {\n      _inherits(Progress, _WrappedComponent);\n\n      function Progress() {\n        _classCallCheck(this, Progress);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(Progress).apply(this, arguments));\n      }\n\n      _createClass(Progress, [{\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n          var _this = this;\n\n          var now = Date.now();\n          var updated = false;\n          Object.keys(this.paths).forEach(function (key) {\n            var path = _this.paths[key];\n\n            if (!path) {\n              return;\n            }\n\n            updated = true;\n            var pathStyle = path.style;\n            pathStyle.transitionDuration = '.3s, .3s, .3s, .06s';\n\n            if (_this.prevTimeStamp && now - _this.prevTimeStamp < 100) {\n              pathStyle.transitionDuration = '0s, 0s';\n            }\n          });\n\n          if (updated) {\n            this.prevTimeStamp = Date.now();\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return _get(_getPrototypeOf(Progress.prototype), \"render\", this).call(this);\n        }\n      }]);\n\n      return Progress;\n    }(WrappedComponent)\n  );\n};\n\nexport default enhancer;","import PropTypes from 'prop-types';\nexport var defaultProps = {\n  className: '',\n  percent: 0,\n  prefixCls: 'rc-progress',\n  strokeColor: '#2db7f5',\n  strokeLinecap: 'round',\n  strokeWidth: 1,\n  style: {},\n  trailColor: '#D9D9D9',\n  trailWidth: 1\n};\nvar mixedType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nexport var propTypes = {\n  className: PropTypes.string,\n  percent: PropTypes.oneOfType([mixedType, PropTypes.arrayOf(mixedType)]),\n  prefixCls: PropTypes.string,\n  strokeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])), PropTypes.object]),\n  strokeLinecap: PropTypes.oneOf(['butt', 'round', 'square']),\n  strokeWidth: mixedType,\n  style: PropTypes.object,\n  trailColor: PropTypes.string,\n  trailWidth: mixedType\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\n\nvar Line =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Line, _Component);\n\n  function Line() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Line);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Line)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"paths\", {});\n\n    return _this;\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          percent = _this$props.percent,\n          prefixCls = _this$props.prefixCls,\n          strokeColor = _this$props.strokeColor,\n          strokeLinecap = _this$props.strokeLinecap,\n          strokeWidth = _this$props.strokeWidth,\n          style = _this$props.style,\n          trailColor = _this$props.trailColor,\n          trailWidth = _this$props.trailWidth,\n          transition = _this$props.transition,\n          restProps = _objectWithoutProperties(_this$props, [\"className\", \"percent\", \"prefixCls\", \"strokeColor\", \"strokeLinecap\", \"strokeWidth\", \"style\", \"trailColor\", \"trailWidth\", \"transition\"]);\n\n      delete restProps.gapPosition;\n      var percentList = Array.isArray(percent) ? percent : [percent];\n      var strokeColorList = Array.isArray(strokeColor) ? strokeColor : [strokeColor];\n      var center = strokeWidth / 2;\n      var right = 100 - strokeWidth / 2;\n      var pathString = \"M \".concat(strokeLinecap === 'round' ? center : 0, \",\").concat(center, \"\\n           L \").concat(strokeLinecap === 'round' ? right : 100, \",\").concat(center);\n      var viewBoxString = \"0 0 100 \".concat(strokeWidth);\n      var stackPtg = 0;\n      return React.createElement(\"svg\", _extends({\n        className: \"\".concat(prefixCls, \"-line \").concat(className),\n        viewBox: viewBoxString,\n        preserveAspectRatio: \"none\",\n        style: style\n      }, restProps), React.createElement(\"path\", {\n        className: \"\".concat(prefixCls, \"-line-trail\"),\n        d: pathString,\n        strokeLinecap: strokeLinecap,\n        stroke: trailColor,\n        strokeWidth: trailWidth || strokeWidth,\n        fillOpacity: \"0\"\n      }), percentList.map(function (ptg, index) {\n        var pathStyle = {\n          strokeDasharray: \"\".concat(ptg, \"px, 100px\"),\n          strokeDashoffset: \"-\".concat(stackPtg, \"px\"),\n          transition: transition || 'stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear'\n        };\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n        stackPtg += ptg;\n        return React.createElement(\"path\", {\n          key: index,\n          className: \"\".concat(prefixCls, \"-line-path\"),\n          d: pathString,\n          strokeLinecap: strokeLinecap,\n          stroke: color,\n          strokeWidth: strokeWidth,\n          fillOpacity: \"0\",\n          ref: function ref(path) {\n            _this2.paths[index] = path;\n          },\n          style: pathStyle\n        });\n      }));\n    }\n  }]);\n\n  return Line;\n}(Component);\n\nLine.propTypes = propTypes;\nLine.defaultProps = defaultProps;\nexport default enhancer(Line);","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\nvar gradientSeed = 0;\n\nfunction stripPercentToNumber(percent) {\n  return +percent.replace('%', '');\n}\n\nfunction toArray(symArray) {\n  return Array.isArray(symArray) ? symArray : [symArray];\n}\n\nfunction getPathStyles(offset, percent, strokeColor, strokeWidth) {\n  var gapDegree = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var gapPosition = arguments.length > 5 ? arguments[5] : undefined;\n  var radius = 50 - strokeWidth / 2;\n  var beginPositionX = 0;\n  var beginPositionY = -radius;\n  var endPositionX = 0;\n  var endPositionY = -2 * radius;\n\n  switch (gapPosition) {\n    case 'left':\n      beginPositionX = -radius;\n      beginPositionY = 0;\n      endPositionX = 2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'right':\n      beginPositionX = radius;\n      beginPositionY = 0;\n      endPositionX = -2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'bottom':\n      beginPositionY = radius;\n      endPositionY = 2 * radius;\n      break;\n\n    default:\n  }\n\n  var pathString = \"M 50,50 m \".concat(beginPositionX, \",\").concat(beginPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(endPositionX, \",\").concat(-endPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(-endPositionX, \",\").concat(endPositionY);\n  var len = Math.PI * 2 * radius;\n  var pathStyle = {\n    stroke: strokeColor,\n    strokeDasharray: \"\".concat(percent / 100 * (len - gapDegree), \"px \").concat(len, \"px\"),\n    strokeDashoffset: \"-\".concat(gapDegree / 2 + offset / 100 * (len - gapDegree), \"px\"),\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s' // eslint-disable-line\n\n  };\n  return {\n    pathString: pathString,\n    pathStyle: pathStyle\n  };\n}\n\nvar Circle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Circle, _Component);\n\n  function Circle() {\n    var _this;\n\n    _classCallCheck(this, Circle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Circle).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"paths\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"gradientId\", 0);\n\n    _this.gradientId = gradientSeed;\n    gradientSeed += 1;\n    return _this;\n  }\n\n  _createClass(Circle, [{\n    key: \"getStokeList\",\n    value: function getStokeList() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          percent = _this$props.percent,\n          strokeColor = _this$props.strokeColor,\n          strokeWidth = _this$props.strokeWidth,\n          strokeLinecap = _this$props.strokeLinecap,\n          gapDegree = _this$props.gapDegree,\n          gapPosition = _this$props.gapPosition;\n      var percentList = toArray(percent);\n      var strokeColorList = toArray(strokeColor);\n      var stackPtg = 0;\n      return percentList.map(function (ptg, index) {\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n        var stroke = Object.prototype.toString.call(color) === '[object Object]' ? \"url(#\".concat(prefixCls, \"-gradient-\").concat(_this2.gradientId, \")\") : '';\n\n        var _getPathStyles = getPathStyles(stackPtg, ptg, color, strokeWidth, gapDegree, gapPosition),\n            pathString = _getPathStyles.pathString,\n            pathStyle = _getPathStyles.pathStyle;\n\n        stackPtg += ptg;\n        return React.createElement(\"path\", {\n          key: index,\n          className: \"\".concat(prefixCls, \"-circle-path\"),\n          d: pathString,\n          stroke: stroke,\n          strokeLinecap: strokeLinecap,\n          strokeWidth: ptg === 0 ? 0 : strokeWidth,\n          fillOpacity: \"0\",\n          style: pathStyle,\n          ref: function ref(path) {\n            _this2.paths[index] = path;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          strokeWidth = _this$props2.strokeWidth,\n          trailWidth = _this$props2.trailWidth,\n          gapDegree = _this$props2.gapDegree,\n          gapPosition = _this$props2.gapPosition,\n          trailColor = _this$props2.trailColor,\n          strokeLinecap = _this$props2.strokeLinecap,\n          style = _this$props2.style,\n          className = _this$props2.className,\n          strokeColor = _this$props2.strokeColor,\n          restProps = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"strokeWidth\", \"trailWidth\", \"gapDegree\", \"gapPosition\", \"trailColor\", \"strokeLinecap\", \"style\", \"className\", \"strokeColor\"]);\n\n      var _getPathStyles2 = getPathStyles(0, 100, trailColor, strokeWidth, gapDegree, gapPosition),\n          pathString = _getPathStyles2.pathString,\n          pathStyle = _getPathStyles2.pathStyle;\n\n      delete restProps.percent;\n      var strokeColorList = toArray(strokeColor);\n      var gradient = strokeColorList.find(function (color) {\n        return Object.prototype.toString.call(color) === '[object Object]';\n      });\n      return React.createElement(\"svg\", _extends({\n        className: \"\".concat(prefixCls, \"-circle \").concat(className),\n        viewBox: \"0 0 100 100\",\n        style: style\n      }, restProps), gradient && React.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n        id: \"\".concat(prefixCls, \"-gradient-\").concat(this.gradientId),\n        x1: \"100%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"0%\"\n      }, Object.keys(gradient).sort(function (a, b) {\n        return stripPercentToNumber(a) - stripPercentToNumber(b);\n      }).map(function (key, index) {\n        return React.createElement(\"stop\", {\n          key: index,\n          offset: key,\n          stopColor: gradient[key]\n        });\n      }))), React.createElement(\"path\", {\n        className: \"\".concat(prefixCls, \"-circle-trail\"),\n        d: pathString,\n        stroke: trailColor,\n        strokeLinecap: strokeLinecap,\n        strokeWidth: trailWidth || strokeWidth,\n        fillOpacity: \"0\",\n        style: pathStyle\n      }), this.getStokeList().reverse());\n    }\n  }]);\n\n  return Circle;\n}(Component);\n\nCircle.propTypes = _objectSpread({}, propTypes, {\n  gapPosition: PropTypes.oneOf(['top', 'bottom', 'left', 'right'])\n});\nCircle.defaultProps = _objectSpread({}, defaultProps, {\n  gapPosition: 'top'\n});\nexport default enhancer(Circle);","import Line from './Line';\nimport Circle from './Circle';\nexport { Line, Circle };\nexport default {\n  Line: Line,\n  Circle: Circle\n};","import { IFileReaderEvent } from '@interface'\nimport Utils from '@utils'\nimport * as React from 'react'\nimport FileLoading from './file-loading'\nimport FloatingTitle from './floating-title'\nimport './index.less'\nimport TimeBar from './time-bar'\nimport tools from './tools'\nimport Visualizer from './visualizer'\nimport VolumeBar from './volume-bar'\n\ninterface IState {\n  visualizer?: Visualizer;\n  width: number;\n  height: number;\n  src: any;\n  pause: boolean;\n  volume: number;\n  bars: number;\n  barColor: string[] | string;\n  loading: boolean;\n  percent: number;\n  totalTime: number;\n  currentTime: number;\n  durationOffset: number;\n  slideDuration: number | null;\n  loadingFail: boolean;\n  compatible: boolean;\n  showAdd: boolean;\n  musicName: string;\n  mute: boolean;\n}\n\ninterface IProps {\n  isMobile: boolean;\n  h: number;\n}\n\ndeclare global {\n  interface Window {\n    AudioContext: any;\n  }\n}\n\nwindow.AudioContext = window.AudioContext || undefined\n\nclass MusicVisualizer extends React.Component<IProps, IState> {\n  canvas\n\n  input\n\n  mounted: boolean\n\n  constructor(props) {\n    super(props)\n    document.addEventListener('visibilitychange', this.visibilityChange)\n    this.mounted = true\n    this.state = {\n      // src: 'https://golb-1256296192.cos.ap-shanghai.myqcloud.com/1.mp3',\n      src: 'NoMusic',\n      bars: 64,\n      barColor: ['gold', 'aqua'],\n      height: this.props.isMobile ? this.props.h * 0.5 : 400,\n      width: this.props.isMobile ? 300 : 600,\n      pause: false,\n      volume: 0.77,\n      loading: true,\n      percent: 0,\n      totalTime: 0,\n      currentTime: 0,\n      durationOffset: 0,\n      slideDuration: null,\n      loadingFail: false,\n      compatible: !!window.AudioContext,\n      showAdd: false,\n      musicName: '',\n      mute: false\n    }\n  }\n\n  componentDidMount() {\n    this.restartVisualizer()\n  }\n\n  componentWillUnmount() {\n    this.state.visualizer!.stop()\n    document.removeEventListener('visibilitychange', this.visibilityChange)\n    this.mounted = false\n  }\n\n  visibilityChange = () => {\n    const { visualizer } = this.state\n    if (document.visibilityState === 'hidden') {\n      visualizer!.pause()\n      this.setState({ pause: true })\n    } else {\n      visualizer!.resume()\n      this.setState({ pause: false })\n    }\n  }\n\n  resize = () => {\n    const { width, height } = this.state\n    const canvas = this.canvas\n    canvas.width = width\n    canvas.height = height\n  }\n\n  play = (v?) => {\n    const { src } = this.state\n    if (v) {\n      this.state.visualizer!.play(v)\n    } else if (Utils.isString(src)) {\n      this.state.visualizer!.play({\n        src,\n        cb: this.afterLoading,\n        progressCb: this.progress\n      })\n    }\n  }\n\n  progress = v => {\n    if (!this.mounted) {\n      return\n    }\n    if (isNaN(v)) {\n      this.setState({ percent: 0, loadingFail: true, showAdd: true })\n    } else {\n      this.setState({ percent: v, showAdd: true })\n    }\n  }\n\n  afterLoading = () => {\n    this.setState({ loading: false, showAdd: true }, () => {\n      this.state.visualizer!.setCurrent(0)\n    })\n  }\n\n  restartVisualizer = () => {\n    if (!this.state.compatible) {\n      return\n    }\n    const ctx = this.canvas.getContext('2d')\n    const { height, width, bars, barColor, volume } = this.state\n    const param = { ctx, height, width, bars, barColor }\n    const { currentTime } = this\n    this.setState(\n      {\n        visualizer: new Visualizer({\n          size: bars,\n          draw: tools.draw(param),\n          volume,\n          currentTime\n        })\n      },\n      this.play\n    )\n    this.resize()\n  }\n\n  currentTime = ({ curr: currentTime, total: totalTime }) => {\n    if (!this.mounted) {\n      return\n    }\n    this.setState({ currentTime, totalTime })\n  }\n\n  changeVolume = v => {\n    this.state.visualizer!.updateVolume(v / 100)\n  }\n\n  togglePause = () => {\n    const { visualizer, pause } = this.state\n\n    if (pause) {\n      visualizer!.resume()\n    } else {\n      visualizer!.pause()\n    }\n\n    this.setState({ pause: !pause })\n  }\n\n  formatPercent = percent => {\n    return percent === 100\n      ? 'decoding'\n      : this.state.loadingFail\n        ? '↓'\n        : `${percent.toFixed(1)}%`\n  }\n\n  formatTime = () => {\n    const { currentTime, totalTime, durationOffset, slideDuration } = this.state\n    const c = Utils.secondFormatToTime(\n      totalTime\n        ? ((currentTime % totalTime) +\n            this.durationToSecond(slideDuration || durationOffset)) %\n            totalTime\n        : 0\n    )\n    const t = Utils.secondFormatToTime(totalTime)\n    return `${c} / ${t}`\n  }\n\n  durationChanging = duration => {\n    this.setState({ slideDuration: duration, currentTime: 0 })\n  }\n\n  durationChanged = duration => {\n    this.setState(\n      {\n        slideDuration: null,\n        durationOffset: duration,\n        pause: false,\n        currentTime: 0\n      },\n      () => {\n        this.state.visualizer!.setCurrent(this.durationToSecond(duration))\n        this.state.visualizer!.resume()\n      }\n    )\n  }\n\n  durationToSecond = duration =>\n    parseInt(((duration / 100) * this.state.totalTime).toFixed(0), 10)\n\n  fileChange = () => {\n    if (!this.input.files[0]) {\n      return\n    }\n    this.state.visualizer!.abort()\n    this.setState({ showAdd: false, percent: 0 }, () => {\n      const reader: any = new FileReader()\n      const { name } = this.input.files[0]\n      reader.readAsArrayBuffer(this.input.files[0])\n      reader.onload = (res: IFileReaderEvent) => {\n        this.play({\n          src: res.currentTarget.result,\n          cb: this.afterLoading,\n          progressCb: this.progress\n        })\n        this.setState({\n          loadingFail: false,\n          loading: true,\n          durationOffset: 0,\n          musicName: name\n        })\n      }\n    })\n  }\n\n  setMute = () => {\n    const { mute } = this.state\n    this.setState({ mute: !mute }, () => {\n      const { mute: m, volume: v } = this.state\n      this.changeVolume(m ? 0 : v * 100)\n    })\n  }\n\n  render() {\n    const {\n      pause,\n      loading,\n      percent,\n      durationOffset,\n      slideDuration,\n      currentTime,\n      totalTime,\n      loadingFail,\n      compatible,\n      showAdd,\n      musicName,\n      mute\n    } = this.state\n\n    if (!compatible) {\n      return <div className=\"music-visualizer\">not compatible</div>\n    }\n\n    const curr = totalTime\n      ? parseInt((((currentTime % totalTime) / totalTime) * 100).toFixed(0), 10)\n      : 0\n\n    return (\n      <div className={`music-visualizer ${loading ? 'loading' : 'loaded'}`}>\n        <canvas\n          ref={ref => {\n            this.canvas = ref\n          }}\n        />\n        <FloatingTitle musicName={musicName} />\n        {!loading ? (\n          <VolumeBar\n            pause={pause}\n            mute={mute}\n            setMute={this.setMute}\n            togglePause={this.togglePause}\n            changeVolume={this.changeVolume}\n          />\n        ) : (\n          ''\n        )}\n        {!loading ? (\n          <TimeBar\n            curr={curr}\n            totalTime={totalTime}\n            formatTime={this.formatTime}\n            slideDuration={slideDuration}\n            durationOffset={durationOffset}\n            durationChanged={this.durationChanged}\n            durationChanging={this.durationChanging}\n          />\n        ) : (\n          ''\n        )}\n        {loading ? (\n          <FileLoading\n            percent={percent}\n            formatPercent={this.formatPercent}\n            loadingFail={loadingFail}\n          />\n        ) : (\n          ''\n        )}\n        <a className={`upload ${!showAdd ? 'disappear' : ''}`}>\n          <div className={`anticon anticon-ts-app icon-add`} />\n          <input\n            className=\"change\"\n            ref={ref => {\n              this.input = ref\n            }}\n            type=\"file\"\n            accept=\"audio/mpeg\"\n            onChange={this.fileChange}\n          />\n        </a>\n      </div>\n    )\n  }\n}\n\nexport default Utils.connect({\n  component: MusicVisualizer,\n  mapStateToProps: state => ({\n    isMobile: state.common.isMobile,\n    h: state.common.contentHeight\n  })\n})\n"],"sourceRoot":""}