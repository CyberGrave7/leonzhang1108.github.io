(window.webpackJsonp=window.webpackJsonp||[]).push([[22,56],{300:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r,o=n(9),i=n(315),s=n.n(i),a=(n(153),n(359)),c=n.n(a),d=(n(358),n(1)),u=(n(300),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){var e=t.props.isMobile?3:15,n=t.props.isMobile?3:5;t.setState({size:e,renju:n,showNumber:!1,step:0,positions:[],checkerboard:t.calculateCheckerboard(e)})},t.calculateCheckerboard=function(e){for(var t=[],n=0;n<e;n++){for(var r=[],o=0;o<e;o++)r.push({state:0,index:-1});t.push(r)}return t},t.mouseEnter=function(e){var n=e.rowIndex,r=e.itemIndex;t.setCheckerboard({state:1,rowIndex:n,itemIndex:r})},t.mouseLeave=function(e){var n=e.rowIndex,r=e.itemIndex;t.setCheckerboard({state:0,rowIndex:n,itemIndex:r})},t.itemClick=function(e){var n=e.rowIndex,r=e.itemIndex,o=t.state.step;t.setCheckerboard({state:o%2==1?3:2,rowIndex:n,itemIndex:r},!0)},t.setCheckerboard=function(e,n){var r=e.state,o=e.rowIndex,i=e.itemIndex,s=t.state,a=s.checkerboard,c=s.step,d=s.positions;2!==a[o][i].state&&3!==a[o][i].state&&(a[o][i]={state:r,index:n?c:-1},t.setState({checkerboard:a,step:n?c+1:c,positions:n?d.concat({row:o,column:i}):d},function(){return n&&!t.isWin({rowIndex:o,itemIndex:i,state:r})&&t.isPeace()}))},t.isPeace=function(){var e=t.state,n=e.size;n*n===e.step&&c.a.info({title:"Peace",content:"Draw"})},t.isWin=function(e){var n=e.rowIndex,r=e.itemIndex,o=e.state,i=t.isColumnWin({rowIndex:n,itemIndex:r,state:o})||t.isRowWin({rowIndex:n,itemIndex:r,state:o})||t.isSkewWin({rowIndex:n,itemIndex:r,state:o});return i&&c.a.info({title:"Victory",content:(2===o?"black":"white")+" wins"}),i},t.isColumnWin=function(e){for(var n=e.rowIndex,r=e.itemIndex,o=e.state,i=t.state,s=i.size,a=i.checkerboard,c=i.renju,d=0,u=-(c-1);u<=c-1&&(n+u>=0&&n+u<s&&a[n+u][r].state===o?d++:d=0,d!==c);u++);return d===c},t.isRowWin=function(e){for(var n=e.rowIndex,r=e.itemIndex,o=e.state,i=t.state,s=i.size,a=i.checkerboard,c=i.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<s&&a[n][r+u].state===o?d++:d=0,d!==c);u++);return d===c},t.isSkewWin=function(e){var n=e.rowIndex,r=e.itemIndex,o=e.state;return t.isDownLineWin({rowIndex:n,itemIndex:r,state:o})||t.isUpLineWin({rowIndex:n,itemIndex:r,state:o})},t.isDownLineWin=function(e){for(var n=e.rowIndex,r=e.itemIndex,o=e.state,i=t.state,s=i.size,a=i.checkerboard,c=i.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<s&&n+u>=0&&n+u<s&&a[n+u][r+u].state===o?d++:d=0,d!==c);u++);return d===c},t.isUpLineWin=function(e){for(var n=e.rowIndex,r=e.itemIndex,o=e.state,i=t.state,s=i.size,a=i.checkerboard,c=i.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<s&&n-u>=0&&n-u<s&&a[n-u][r+u].state===o?d++:d=0,d!==c);u++);return d===c},t.toggleShowNumber=function(){t.setState({showNumber:!t.state.showNumber})},t.retract=function(){var e=t.state,n=e.step,r=e.positions,o=e.checkerboard,i=r.pop(),s=i.row,a=i.column;o[s][a]={state:0,index:-1},t.setState({step:n-1,positions:r,checkerboard:o})},t.renderItem=function(e,n,r){var i=e.state,s=e.index,a=t.state,c=a.step,u=a.showNumber,m="";switch(i){case 1:m=c%2!=1?"chosen black":"chosen white";break;case 2:m="chosen black selected";break;case 3:m="chosen white selected"}return d.createElement("td",{className:"item",key:r,onClick:o.a.handle(t.itemClick,{rowIndex:n,itemIndex:r}),onMouseEnter:o.a.handle(t.mouseEnter,{rowIndex:n,itemIndex:r}),onMouseLeave:o.a.handle(t.mouseLeave,{rowIndex:n,itemIndex:r})},d.createElement("div",{className:m},u&&s>=0?s+1:""))},t.renderRow=function(e,n){return d.createElement("tr",{className:"row",key:n},e.map(function(e,r){return t.renderItem(e,n,r)}))},t}return u(t,e),t.prototype.componentWillMount=function(){this.reset()},t.prototype.render=function(){var e=this.state,t=e.checkerboard,n=e.showNumber,r=e.positions;return d.createElement("div",{className:"gobang-wrapper"},d.createElement("table",null,d.createElement("tbody",null,t.map(this.renderRow))),d.createElement("div",{className:"button-wrapper"},d.createElement(s.a,{type:"primary",disabled:0===r.length,onClick:this.reset},"Reset"),d.createElement(s.a,{type:"primary",onClick:this.toggleShowNumber},n?"Hide steps":"Show steps"),d.createElement(s.a,{type:"primary",disabled:0===r.length,onClick:this.retract},"Retract")))},t}(d.Component);t.default=o.a.connect({component:m,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);
//# sourceMappingURL=22.01c80f22b32e0766a328.bundle.js.map