(window.webpackJsonp=window.webpackJsonp||[]).push([[7,34,46,67],{156:function(e,t,n){"use strict";n.r(t),t.default={keyCode:{left:37,up:38,right:39,down:40,space:32},block:{L:[[[0,0,1],[1,1,1]],[[1,1],[0,1],[0,1]],[[1,1,1],[1,0,0]],[[1,0],[1,0],[1,1]]],J:[[[1,0,0],[1,1,1]],[[1,1],[1,0],[1,0]],[[1,1,1],[0,0,1]],[[0,1],[0,1],[1,1]]],O:[[[1,1],[1,1]],[[1,1],[1,1]],[[1,1],[1,1]],[[1,1],[1,1]]],T:[[[0,1,0],[1,1,1]],[[0,1],[1,1],[0,1]],[[1,1,1],[0,1,0]],[[1,0],[1,1],[1,0]]],Z:[[[1,1,0],[0,1,1]],[[0,1],[1,1],[1,0]],[[1,1,0],[0,1,1]],[[0,1],[1,1],[1,0]]],S:[[[0,1,1],[1,1,0]],[[1,0],[1,1],[0,1]],[[0,1,1],[1,1,0]],[[1,0],[1,1],[0,1]]],I:[[[1,1,1,1]],[[1],[1],[1],[1]],[[1,1,1,1]],[[1],[1],[1],[1]]]},scores:[1,3,5,10]}},173:function(e,t,n){"use strict";n.r(t);var r,o=n(9),a=n(156),i=a.default.block,c=a.default.keyCode,l=function(e){e.width;var t=e.block,n=e.rx,r=e.y,o=e.playboard,a=e.length,i=[],c=!0;return t.forEach(function(e,t){e.every(function(e,n){return e&&i.push({x:n,y:t}),!0})}),i.every(function(e){var t=e.x,i=e.y,l=t+n,s=r+i-a;return s>=0&&s<20&&o[s][l]&&(c=!1),c}),c},s=((r={})[c.up]=function(e){e.width;var t=e.block,n=e.rx,r=e.y,o=e.playboard,a=e.length,i=!0;return t.every(function(e,t){return e.every(function(e,c){var l=c+n,s=r+t-a;return s>=0&&s<20&&o[s][l]&&(i=!1),i}),i}),i},r[c.down]=function(e){var t=e.width,n=e.block,r=e.rx,o=e.y,a=e.playboard,i=e.length;if(21===o)return!1;for(var c=!0,l=[],s=0;s<t;s++)for(var u=n.length-1,f=!0;u>=0&&f;)n[u][s]&&(l.push({x:s,y:u}),f=!1),u--;return l.every(function(e){var t=e.x,n=e.y,l=t+r,s=o+n-i;return s>=0&&s<20&&a[s][l]&&(c=!1),c}),c},r[c.left]=l,r[c.right]=l,r);t.default={getCurrPosition:function(e){var t=e.x,n=e.y,r=e.cBlock,a=e.screen,c=e.rotate,l=e.moveTo,u=o.a.clone(a),f=i[r][c],d=f[0].length,p=10-d,v=Math.floor((10-d)/2),y=f.length,m=n,h=v+t;h<0&&(h=0,t=-v),h>p&&(h=p,t=d%2==1?v+1:v);var b=s[l]({width:d,block:f,rx:h,y:n,playboard:u,length:y});if(b)for(;m>0&&y>0;){var g=--m,w=f[y-1];g=g>20?20:g;for(var k=0;k<10;k++){if(k<w.length)u[g][h+k]||(u[g][h+k]=w[k])}y--}return{playboard:u,x:t,screen:a,couldMove:b}}}},311:function(e,t,n){},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(323)),o=a(n(326));function a(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default;var i=r.default;t.default=i},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(1)),o=p(n(0)),a=d(n(8)),i=n(25),c=d(n(107)),l=d(n(24)),s=n(20),u=d(n(324)),f=n(154);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},O=/^[\u4e00-\u9fa5]{2}$/,E=O.test.bind(O);function T(e,t){var n=!1,o=[];return r.Children.forEach(e,function(e){var t=w(e),r="string"===t||"number"===t;if(n&&r){var a=o.length-1,i=o[a];o[a]="".concat(i).concat(e)}else o.push(e);n=r}),r.Children.map(o,function(e){return function(e,t){if(null==e)return;var n=t?" ":"";if("string"!=typeof e&&"number"!=typeof e&&(o=e.type,"string"==typeof o)&&E(e.props.children))return r.cloneElement(e,{},e.props.children.split("").join(n));var o;if("string"==typeof e)return E(e)&&(e=e.split("").join(n)),r.createElement("span",null,e);return e}(e,t)})}(0,f.tuple)("default","primary","ghost","dashed","danger","link");var S=(0,f.tuple)("circle","circle-outline","round"),P=(0,f.tuple)("large","default","small"),C=(0,f.tuple)("submit","button","reset"),N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,b(t).call(this,e))).saveButtonRef=function(e){n.buttonNode=e},n.handleClick=function(e){var t=n.state.loading,r=n.props.onClick;t||r&&r(e)},n.renderButton=function(e){var t,o=e.getPrefixCls,i=e.autoInsertSpaceInButton,s=n.props,f=s.prefixCls,d=s.type,p=s.shape,m=s.size,h=s.className,b=s.children,g=s.icon,w=s.ghost,O=(s.loading,s.block),E=k(s,["prefixCls","type","shape","size","className","children","icon","ghost","loading","block"]),S=n.state,P=S.loading,C=S.hasTwoCNChar,N=o("btn",f),x=!1!==i,j="";switch(m){case"large":j="lg";break;case"small":j="sm"}var _=(0,a.default)(N,h,(y(t={},"".concat(N,"-").concat(d),d),y(t,"".concat(N,"-").concat(p),p),y(t,"".concat(N,"-").concat(j),j),y(t,"".concat(N,"-icon-only"),!b&&0!==b&&g),y(t,"".concat(N,"-loading"),P),y(t,"".concat(N,"-background-ghost"),w),y(t,"".concat(N,"-two-chinese-chars"),C&&x),y(t,"".concat(N,"-block"),O),t)),M=P?"loading":g,I=M?r.createElement(l.default,{type:M}):null,B=b||0===b?T(b,n.isNeedInserted()&&x):null,A=(0,c.default)(E,["htmlType"]);if(void 0!==A.href)return r.createElement("a",v({},A,{className:_,onClick:n.handleClick,ref:n.saveButtonRef}),I,B);var L=E,D=L.htmlType,z=k(L,["htmlType"]),W=r.createElement("button",v({},z,{type:D,className:_,onClick:n.handleClick,ref:n.saveButtonRef}),I,B);return"link"===d?W:r.createElement(u.default,null,W)},n.state={loading:e.loading,hasTwoCNChar:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.Component),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.loading instanceof Boolean?v({},t,{loading:e.loading}):null}}],(o=[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentDidUpdate",value:function(e){var t=this;this.fixTwoCNChar(),e.loading&&"boolean"!=typeof e.loading&&clearTimeout(this.delayTimeout);var n=this.props.loading;if(n&&"boolean"!=typeof n&&n.delay)this.delayTimeout=window.setTimeout(function(){return t.setState({loading:n})},n.delay);else{if(e.loading===this.props.loading)return;this.setState({loading:n})}}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){if(this.buttonNode){var e=this.buttonNode.textContent||this.buttonNode.innerText;this.isNeedInserted()&&E(e)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}}},{key:"isNeedInserted",value:function(){var e=this.props,t=e.icon,n=e.children;return 1===r.Children.count(n)&&!t}},{key:"render",value:function(){return r.createElement(s.ConfigConsumer,null,this.renderButton)}}])&&m(n.prototype,o),i&&m(n,i),t}();N.__ANT_BUTTON=!0,N.defaultProps={loading:!1,ghost:!1,block:!1,htmlType:"button"},N.propTypes={type:o.string,shape:o.oneOf(S),size:o.oneOf(P),htmlType:o.oneOf(C),onClick:o.func,loading:o.oneOfType([o.bool,o.object]),className:o.string,icon:o.string,block:o.bool},(0,i.polyfill)(N);var x=N;t.default=x},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=n(6),i=s(n(325)),c=s(n(155)),l=n(20);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return!e||null===e.offsetParent}var m=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=d(t).apply(this,arguments),(e=!o||"object"!==u(o)&&"function"!=typeof o?p(n):o).animationStart=!1,e.destroy=!1,e.onClick=function(t,n){if(!(!t||y(t)||t.className.indexOf("-leave")>=0)){var o=e.props.insertExtraNode;e.extraNode=document.createElement("div");var a=e.extraNode;a.className="ant-click-animating-node";var c=e.getAttributeName();t.setAttribute(c,"true"),r=r||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&e.isNotGrey(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n&&(e.csp&&e.csp.nonce&&(r.nonce=e.csp.nonce),a.style.borderColor=n,r.innerHTML="html body { --antd-wave-shadow-color: ".concat(n,"; }"),document.body.contains(r)||document.body.appendChild(r)),o&&t.appendChild(a),i.default.addStartEventListener(t,e.onTransitionStart),i.default.addEndEventListener(t,e.onTransitionEnd)}},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!y(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout(function(){return e.onClick(t,r)},0),c.default.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=(0,c.default)(function(){e.animationStart=!1},10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.onTransitionStart=function(t){if(!e.destroy){var n=(0,a.findDOMNode)(p(e));t&&t.target===n&&(e.animationStart||e.resetEffect(n))}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.renderWave=function(t){var n=t.csp,r=e.props.children;return e.csp=n,r},e}var n,s,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.Component),n=t,(s=[{key:"isNotGrey",value:function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(e){if(e&&e!==this.extraNode&&e instanceof Element){var t=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),this.removeExtraStyleNode(),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),i.default.removeStartEventListener(e,this.onTransitionStart),i.default.removeEndEventListener(e,this.onTransitionEnd)}}},{key:"removeExtraStyleNode",value:function(){r&&(r.innerHTML="")}},{key:"componentDidMount",value:function(){var e=(0,a.findDOMNode)(this);e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroy=!0}},{key:"render",value:function(){return o.createElement(l.ConfigConsumer,null,this.renderWave)}}])&&f(n.prototype,s),m&&f(n,m),t}();t.default=m},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[],i=[];function c(e,t,n){e.addEventListener(t,n,!1)}function l(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var a in o)if(a in e){n.push(o[a]);break}}}"AnimationEvent"in window||(delete r.animationstart.animation,delete o.animationend.animation),"TransitionEvent"in window||(delete r.transitionstart.transition,delete o.transitionend.transition),t(r,a),t(o,i)}();var s={startEvents:a,addStartEventListener:function(e,t){0!==a.length?a.forEach(function(n){c(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==a.length&&a.forEach(function(n){l(e,n,t)})},endEvents:i,addEndEventListener:function(e,t){0!==i.length?i.forEach(function(n){c(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==i.length&&i.forEach(function(n){l(e,n,t)})}};t.default=s,e.exports=t.default},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=(r=n(8))&&r.__esModule?r:{default:r},i=n(20);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},s=function(e){return o.createElement(i.ConfigConsumer,null,function(t){var n=t.getPrefixCls,r=e.prefixCls,i=e.size,s=e.className,u=l(e,["prefixCls","size","className"]),f=n("btn-group",r),d="";switch(i){case"large":d="lg";break;case"small":d="sm"}var p=(0,a.default)(f,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"".concat(f,"-").concat(d),d),s);return o.createElement("div",c({},u,{className:p}))})};t.default=s},82:function(e,t,n){"use strict";n.r(t);var r,o=n(9),a=n(315),i=n.n(a),c=(n(153),n(1)),l=n(156),s=(n(311),n(173)),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=l.default.block,d=l.default.keyCode,p=l.default.scores,v=Object.keys(f),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transform=o.a.transform,t.clearBtnInterval=function(){t.btnInterval&&clearInterval(t.btnInterval)},t.clearInterval=function(){t.interval&&clearInterval(t.interval)},t.resetGame=function(){t.clearInterval();var e=t.calculateScreen({row:20,column:10});t.setState({row:20,column:10,screen:e,playboard:e,style:t.getSize(t.props),cBlock:v[o.a.random(0,v.length)],x:0,y:0,intervalTime:800,score:0,rotate:o.a.random(0,4),pause:!1,gameover:!1,touchDown:!1,pressed:!1},function(){return t.doMovePlayboard(!0)})},t.visibilitychange=function(){(!t.state.pause&&"hidden"===document.visibilityState||t.state.pause&&"hidden"!==document.visibilityState)&&t.togglePause()},t.isGameOver=function(){var e=t.state,n=e.x,r=e.y,o=e.cBlock,a=e.screen,i=e.rotate;return!(s.default.getCurrPosition({x:n,y:r+1,cBlock:o,screen:a,rotate:i,moveTo:d.down}).couldMove||f[o][i].length<r-1)},t.clearRow=function(e){var t=o.a.clone(e).map(function(e){return e.map(function(e){return e?2:0})}),n=[];return e.forEach(function(e,r){e.every(function(e){return e})&&(t.splice(r,1),t.unshift(new Array(10).fill(0)),n.push(r))}),{screen:t,clearedList:n}},t.keyup=function(){t.clearBtnInterval(),t.setState({pressed:!1})},t.keydown=function(e){if(!t.state.pressed){var n=e.keyCode;n===d.space?t.doMove(n):t.touchStart(n)}},t.doMove=function(e){var n=t.state,r=n.x,o=n.y,a=n.screen,i=n.cBlock,c=n.row,l=n.rotate,u=n.pause,f=n.gameover;if(!u&&!f){var p=[[]],v=r;switch(e){case d.left:v=r-1;var y=s.default.getCurrPosition({x:v,y:o||20,cBlock:i,screen:a,rotate:l,moveTo:d.left}),m=y.playboard,h=y.x;return void(y.couldMove&&(v=h,p=m,t.setState({playboard:p,x:v,pressed:!0})));case d.right:v=r+1;var b=s.default.getCurrPosition({x:v,y:o||20,cBlock:i,screen:a,rotate:l,moveTo:d.right}),g=b.playboard,w=b.x;return void(b.couldMove&&(v=w,p=g,t.setState({playboard:p,x:v,pressed:!0})));case d.down:if(o>c)return;var k=s.default.getCurrPosition({x:v,y:o+1,cBlock:i,screen:a,rotate:l,moveTo:d.down}),O=k.couldMove,E=k.playboard;return void(O?(t.newInterval(),t.setState({playboard:E,y:o+1,pressed:!0})):t.reset());case d.up:var T=l;T=T>=3?0:T+1;var S=s.default.getCurrPosition({x:r,y:o||20,cBlock:i,screen:a,rotate:T,moveTo:d.up}),P=S.playboard;return void(S.couldMove&&(p=P,t.setState({playboard:p,rotate:T,pressed:!0})));case d.space:t.goToBottom()}}},t.newInterval=function(e){t.clearInterval(),t.isGameOver()?t.setState({gameover:!0}):t.doMovePlayboard(e)},t.doMovePlayboard=function(e){e&&t.movePlayboard(t.state),t.doTimeout()},t.doTimeout=function(){t.interval=setInterval(function(){t.movePlayboard(t.state)},t.state.intervalTime)},t.movePlayboard=function(e){var n=e.x,r=e.y,o=t.state,a=o.screen,i=o.cBlock,c=o.rotate,l=s.default.getCurrPosition({x:n,y:r+1,cBlock:i,screen:a,rotate:c,moveTo:d.down}),u=l.playboard;l.couldMove?t.setState({playboard:u,y:r+1}):t.reset()},t.goToBottom=function(){var e=t.state,n=e.x,r=e.cBlock,o=e.rotate,a=e.screen,i=e.gameover,c=e.pause;if(!i&&!c){for(var l=t.state,u=l.y,f=l.playboard,p=!0;p;){var v=s.default.getCurrPosition({x:n,y:u+1,cBlock:r,screen:a,rotate:o,moveTo:d.down}),y=v.couldMove,m=v.playboard;p=y,y?(u++,f=m):t.setState({playboard:f,y:u,touchDown:!0,pressed:!0},t.isRowNeedClear)}setTimeout(function(){return t.setState({touchDown:!1})},100)}},t.isRowNeedClear=function(e){t.clearInterval();var n=t.state,r=n.playboard,o=n.score,a=t.clearRow(r),i=a.screen,c=a.clearedList,l=c.length;if(l){var s=e?{screen:i,score:o+p[l-1]}:{screen:i,score:o};c.forEach(function(e){return r[e]=new Array(10).fill(3)}),t.setState({screen:r}),t.vibrate(100),setTimeout(function(){t.setState(s,function(){return t.newInterval(!0)})},300)}else t.setState({screen:i},function(){return t.newInterval(!0)})},t.reset=function(){t.vibrate(100),t.setState({cBlock:v[o.a.random(0,v.length)],y:0,x:0,rotate:o.a.random(0,4)},function(){return t.isRowNeedClear(!0)})},t.calculateScreen=function(e){for(var t=e.row,n=e.column,r=[],o=0;o<t;o++){for(var a=[],i=0;i<n;i++)a.push(0);r.push(a)}return r},t.renderPlayboard=function(){return t.state.playboard?t.state.playboard.map(function(e,t){return c.createElement("div",{className:"row",key:t},e.map(function(e,t){var n="";switch(e){case 1:n="block";break;case 2:n="full";break;case 3:n="cleared"}return c.createElement("div",{key:t,className:"item "+n})}))}):null},t.togglePause=function(){var e=t.state.pause;!e&&t.interval?(t.clearInterval(),t.clearBtnInterval()):t.newInterval(),t.setState({pause:!e})},t.touchStart=function(e){t.clearBtnInterval();var n=e===d.down?50:100;t.doMove(e),e!==d.up&&(t.btnInterval=setInterval(function(){return t.doMove(e)},n))},t.getSize=function(e){var n;if(!t.props.isMobile)return{};var r=e.h,o=r/960;return(n={paddingTop:.6*(r-480-100)})[t.transform]="scale("+(o+.3)+")",n},t.vibrate=function(e){return null},t.getDirectionBtn=function(e){return c.createElement("div",{onTouchStart:o.a.handle("up"===e?t.doMove:t.touchStart,d[e]),className:"anticon anticon-ts-app icon-"+e+"-circle"})},t}return u(t,e),t.prototype.componentWillMount=function(){document.addEventListener("keyup",this.keyup),document.addEventListener("keydown",this.keydown),document.addEventListener("touchend",this.clearBtnInterval),document.addEventListener("visibilitychange",this.visibilitychange),this.resetGame()},t.prototype.componentWillUnmount=function(){this.clearInterval(),this.clearBtnInterval(),document.removeEventListener("keyup",this.keyup),document.removeEventListener("keydown",this.keydown),document.removeEventListener("touchend",this.clearBtnInterval),document.removeEventListener("visibilitychange",this.visibilitychange)},t.prototype.componentWillReceiveProps=function(e){this.setState({style:this.getSize(e)})},t.prototype.render=function(){var e,t=this.props.isMobile,n=this.state,r=n.pause,o=n.gameover,a=n.touchDown,l=n.score,s=n.style,u=((e={})[this.transform]=s[this.transform],e);return c.createElement("div",{className:"tetris-wrapper "+(t?"mobile":"")},c.createElement("div",{className:"tetris-screen-wrapper",style:s},c.createElement("div",{className:"score"},l),c.createElement("div",{className:"tetris-screen "+(a?"touch-buttom":"")},this.renderPlayboard(),o?c.createElement("div",{className:"game-over"},c.createElement(i.a,{type:"primary",onClick:this.resetGame},"Reset")):null)),c.createElement("div",{className:"btn-wrapper"},c.createElement("div",{className:"functional-btn",style:u},c.createElement("div",{onTouchStart:this.togglePause,className:"anticon anticon-ts-app icon-"+(r?"play":"pause")}),c.createElement("div",{onTouchStart:this.goToBottom,className:"anticon anticon-ts-app icon-down"})),c.createElement("div",{className:"direction",style:u},this.getDirectionBtn("up"),c.createElement("div",{className:"middle"},this.getDirectionBtn("left"),this.getDirectionBtn("right")),this.getDirectionBtn("down"))))},t}(c.Component);t.default=o.a.connect({component:y,mapStateToProps:function(e){return{isMobile:e.common.isMobile,h:e.common.contentHeight}}})}}]);
//# sourceMappingURL=7.07b89eb3a53486a7c9a4.bundle.js.map