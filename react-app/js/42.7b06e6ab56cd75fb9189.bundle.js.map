{"version":3,"sources":["webpack:///./src/pages/Reversi/tools.tsx"],"names":["directionMap","statusMap","check","x","y","checkerboard","player","direction","dx","dy","result","click","couldClick","some","clickToCover","reverse","forEach","cx","cy","push","c","r"],"mappings":"2FAAA,WAAMA,EAAe,CACnB,CAAC,EAAG,GAAI,CAAC,GAAI,GACb,EAAE,EAAG,GAAI,CAAC,EAAG,GACb,EAAE,GAAI,GAAI,EAAE,EAAG,GACf,CAAC,GAAI,GAAI,CAAC,EAAG,IAGTC,EACG,EADHA,EAEG,EAFHA,EAGG,EAUHC,EAAQ,SAAC,G,IAAEC,EAAA,EAAAA,EAAGC,EAAA,EAAAA,EAAGC,EAAA,EAAAA,aAAcC,EAAA,EAAAA,OAAQC,EAAA,EAAAA,UACnCC,EAAA,KAAIC,EAAA,KACRC,EAAS,EACTC,EAAQL,EAASL,EAAkBA,EAGvC,IAFAE,GAAKK,EACLJ,GAAKK,EACEN,GAAK,GAAKA,GAbD,GAamBC,GAAK,GAAKA,GAb7B,GAcVC,EAAaF,GAAGC,KAAOH,GAA8B,IAAXS,GADa,CAE3D,GAAIL,EAAaF,GAAGC,KAAOO,EACzBD,IACAC,EAASL,EAA2BL,EAAlBA,OAElB,GAAe,IAAXS,EAAgB,MAEtBP,GAAKK,EACLJ,GAAKK,EAEP,OAAkB,IAAXC,GAGM,WACbE,WAAY,SAAC,G,IAAET,EAAA,EAAAA,EAAGC,EAAA,EAAAA,EAAGC,EAAA,EAAAA,aAAcC,EAAA,EAAAA,OACjC,OAAAN,EAAaa,KAAK,SAAAN,GAAa,OAAAL,EAAM,CAAEC,EAAC,EAAEC,EAAC,EAAEC,aAAY,EAAEC,OAAM,EAAEC,UAAS,OAE9EO,aAAc,SAAC,G,IAAEX,EAAA,EAAAA,EAAGC,EAAA,EAAAA,EAAGC,EAAA,EAAAA,aAAcC,EAAA,EAAAA,OAC7BS,EAAsB,GAoB5B,OAnBAf,EAAagB,QAAQ,SAAAT,GACZ,IAAAC,EAAA,KAAIC,EAAA,KACPQ,EAAKd,EACLe,EAAKd,EAGT,GAFAa,GAAMT,EACNU,GAAMT,EACFP,EAAM,CAAEC,EAAC,EAAEC,EAAC,EAAEC,aAAY,EAAEC,OAAM,EAAEC,UAAS,IAC/C,KAAOU,GAAM,GAAKA,GAxCR,GAwC2BC,GAAM,GAAKA,GAxCtC,GAyCJb,EAAaY,GAAIC,KAAQjB,GACxBI,EAAaY,GAAIC,MAASZ,EAASL,EAAkBA,IAG1DI,EAAaY,GAAIC,GAAMZ,EAASL,EAAkBA,EAClDc,EAAQI,KAAK,CAAEhB,EAAGc,EAAIb,EAAGc,IACzBD,GAAMT,EACNU,GAAMT,IAIL,CAAEW,EAAGf,EAAcgB,EAAGN","file":"js/42.7b06e6ab56cd75fb9189.bundle.js","sourcesContent":["const directionMap = [\n  [0, 1], [0, -1],\n  [-1, 0], [1, 0],\n  [-1, -1], [-1, 1],\n  [1, -1], [1, 1]\n]\n\nconst statusMap = {\n  empty: 0,\n  black: 1,\n  white: 2\n}\n\nconst borderMax = 7\n\ninterface IReverse {\n  x: number,\n  y: number\n}\n\nconst check = ({ x, y, checkerboard, player, direction }) => {\n  const [ dx, dy ] = direction\n  let result = 0\n  let click = player ? statusMap.black : statusMap.white\n  x += dx\n  y += dy\n  while (x >= 0 && x <= borderMax && y >= 0 && y <= borderMax) {\n    if (checkerboard[x][y] === statusMap.empty || result === 2) { break }\n    if (checkerboard[x][y] === click) {\n      result++\n      click = !player ? statusMap.black : statusMap.white\n    } else {\n      if (result !== 1) { break }\n    }\n    x += dx\n    y += dy\n  }\n  return result === 2\n}\n\nexport default {\n  couldClick: ({ x, y, checkerboard, player }) =>\n    directionMap.some(direction => check({ x, y, checkerboard, player, direction })),\n\n  clickToCover: ({ x, y, checkerboard, player }) => {\n    const reverse: IReverse[] = []\n    directionMap.forEach(direction => {\n      const [dx, dy] = direction\n      let cx = x\n      let cy = y\n      cx += dx\n      cy += dy\n      if (check({ x, y, checkerboard, player, direction })) {\n        while (cx >= 0 && cx <= borderMax && cy >= 0 && cy <= borderMax) {\n          if (checkerboard[cx][cy] === statusMap.empty\n            || checkerboard[cx][cy] === (player ? statusMap.white : statusMap.black)) {\n            break\n          }\n          checkerboard[cx][cy] = player ? statusMap.white : statusMap.black\n          reverse.push({ x: cx, y: cy })\n          cx += dx\n          cy += dy\n        }\n      }\n    })\n    return { c: checkerboard, r: reverse }\n  }\n}\n"],"sourceRoot":""}