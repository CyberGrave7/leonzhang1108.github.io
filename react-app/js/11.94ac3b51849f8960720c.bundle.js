(window.webpackJsonp=window.webpackJsonp||[]).push([[11,34,47],{306:function(n,e,t){"use strict";t.r(e);var a=function(n,e,t){var a={v:0,index:-1};return t.some(function(t,r){var i=t.x===n&&t.y===e;return i&&(a={v:t.v,index:r}),i}),a};e.default={moveRight:function(n){for(var e=!1,t=function(t){for(var r=3,i=function(a){var i=-1;!n.some(function(n,e){var o=n.x===a+1&&n.y===t;return n.x===a&&n.y===t&&(i=e),o&&r--,o})&&i>=0&&(n[i].x=r,e=!0,r--)},o=2;o>=0;o--)i(o);for(o=2;o>=0;o--){var d=a(o,t,n),c=d.v,s=d.index,u=a(o+1,t,n),m=u.v,v=u.index;if(c&&m&&c===m){n[s].x=o+1,n[s].merged=!0,n[v].merged=!0;for(var f=o-1;f>=0;f--){var h=a(f,t,n).index;h>=0&&(n[h].x=n[h].x<3?n[h].x+1:n[h].x)}n.push({x:o+1,y:t,v:2*c,id:Math.random()}),e=!0}}},r=0;r<4;r++)t(r);return{p:n,changed:e}},moveLeft:function(n){for(var e=!1,t=function(t){for(var r=0,i=function(a){var i=-1;!n.some(function(n,e){var o=n.x===a-1&&n.y===t;return n.x===a&&n.y===t&&(i=e),o&&r++,o})&&i>=0&&(n[i].x=r,e=!0,r++)},o=1;o<4;o++)i(o);for(o=1;o<4;o++){var d=a(o,t,n),c=d.v,s=d.index,u=a(o-1,t,n),m=u.v,v=u.index;if(c&&m&&c===m){n[s].x=o-1,n[s].merged=!0,n[v].merged=!0;for(var f=o;f<=3;f++){var h=a(f,t,n).index;h>=0&&(n[h].x=n[h].x>0?n[h].x-1:n[h].x)}n.push({x:o-1,y:t,v:2*c,id:Math.random()}),e=!0}}},r=0;r<4;r++)t(r);return{p:n,changed:e}},moveDown:function(n){for(var e=!1,t=function(t){for(var r=3,i=function(a){var i=-1;!n.some(function(n,e){var o=n.x===t&&n.y===a+1;return n.x===t&&n.y===a&&(i=e),o&&r--,o})&&i>=0&&(n[i].y=r,e=!0,r--)},o=2;o>=0;o--)i(o);for(o=2;o>=0;o--){var d=a(t,o,n),c=d.v,s=d.index,u=a(t,o+1,n),m=u.v,v=u.index;if(c&&m&&c===m){n[s].y=o+1,n[s].merged=!0,n[v].merged=!0;for(var f=o-1;f>=0;f--){var h=a(t,f,n).index;h>=0&&(n[h].y=n[h].y<3?n[h].y+1:n[h].y)}n.push({x:t,y:o+1,v:2*c,id:Math.random()}),e=!0}}},r=0;r<4;r++)t(r);return{p:n,changed:e}},moveUp:function(n){for(var e=!1,t=function(t){for(var r=0,i=function(a){var i=-1;!n.some(function(n,e){var o=n.x===t&&n.y===a-1;return n.x===t&&n.y===a&&(i=e),o&&r++,o})&&i>=0&&(n[i].y=r,e=!0,r++)},o=1;o<4;o++)i(o);for(o=1;o<4;o++){var d=a(t,o,n),c=d.v,s=d.index,u=a(t,o-1,n),m=u.v,v=u.index;if(c&&m&&c===m){n[s].y=o-1,n[s].merged=!0,n[v].merged=!0;for(var f=o;f<=3;f++){var h=a(t,f,n).index;h>=0&&(n[h].y=n[h].y>0?n[h].y-1:n[h].y)}n.push({x:t,y:o-1,v:2*c,id:Math.random()}),e=!0}}},r=0;r<4;r++)t(r);return{p:n,changed:e}}}},469:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},r={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[],o=[];function d(n,e,t){n.addEventListener(e,t,!1)}function c(n,e,t){n.removeEventListener(e,t,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var n=document.createElement("div").style;function e(e,t){for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];for(var i in r)if(i in n){t.push(r[i]);break}}}"AnimationEvent"in window||(delete a.animationstart.animation,delete r.animationend.animation),"TransitionEvent"in window||(delete a.transitionstart.transition,delete r.transitionend.transition),e(a,i),e(r,o)}();var s={startEvents:i,addStartEventListener:function(n,e){0!==i.length?i.forEach(function(t){d(n,t,e)}):window.setTimeout(e,0)},removeStartEventListener:function(n,e){0!==i.length&&i.forEach(function(t){c(n,t,e)})},endEvents:o,addEndEventListener:function(n,e){0!==o.length?o.forEach(function(t){d(n,t,e)}):window.setTimeout(e,0)},removeEndEventListener:function(n,e){0!==o.length&&o.forEach(function(t){c(n,t,e)})}};e.default=s,n.exports=e.default},473:function(n,e,t){},540:function(n,e,t){"use strict";e.a={keyCode:{left:37,up:38,right:39,down:40}}},73:function(n,e,t){"use strict";t.r(e);var a,r=t(11),i=t(55),o=t.n(i),d=(t(54),t(12)),c=t.n(d),s=(t(328),t(501)),u=t.n(s),m=(t(500),t(1)),v=t.n(m),f=(t(473),t(306)),h=t(540),l=(a=function(n,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)},function(n,e){function t(){this.constructor=n}a(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),p=new r.a.Storage("2048"),y=h.a.keyCode,g=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.reset=function(n){r.a.isArray(n)||(n=[],e.addRandom(n,!0),e.addRandom(n,!0),p.set("pieces",null)),e.setState({size:4,pieces:n,cached:{x:0,y:0}})},e.removeMerged=function(n){var t=e.state.pieces.filter(function(n){return!n.merged});e.setState({pieces:t},n)},e.touchstart=function(n){var t=n.changedTouches[0],a=t.pageX,r=t.pageY;e.setState({cached:{x:a,y:r}})},e.touchmove=function(n){return n.preventDefault()},e.touchend=function(n){var t=e.state.cached,a=t.x,r=t.y,i=n.changedTouches[0],o=i.pageX,d=i.pageY,c=0;if(Math.abs(a-o)>Math.abs(r-d)&&Math.abs(a-o)>20)c=a-o>0?y.left:y.right;else{if(!(Math.abs(a-o)<Math.abs(r-d)&&Math.abs(r-d)>20))return;c=r-d>0?y.up:y.down}e.doMove(c)},e.keydown=function(n){return e.doMove(n.keyCode)},e.doMove=function(n){e.removeMerged(function(){var t=e.state.pieces,a=t;switch(n){case y.up:var r=f.default.moveUp(t),i=r.p;r.changed&&(a=e.addRandom(i));break;case y.down:var o=f.default.moveDown(t),d=o.p;o.changed&&(a=e.addRandom(d));break;case y.left:var c=f.default.moveLeft(t),s=c.p;c.changed&&(a=e.addRandom(s));break;case y.right:var u=f.default.moveRight(t),m=u.p;u.changed&&(a=e.addRandom(m))}e.setState({pieces:a})})},e.addRandom=function(n,t){t||setTimeout(function(){return e.setStorage(n)},0);var a=e.doAddRandom(n);return a&&n.push(a),n},e.setStorage=function(n){p.set("pieces",r.a.clone(n).filter(function(n,e){return n.id=e,!n.merged}))},e.doAddRandom=function(n){if(16===n.length)return null;var t=r.a.random(0,4),a=r.a.random(0,4);return n.some(function(n){return n.x===t&&n.y===a})?e.doAddRandom(n):{x:t,y:a,v:e.get4or2(),id:Math.random()}},e.get4or2=function(){return Math.random()>.9?4:2},e.renderGrid=function(){return new Array(e.state.size).fill(null).map(function(n,t){return v.a.createElement("div",{className:"row",key:t},new Array(e.state.size).fill(null).map(function(n,e){return v.a.createElement("div",{className:"item",key:e})}))})},e.isGameOver=function(n){var t=e.state.size;if(n.filter(function(n){return!n.merged}).length!==t*t)return!1;var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return n.forEach(function(n){var e=n.x,t=n.y,r=n.v;return a[e][t]=r}),e.canMove(a)},e.canMove=function(n){for(var e=0;e<n.length;e++)for(var t=0;t<n[e].length;t++){if(0===n[e][t])return!1;if(t<n[e].length-1&&n[e][t]===n[e][t+1])return!1;if(e<n.length-1&&n[e][t]===n[e+1][t])return!1}return!0},e}return l(e,n),e.prototype.componentWillMount=function(){this.reset(p.get("pieces")),document.addEventListener("keydown",this.keydown)},e.prototype.componentDidMount=function(){document.addEventListener("touchstart",this.touchstart),document.addEventListener("touchmove",this.touchmove),document.addEventListener("touchend",this.touchend)},e.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("touchstart",this.touchstart),document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend)},e.prototype.render=function(){var n=this.state.pieces;return v.a.createElement("div",{className:"game2048-wrapper"},v.a.createElement("div",{className:"game2048-container"},v.a.createElement("div",{className:"grid"},this.renderGrid()),v.a.createElement("div",{className:"piece-contanier"},(n||[]).map(function(n){return v.a.createElement("div",{className:"piece piece-"+n.v+" piece-position-"+n.x+"-"+n.y+" "+(n.merged?"merged":""),key:n.id},v.a.createElement("div",{className:"item"},2048===n.v?v.a.createElement(c.a,{type:"ts-app icon-batman"}):n.v))})),v.a.createElement("div",{className:this.isGameOver(n)?"mask":"mask hidden"},"Game Over")),v.a.createElement("div",{className:"btn-container"},v.a.createElement(u.a,{title:"Sure about that?",onConfirm:r.a.handle(this.reset),okText:"Yes",cancelText:"No"},v.a.createElement(o.a,{type:"primary",className:"reset-btn"},"Reset"))))},e}(v.a.Component);e.default=g}}]);
//# sourceMappingURL=11.94ac3b51849f8960720c.bundle.js.map