(window.webpackJsonp=window.webpackJsonp||[]).push([[15,53],{468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},r=[],a=[];function s(e,t,n){e.addEventListener(t,n,!1)}function c(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];for(var r in i)if(r in e){n.push(i[r]);break}}}"AnimationEvent"in window||(delete o.animationstart.animation,delete i.animationend.animation),"TransitionEvent"in window||(delete o.transitionstart.transition,delete i.transitionend.transition),t(o,r),t(i,a)}();var l={startEvents:r,addStartEventListener:function(e,t){0!==r.length?r.forEach(function(n){s(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==r.length&&r.forEach(function(n){c(e,n,t)})},endEvents:a,addEndEventListener:function(e,t){0!==a.length?a.forEach(function(n){s(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){c(e,n,t)})}};t.default=l,e.exports=t.default},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var a=i.default.unstable_batchedUpdates?function(e){i.default.unstable_batchedUpdates(n,e)}:n;return(0,o.default)(e,t,a,r)};var o=r(n(121)),i=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}},478:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var o,i=n(3),r=n.n(i),a=n(1),s=n.n(a),c=n(6),l=n.n(c),u=n(5),d=n.n(u),p=n(7),f=n.n(p),m=n(4),v=n.n(m),h=n(22),b=n(49);var y=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth){if(e)return document.body.style.position="",void(document.body.style.width="");var t=function(e){if(e||void 0===o){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top=0,i.left=0,i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;r===a&&(a=n.clientWidth),document.body.removeChild(n),o=r-a}return o}();t&&(document.body.style.position="relative",document.body.style.width="calc(100% - ".concat(t,"px)"))}},w=n(42),g=function(e){function t(){return l()(this,t),d()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.shouldComponentUpdate=function(e){return!!e.hiddenClassName||!!e.visible},t.prototype.render=function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=r()({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,a.createElement("div",r()({},t))},t}(a.Component),C=0;function E(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],o="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[o])&&(n=i.body[o])}return n}function k(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach(function(e){n[e+"TransformOrigin"]=t}),n.transformOrigin=t}var x=function(e){function t(n){l()(this,t);var o=d()(this,e.call(this,n));return o.inTransition=!1,o.onAnimateLeave=function(){var e=o.props.afterClose;o.wrap&&(o.wrap.style.display="none"),o.inTransition=!1,o.removeScrollingEffect(),e&&e()},o.onDialogMouseDown=function(){o.dialogMouseDown=!0},o.onMaskMouseUp=function(){o.dialogMouseDown&&(o.timeoutId=setTimeout(function(){o.dialogMouseDown=!1},0))},o.onMaskClick=function(e){Date.now()-o.openTime<300||e.target!==e.currentTarget||o.dialogMouseDown||o.close(e)},o.onKeyDown=function(e){var t=o.props;if(t.keyboard&&e.keyCode===h.a.ESC)return e.stopPropagation(),void o.close(e);if(t.visible&&e.keyCode===h.a.TAB){var n=document.activeElement,i=o.sentinelStart;e.shiftKey?n===i&&o.sentinelEnd.focus():n===o.sentinelEnd&&i.focus()}},o.getDialogElement=function(){var e=o.props,t=e.closable,n=e.prefixCls,i={};void 0!==e.width&&(i.width=e.width),void 0!==e.height&&(i.height=e.height);var s=void 0;e.footer&&(s=a.createElement("div",{className:n+"-footer",ref:o.saveRef("footer")},e.footer));var c=void 0;e.title&&(c=a.createElement("div",{className:n+"-header",ref:o.saveRef("header")},a.createElement("div",{className:n+"-title",id:o.titleId},e.title)));var l=void 0;t&&(l=a.createElement("button",{type:"button",onClick:o.close,"aria-label":"Close",className:n+"-close"},e.closeIcon||a.createElement("span",{className:n+"-close-x"})));var u=r()({},e.style,i),d={width:0,height:0,overflow:"hidden"},p=o.getTransitionName(),f=a.createElement(g,{key:"dialog-element",role:"document",ref:o.saveRef("dialog"),style:u,className:n+" "+(e.className||""),visible:e.visible,onMouseDown:o.onDialogMouseDown},a.createElement("div",{tabIndex:0,ref:o.saveRef("sentinelStart"),style:d,"aria-hidden":"true"}),a.createElement("div",{className:n+"-content"},l,c,a.createElement("div",r()({className:n+"-body",style:e.bodyStyle,ref:o.saveRef("body")},e.bodyProps),e.children),s),a.createElement("div",{tabIndex:0,ref:o.saveRef("sentinelEnd"),style:d,"aria-hidden":"true"}));return a.createElement(w.a,{key:"dialog",showProp:"visible",onLeave:o.onAnimateLeave,transitionName:p,component:"",transitionAppear:!0},e.visible||!e.destroyOnClose?f:null)},o.getZIndexStyle=function(){var e={},t=o.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},o.getWrapStyle=function(){return r()({},o.getZIndexStyle(),o.props.wrapStyle)},o.getMaskStyle=function(){return r()({},o.getZIndexStyle(),o.props.maskStyle)},o.getMaskElement=function(){var e=o.props,t=void 0;if(e.mask){var n=o.getMaskTransitionName();t=a.createElement(g,r()({style:o.getMaskStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),n&&(t=a.createElement(w.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},o.getMaskTransitionName=function(){var e=o.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},o.getTransitionName=function(){var e=o.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t},o.addScrollingEffect=function(){1===(0,o.props.getOpenCount)()&&(y(),document.body.style.overflow="hidden")},o.removeScrollingEffect=function(){0===(0,o.props.getOpenCount)()&&(document.body.style.overflow="",y(!0))},o.close=function(e){var t=o.props.onClose;t&&t(e)},o.saveRef=function(e){return function(t){o[e]=t}},o.titleId="rcDialogTitle"+C++,o}return f()(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate({}),(this.props.forceRender||!1===this.props.getContainer&&!this.props.visible)&&this.wrap&&(this.wrap.style.display="none")},t.prototype.componentDidUpdate=function(e){var t,n,o,i,r,a=this.props,s=this.props.mousePosition;if(a.visible){if(!e.visible){this.openTime=Date.now(),this.addScrollingEffect(),this.tryFocus();var c=m.findDOMNode(this.dialog);if(s){var l=(n=(t=c).getBoundingClientRect(),o={left:n.left,top:n.top},i=t.ownerDocument,r=i.defaultView||i.parentWindow,o.left+=E(r),o.top+=E(r,!0),o);k(c,s.x-l.left+"px "+(s.y-l.top)+"px")}else k(c,"")}}else if(e.visible&&(this.inTransition=!0,a.mask&&this.lastOutSideFocusNode)){try{this.lastOutSideFocusNode.focus()}catch(e){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visible,n=e.getOpenCount;!t&&!this.inTransition||n()||this.removeScrollingEffect(),clearTimeout(this.timeoutId)},t.prototype.tryFocus=function(){Object(b.a)(this.wrap,document.activeElement)||(this.lastOutSideFocusNode=document.activeElement,this.sentinelStart.focus())},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.maskClosable,o=this.getWrapStyle();return e.visible&&(o.display=null),a.createElement("div",null,this.getMaskElement(),a.createElement("div",r()({tabIndex:-1,onKeyDown:this.onKeyDown,className:t+"-wrap "+(e.wrapClassName||""),ref:this.saveRef("wrap"),onClick:n?this.onMaskClick:null,onMouseUp:n?this.onMaskMouseUp:null,role:"dialog","aria-labelledby":e.title?this.titleId:null,style:o},e.wrapProps),this.getDialogElement()))},t}(a.Component),I=x;x.defaultProps={className:"",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog"};var O=n(0),S=n.n(O),N=n(21),M=n(123),T=n(124);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=0,U=!("undefined"!=typeof window&&window.document&&window.document.createElement),F="createPortal"in v.a,H=function(e){function t(e){var n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=A(t).call(this,e),(n=!i||"object"!==W(i)&&"function"!=typeof i?R(o):i).getParent=function(){var e=n.props.getContainer;if(e){if("string"==typeof e)return document.querySelectorAll(e)[0];if("function"==typeof e)return e();if("object"===W(e)&&e instanceof window.HTMLElement)return e}return document.body},n.getContainer=function(){if(U)return null;n.container||(n.container=document.createElement("div"),n.getParent().appendChild(n.container));return n.setWrapperClassName(),n.container},n.setWrapperClassName=function(){var e=n.props.wrapperClassName;n.container&&e&&e!==n.container.className&&(n.container.className=e)},n.savePortal=function(e){n._component=e},n.removeCurrentContainer=function(e){n.container=null,n._component=null,F||(e?n.renderComponent({afterClose:n.removeContainer,onClose:function(){},visible:!1}):n.removeContainer())};var r=e.visible;return L=r?L+1:L,n.state={_self:R(n)},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,s.a.Component),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t._self,i=e.visible,r=e.getContainer;if(n){var a=n.visible,s=n.getContainer;i!==a&&(L=i&&!a?L+1:L-1),r!==s&&o.removeCurrentContainer(!1)}return{prevProps:e}}}],(o=[{key:"componentDidUpdate",value:function(){this.setWrapperClassName()}},{key:"componentWillUnmount",value:function(){var e=this.props.visible;L=e&&L?L-1:L,this.removeCurrentContainer(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.forceRender,i=t.visible,r=null,a={getOpenCount:function(){return L},getContainer:this.getContainer};return F?((o||i||this._component)&&(r=s.a.createElement(T.a,{getContainer:this.getContainer,ref:this.savePortal},n(a))),r):s.a.createElement(M.a,{parent:this,visible:i,autoDestroy:!1,getComponent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(D({},t,{},a,{ref:e.savePortal}))},getContainer:this.getContainer,forceRender:o},function(t){var n=t.renderComponent,o=t.removeContainer;return e.renderComponent=n,e.removeContainer=o,null})}}])&&_(n.prototype,o),i&&_(n,i),t}();H.propTypes={wrapperClassName:S.a.string,forceRender:S.a.bool,getContainer:S.a.any,children:S.a.func,visible:S.a.bool};var K=Object(N.polyfill)(H);t.default=function(e){var t=e.visible,n=e.getContainer,o=e.forceRender;return!1===n?a.createElement(I,r()({},e,{getOpenCount:function(){return 2}})):a.createElement(K,{visible:t,forceRender:o,getContainer:n},function(t){return a.createElement(I,r()({},e,t))})}},78:function(e,t,n){"use strict";n.r(t);var o,i=n(11),r=n(53),a=n.n(r),s=(n(52),n(480)),c=n.n(s),l=(n(479),n(1)),u=n.n(l),d=(n(478),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=function(e){function t(t){var n=e.call(this,t)||this;return n.reset=function(e){var t=n.props.isMobile?3:15,o={size:t,renju:n.props.isMobile?3:5,showNumber:!1,step:0,positions:[],checkerboard:n.calculateCheckerboard(t)};e?n.setState(o):n.state=p({},o)},n.calculateCheckerboard=function(e){for(var t=[],n=0;n<e;n++){for(var o=[],i=0;i<e;i++)o.push({state:0,index:-1});t.push(o)}return t},n.mouseEnter=function(e){var t=e.rowIndex,o=e.itemIndex;n.setCheckerboard({state:1,rowIndex:t,itemIndex:o})},n.mouseLeave=function(e){var t=e.rowIndex,o=e.itemIndex;n.setCheckerboard({state:0,rowIndex:t,itemIndex:o})},n.itemClick=function(e){var t=e.rowIndex,o=e.itemIndex,i=n.state.step;n.setCheckerboard({state:i%2==1?3:2,rowIndex:t,itemIndex:o},!0)},n.setCheckerboard=function(e,t){var o=e.state,i=e.rowIndex,r=e.itemIndex,a=n.state,s=a.checkerboard,c=a.step,l=a.positions;2!==s[i][r].state&&3!==s[i][r].state&&(s[i][r]={state:o,index:t?c:-1},n.setState({checkerboard:s,step:t?c+1:c,positions:t?l.concat({row:i,column:r}):l},function(){return t&&!n.isWin({rowIndex:i,itemIndex:r,state:o})&&n.isPeace()}))},n.isPeace=function(){var e=n.state,t=e.size;t*t===e.step&&c.a.info({title:"Peace",content:"Draw"})},n.isWin=function(e){var t=e.rowIndex,o=e.itemIndex,i=e.state,r=n.isColumnWin({rowIndex:t,itemIndex:o,state:i})||n.isRowWin({rowIndex:t,itemIndex:o,state:i})||n.isSkewWin({rowIndex:t,itemIndex:o,state:i});return r&&c.a.info({title:"Victory",content:(2===i?"black":"white")+" wins"}),r},n.isColumnWin=function(e){for(var t=e.rowIndex,o=e.itemIndex,i=e.state,r=n.state,a=r.size,s=r.checkerboard,c=r.renju,l=0,u=-(c-1);u<=c-1&&(t+u>=0&&t+u<a&&s[t+u][o].state===i?l++:l=0,l!==c);u++);return l===c},n.isRowWin=function(e){for(var t=e.rowIndex,o=e.itemIndex,i=e.state,r=n.state,a=r.size,s=r.checkerboard,c=r.renju,l=0,u=-(c-1);u<=c-1&&(o+u>=0&&o+u<a&&s[t][o+u].state===i?l++:l=0,l!==c);u++);return l===c},n.isSkewWin=function(e){var t=e.rowIndex,o=e.itemIndex,i=e.state;return n.isDownLineWin({rowIndex:t,itemIndex:o,state:i})||n.isUpLineWin({rowIndex:t,itemIndex:o,state:i})},n.isDownLineWin=function(e){for(var t=e.rowIndex,o=e.itemIndex,i=e.state,r=n.state,a=r.size,s=r.checkerboard,c=r.renju,l=0,u=-(c-1);u<=c-1&&(o+u>=0&&o+u<a&&t+u>=0&&t+u<a&&s[t+u][o+u].state===i?l++:l=0,l!==c);u++);return l===c},n.isUpLineWin=function(e){for(var t=e.rowIndex,o=e.itemIndex,i=e.state,r=n.state,a=r.size,s=r.checkerboard,c=r.renju,l=0,u=-(c-1);u<=c-1&&(o+u>=0&&o+u<a&&t-u>=0&&t-u<a&&s[t-u][o+u].state===i?l++:l=0,l!==c);u++);return l===c},n.toggleShowNumber=function(){n.setState({showNumber:!n.state.showNumber})},n.retract=function(){var e=n.state,t=e.step,o=e.positions,i=e.checkerboard,r=o.pop(),a=r.row,s=r.column;i[a][s]={state:0,index:-1},n.setState({step:t-1,positions:o,checkerboard:i})},n.renderItem=function(e,t,o){var r=e.state,a=e.index,s=n.state,c=s.step,l=s.showNumber,d="";switch(r){case 1:d=c%2!=1?"chosen black":"chosen white";break;case 2:d="chosen black selected";break;case 3:d="chosen white selected"}return u.a.createElement("td",{className:"item",key:o,onClick:i.a.handle(n.itemClick,{rowIndex:t,itemIndex:o}),onMouseEnter:i.a.handle(n.mouseEnter,{rowIndex:t,itemIndex:o}),onMouseLeave:i.a.handle(n.mouseLeave,{rowIndex:t,itemIndex:o})},u.a.createElement("div",{className:d},l&&a>=0?a+1:""))},n.renderRow=function(e,t){return u.a.createElement("tr",{className:"row",key:t},e.map(function(e,o){return n.renderItem(e,t,o)}))},n.reset(),n}return d(t,e),t.prototype.render=function(){var e=this.state,t=e.checkerboard,n=e.showNumber,o=e.positions;return u.a.createElement("div",{className:"gobang-wrapper"},u.a.createElement("table",null,u.a.createElement("tbody",null,t.map(this.renderRow))),u.a.createElement("div",{className:"button-wrapper"},u.a.createElement(a.a,{type:"primary",disabled:0===o.length,onClick:this.reset},"Reset"),u.a.createElement(a.a,{type:"primary",onClick:this.toggleShowNumber},n?"Hide steps":"Show steps"),u.a.createElement(a.a,{type:"primary",disabled:0===o.length,onClick:this.retract},"Retract")))},t}(u.a.Component);t.default=i.a.connect({component:f,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);
//# sourceMappingURL=15.f7813fa4107030a55e77.bundle.js.map